function cancelEvent(e,t){e.returnValue=!1,e.preventDefault&&e.preventDefault(),t&&(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation())}function DragResize(e,t){var n={myName:e,enabled:!0,handles:["tl","tm","tr","ml","mr","bl","bm","br"],isElement:null,isHandle:null,element:null,handle:null,minWidth:10,minHeight:10,minLeft:0,maxLeft:9999,minTop:0,maxTop:9999,gridX:1,gridY:1,zIndex:1,mouseX:0,mouseY:0,lastMouseX:0,lastMouseY:0,mOffX:0,mOffY:0,elmX:0,elmY:0,elmW:0,elmH:0,allowBlur:!0,ondragfocus:null,ondragstart:null,ondragmove:null,ondragend:null,ondragblur:null};for(var i in n)this[i]="undefined"==typeof t[i]?n[i]:t[i]}function extendThreeJS(){THREE.Geometry.prototype.computeVertexNormalsByCreaseAngle=function(e){if(0!==this.faces.length){var t,n,i,o,r,s,a,l=Math.cos(THREE.Math.degToRad(e));for(s=new Array(this.vertices.length),t=0,n=this.vertices.length;t<n;t++)s[t]=[];for(i=0,o=this.faces.length;i<o;i++)r=this.faces[i],s[r.a].push(i),s[r.b].push(i),s[r.c].push(i);var c,d,u,h,p,f=["a","b","c"],m=new THREE.Vector3;for(i=0,o=this.faces.length;i<o;i++)for(r=this.faces[i],u=0;u<3;++u)if(a=s[r[f[u]]],a.length>1){for(m.set(0,0,0),h=0,p=a.length;h<p;++h)c=this.faces[a[h]],d=r.normal.dot(c.normal),d>l&&m.add(c.normal);m.normalize(),r.vertexNormals[u]=m.clone()}else r.vertexNormals[u]=r.normal;this.verticesNeedUpdate=!0}},THREE.Object3D.prototype.setVolumesPickId=function(e){var t=this;if(t){var n=new THREE.Color,i=this.surfaces||this.elements||this.edges;if(!i)return void console.warn("volume group not found");var o=t.pickMaterial,r=o.map;if(r){var s=t.volume;pickId=e.length,e.push(s),n.set(pickId);for(var a=r.image.data,l=0,c=i.length;l<c;l++){var d=i[l];a[4*l]=255*n.r,a[4*l+1]=255*n.g,a[4*l+2]=255*n.b,a[4*l+3]=255}r.needsUpdate=!0}var u=t.defaultMaterial&&t.defaultMaterial.map;if(u){for(var h=u.image.data,l=0,c=i.length;l<c;l++){var d=i[l];d.selected=!1,d.focused=!1,h[4*l]=CTX.ColorCodes.normal,h[4*l+1]=0,h[4*l+2]=0}u.needsUpdate=!0}}},THREE.Object3D.prototype.applyVolume=function(e){var t=this;if(t){var n=this.surfaces||this.elements||this.edges;if(!n)return void console.warn("volume group not found");var i=t.defaultMaterial.map;if(i){var o,r=i.image.data;o=e.selected?e.focused?CTX.ColorCodes.selectedFocused:CTX.ColorCodes.selected:e.focused?CTX.ColorCodes.focused:CTX.ColorCodes.normal;for(var s=e.visible?255:0,a=0,l=n.length;a<l;a++){var c=n[a];if(c.visible!==!1){var d=4*a;r[d+0]=o,r[d+3]=s}}i.needsUpdate=!0}var u=t.pickMaterial.map;if(u){for(var r=u.image.data,a=0,l=n.length;a<l;a++){var c=n[a];if(c.visible!==!1)var d=4*a}u.needsUpdate=!0}}},THREE.Object3D.prototype.applyObjectState=function(e){var t,n,i=this;t=1==e.selected?e.focused?CTX.ColorCodes.selectedFocused:CTX.ColorCodes.selected:e.focused?CTX.ColorCodes.focused:CTX.ColorCodes.normal,n=1==e.visible?255:0;var o=4*e.id,r=i.defaultMaterial;if(r&&r.map){var s=r.map.image.data;s[o+0]=t,s[o+1]=0,s[o+2]=0,s[o+3]=n,r.map.needsUpdate=!0}var a=i.pickMaterial;if(a&&a.map){var s=a.map.image.data;s[o+3]=n,i.pickMaterial.map.needsUpdate=!0}},THREE.Object3D.prototype.setSurfacesPickId=function(e){var t=this;if(t){var n=new THREE.Color,i=t.pickMaterial,o=i.map;if(o){for(var r,s,a=o.image.data,l=0,c=this.surfaces.length;l<c;l++)s=this.surfaces[l],r=e.length,e.push(s),n.set(r),a[4*l]=255*n.r,a[4*l+1]=255*n.g,a[4*l+2]=255*n.b,a[4*l+3]=255;o.needsUpdate=!0}}},THREE.Object3D.prototype.setElementsPickId=function(e){var t=this;if(t){var n=new THREE.Color,i=t.pickMaterial&&t.pickMaterial.map;if(i){for(var o,r=i.image.data,s=0,a=this.elements.length;s<a;s++){var l=this.elements[s];o=e.length,e.push(l),n.set(o),r[4*s]=255*n.r,r[4*s+1]=255*n.g,r[4*s+2]=255*n.b,r[4*s+3]=255}i.needsUpdate=!0}var c=t.defaultMaterial&&t.defaultMaterial.map;if(c){for(var d=c.image.data,s=0,a=this.elements.length;s<a;s++){var l=this.elements[s];l.selected=!1,l.focused=!1,d[4*s]=CTX.ColorCodes.normal,d[4*s+1]=0,d[4*s+2]=0}c.needsUpdate=!0}}},THREE.Object3D.prototype.setEdgesPickId=function(e){var t=this,n=new THREE.Color,i=t.edges,o=t.pickMaterial,r=o&&o.map;if(r){for(var s,a=t.geometry.attributes.position,l=i.length,c=(a.array.length/3,r.image.data),d=0;d<l;d++)s=e.length,e.push(i[d]),n.set(s),c[4*d]=255*n.r,c[4*d+1]=255*n.g,c[4*d+2]=255*n.b,c[4*d+3]=255;r.needsUpdate=!0}},THREE.Object3D.prototype.setPointsPickId=function(e){var t=this,n=new THREE.Color,i=t.pickMaterial,o=i&&i.map;if(o){for(var r,s=t.nodes||t.constraints,a=s.length,l=o.image.data,c=0;c<a;c++)r=e.length,e.push(s[c]),n.set(r),l[4*c]=255*n.r,l[4*c+1]=255*n.g,l[4*c+2]=255*n.b,l[4*c+3]=255;o.needsUpdate=!0}},THREE.Object3D.prototype.setGeometryByEntity=function(e){if(e){var t=this;if(t){var n=e.faces,i=t.surfaces,o=[];if(n.length>0)for(var r=0;r<i.length;r++)for(var s=i[r],a=0;a<n.length;a++){var l=n[a];l===s.name&&o.push(s)}CTX.controlSelection(o)}}},Array.prototype.fill||Object.defineProperty(Array.prototype,"fill",{value:function(e){if(null==this)throw new TypeError("this is null or not defined");for(var t=Object(this),n=t.length>>>0,i=arguments[1],o=i>>0,r=o<0?Math.max(n+o,0):Math.min(o,n),s=arguments[2],a=void 0===s?n:s>>0,l=a<0?Math.max(n+a,0):Math.min(a,n);r<l;)t[r]=e,r++;return t}})}function viewerRequest(e){console.log("[viewerRequest] start viewerRequest!!"),console.dir(e);var t=e.command.split(".")[0],n=e.command.split(".")[1],i=e.name,o=e.entity,r=(CTX.scene,CTX.geometry),s=CTX.mesh,a=CTX.sceneTree;if(!e)return void console.error("viewerRequest param is wrong..");if("add"===t)ext=i.substr(i.lastIndexOf(".")+1),"zip"!==ext?CTX.loadDataFromFile(e.url,e.command,i):CTX.loadDataFromFile(e.url,e.command,"");else if("remove"===t)CTX.removeObject(e.url,i);else if("current"===t){if("geometry"===n){var l=r.children;l.forEach(function(e){e.name===i&&(CTX.currGeo=e)}),CTX.currGeo&&console.log(CTX.currGeo.name+" is selected!")}else if("mesh"===n){var l=s.children;l.forEach(function(e){e.name===i&&(CTX.currrMesh=e)}),CTX.currrMesh&&console.log(CTX.currrMesh.name+" is selected!")}}else if("show"===t){if("geometry"===n||"mesh"===n){var c,d=CTX.treeNodeMap,u=d[i];c="geometry"===n?r.getObjectByName(i):s.getObjectByName(i),u||(u=c.nodeId);var h=a.getNodeById(u);h.visible=!0,c.visible=!0,a.updateNode(h,{},{shallowRendering:!0}),a.update()}else if("entity"===n&&o){var p=o.objs,c=CTX.scene.getObjectByName(o.geometry);c||(c=CTX.scene.getObjectByName(o.mesh));var f,m=c.topoData,g=o.type;CTX.selectedObjects=[],"surface"===g?f=m?m.surfaces:partObj.surfaces:"edge"===g?f=m?m.edges:partObj.edges:"node"===g?f=m?m.nodes:partObj.nodes:"cons"===g&&(f=m?m.constraints:partObj.constraints);for(var v=0;v<p.length;++v)for(var y=p[v],b=0;b<f.length;++b){var w=f[b];y===w.name&&CTX.selectedObjects.push(w)}CTX.toggleVisibleSelection(CTX.selectedObjects)}}else if("hide"===t){if("geometry"===n||"mesh"===n){var c,d=CTX.treeNodeMap,u=d[i];c="geometry"===n?r.getObjectByName(i):s.getObjectByName(i),u||(u=c.nodeId);var h=a.getNodeById(u);h.visible=!1,c.visible=!1,a.updateNode(h,{},{shallowRendering:!0}),a.update()}else if("entity"===n&&o){var p=o.objs,c=CTX.scene.getObjectByName(o.geometry);c||(c=CTX.scene.getObjectByName(o.mesh));var f,m=c.topoData,g=o.type;CTX.selectedObjects=[],"surface"===g?f=m?m.surfaces:partObj.surfaces:"edge"===g?f=m?m.edges:partObj.edges:"node"===g?f=m?m.nodes:partObj.nodes:"cons"===g&&(f=m?m.constraints:partObj.constraints);for(var v=0;v<p.length;++v)for(var y=p[v],b=0;b<f.length;++b){var w=f[b];y===w.name&&CTX.selectedObjects.push(w)}CTX.toggleVisibleSelection(CTX.selectedObjects)}}else if("select"===t)if("entity"===n){var c=CTX.scene.getObjectByName(o.geometry);c||(c=CTX.scene.getObjectByName(o.mesh));var p=[],g=e.entity.type,m=c.topoData;CTX.selectedObjects=[],"surface"===g?p=m?m.surfaces:partObj.surfaces:"edge"===g?p=m?m.edges:partObj.edges:"node"===g?p=m?m.nodes:partObj.nodes:"cons"===g&&(p=m?m.constraints:partObj.constraints);for(var v=0;v<p.length;++v)for(var c=p[v],b=0;b<o.objs.length;++b){var i=o.objs[b];i===c.name&&(c.selected=!0,CTX.selectedObjects.push(c))}CTX.controlSelection(CTX.selectedObjects)}else if("geometry"===n||"mesh"===n){CTX.changeSceneMode(n);var x=a.getRootNode().children,_=x[0],C=x[1];"geometry"===n?(_.state.selected=!0,C.state.selected=!1):"mesh"===n&&(_.state.selected=!1,C.state.selected=!0),a.updateNode(_,{},{shallowRendering:!0}),a.updateNode(C,{},{shallowRendering:!0}),a.update()}else console.error("target is not set");else if("append"===t)return console.dir(e),CTX.loadBlobData(e.url,e.command,e.data)}function makeEntitySet(e){var t=$("#textBox").val(),n=CTX.currPartObj;if(0===CTX.selectedObjects.length||!CTX.currPartObj){var i={error:"select first"};return void(parent&&parent.sendEditorPortlet&&parent.sendEditorPortlet("makeEntitySet",i))}var o=n.parent.name,r=CTX.pickMode,s="",a="",l=CTX.selectedObjects.map(function(e){return e.name}),i={id:e,name:t||"",objs:l,partObject:n.name},c=CTX.geometry.getObjectByName(n.name);if(s=c?"geometry":"mesh","PickSurfaces"===r?a="surface":"PickEdges"===r?a="edge":"PickNodes"===r&&(n.constraints?a="cons":n.nodes&&(a="node")),i[s]=o,i.type=a,i.id=e,!CTX.devMode&&0===CTX.selectedNodes.length){var i={error:"Unsupported type"};return void parent.sendEditorPortlet("makeEntitySet",i)}if(parent&&parent.sendEditorPortlet)if(l[0].indexOf("Element-")>-1){var i={error:"Unsupported format"};parent.sendEditorPortlet("makeEntitySet",i)}else parent.sendEditorPortlet("makeEntitySet",i);console.dir(i);CTX.changeSelectionMode("clearSelection",CTX.selectedObjects),CTX.selectedObjects=[]}function getSceneInfo(){var e=CTX.camera,t=CTX.controls,n={camera:{}};return n.camera.position=e.position,n.camera.center=t.target,n}if(!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=oe.type(e);return"function"!==n&&!oe.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e))}function i(e,t,n){if(oe.isFunction(t))return oe.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return oe.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(he.test(t))return oe.filter(t,e,n);t=oe.filter(t,e)}return oe.grep(e,function(e){return oe.inArray(e,t)>=0!==n})}function o(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function r(e){var t=we[e]={};return oe.each(e.match(be)||[],function(e,n){t[n]=!0}),t}function s(){fe.addEventListener?(fe.removeEventListener("DOMContentLoaded",a,!1),e.removeEventListener("load",a,!1)):(fe.detachEvent("onreadystatechange",a),e.detachEvent("onload",a))}function a(){(fe.addEventListener||"load"===event.type||"complete"===fe.readyState)&&(s(),oe.ready())}function l(e,t,n){if(void 0===n&&1===e.nodeType){var i="data-"+t.replace(Ee,"-$1").toLowerCase();if(n=e.getAttribute(i),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Te.test(n)?oe.parseJSON(n):n)}catch(o){}oe.data(e,t,n)}else n=void 0}return n}function c(e){var t;for(t in e)if(("data"!==t||!oe.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function d(e,t,n,i){if(oe.acceptData(e)){var o,r,s=oe.expando,a=e.nodeType,l=a?oe.cache:e,c=a?e[s]:e[s]&&s;if(c&&l[c]&&(i||l[c].data)||void 0!==n||"string"!=typeof t)return c||(c=a?e[s]=Y.pop()||oe.guid++:s),l[c]||(l[c]=a?{}:{toJSON:oe.noop}),("object"==typeof t||"function"==typeof t)&&(i?l[c]=oe.extend(l[c],t):l[c].data=oe.extend(l[c].data,t)),r=l[c],i||(r.data||(r.data={}),r=r.data),void 0!==n&&(r[oe.camelCase(t)]=n),"string"==typeof t?(o=r[t],null==o&&(o=r[oe.camelCase(t)])):o=r,o}}function u(e,t,n){if(oe.acceptData(e)){var i,o,r=e.nodeType,s=r?oe.cache:e,a=r?e[oe.expando]:oe.expando;if(s[a]){if(t&&(i=n?s[a]:s[a].data)){oe.isArray(t)?t=t.concat(oe.map(t,oe.camelCase)):t in i?t=[t]:(t=oe.camelCase(t),t=t in i?[t]:t.split(" ")),o=t.length;for(;o--;)delete i[t[o]];if(n?!c(i):!oe.isEmptyObject(i))return}(n||(delete s[a].data,c(s[a])))&&(r?oe.cleanData([e],!0):ne.deleteExpando||s!=s.window?delete s[a]:s[a]=null)}}}function h(){return!0}function p(){return!1}function f(){try{return fe.activeElement}catch(e){}}function m(e){var t=Me.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function g(e,t){var n,i,o=0,r=typeof e.getElementsByTagName!==Ce?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==Ce?e.querySelectorAll(t||"*"):void 0;if(!r)for(r=[],n=e.childNodes||e;null!=(i=n[o]);o++)!t||oe.nodeName(i,t)?r.push(i):oe.merge(r,g(i,t));return void 0===t||t&&oe.nodeName(e,t)?oe.merge([e],r):r}function v(e){Ae.test(e.type)&&(e.defaultChecked=e.checked)}function y(e,t){return oe.nodeName(e,"table")&&oe.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==oe.find.attr(e,"type"))+"/"+e.type,e}function w(e){var t=qe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function x(e,t){for(var n,i=0;null!=(n=e[i]);i++)oe._data(n,"globalEval",!t||oe._data(t[i],"globalEval"))}function _(e,t){if(1===t.nodeType&&oe.hasData(e)){var n,i,o,r=oe._data(e),s=oe._data(t,r),a=r.events;if(a){delete s.handle,s.events={};for(n in a)for(i=0,o=a[n].length;o>i;i++)oe.event.add(t,n,a[n][i])}s.data&&(s.data=oe.extend({},s.data))}}function C(e,t){var n,i,o;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ne.noCloneEvent&&t[oe.expando]){o=oe._data(t);for(i in o.events)oe.removeEvent(t,i,o.handle);t.removeAttribute(oe.expando)}"script"===n&&t.text!==e.text?(b(t).text=e.text,w(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ne.html5Clone&&e.innerHTML&&!oe.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Ae.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function T(t,n){var i,o=oe(n.createElement(t)).appendTo(n.body),r=e.getDefaultComputedStyle&&(i=e.getDefaultComputedStyle(o[0]))?i.display:oe.css(o[0],"display");return o.detach(),r}function E(e){var t=fe,n=Je[e];return n||(n=T(e,t),"none"!==n&&n||(Ke=(Ke||oe("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Ke[0].contentWindow||Ke[0].contentDocument).document,t.write(),t.close(),n=T(e,t),Ke.detach()),Je[e]=n),n}function k(e,t){return{get:function(){var n=e();if(null!=n)return n?void delete this.get:(this.get=t).apply(this,arguments)}}}function S(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,o=ht.length;o--;)if(t=ht[o]+n,t in e)return t;return i}function N(e,t){for(var n,i,o,r=[],s=0,a=e.length;a>s;s++)i=e[s],i.style&&(r[s]=oe._data(i,"olddisplay"),n=i.style.display,t?(r[s]||"none"!==n||(i.style.display=""),""===i.style.display&&Ne(i)&&(r[s]=oe._data(i,"olddisplay",E(i.nodeName)))):(o=Ne(i),(n&&"none"!==n||!o)&&oe._data(i,"olddisplay",o?n:oe.css(i,"display"))));for(s=0;a>s;s++)i=e[s],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?r[s]||"":"none"));return e}function O(e,t,n){var i=lt.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function A(e,t,n,i,o){for(var r=n===(i?"border":"content")?4:"width"===t?1:0,s=0;4>r;r+=2)"margin"===n&&(s+=oe.css(e,n+Se[r],!0,o)),i?("content"===n&&(s-=oe.css(e,"padding"+Se[r],!0,o)),"margin"!==n&&(s-=oe.css(e,"border"+Se[r]+"Width",!0,o))):(s+=oe.css(e,"padding"+Se[r],!0,o),"padding"!==n&&(s+=oe.css(e,"border"+Se[r]+"Width",!0,o)));return s}function R(e,t,n){var i=!0,o="width"===t?e.offsetWidth:e.offsetHeight,r=et(e),s=ne.boxSizing&&"border-box"===oe.css(e,"boxSizing",!1,r);if(0>=o||null==o){if(o=tt(e,t,r),(0>o||null==o)&&(o=e.style[t]),it.test(o))return o;i=s&&(ne.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0}return o+A(e,t,n||(s?"border":"content"),i,r)+"px"}function X(e,t,n,i,o){return new X.prototype.init(e,t,n,i,o)}function D(){return setTimeout(function(){pt=void 0}),pt=oe.now()}function I(e,t){var n,i={height:e},o=0;for(t=t?1:0;4>o;o+=2-t)n=Se[o],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function j(e,t,n){for(var i,o=(bt[t]||[]).concat(bt["*"]),r=0,s=o.length;s>r;r++)if(i=o[r].call(n,t,e))return i}function M(e,t,n){var i,o,r,s,a,l,c,d,u=this,h={},p=e.style,f=e.nodeType&&Ne(e),m=oe._data(e,"fxshow");n.queue||(a=oe._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,u.always(function(){u.always(function(){a.unqueued--,oe.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],c=oe.css(e,"display"),d="none"===c?oe._data(e,"olddisplay")||E(e.nodeName):c,"inline"===d&&"none"===oe.css(e,"float")&&(ne.inlineBlockNeedsLayout&&"inline"!==E(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",ne.shrinkWrapBlocks()||u.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in t)if(o=t[i],mt.exec(o)){if(delete t[i],r=r||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!m||void 0===m[i])continue;f=!0}h[i]=m&&m[i]||oe.style(e,i)}else c=void 0;if(oe.isEmptyObject(h))"inline"===("none"===c?E(e.nodeName):c)&&(p.display=c);else{m?"hidden"in m&&(f=m.hidden):m=oe._data(e,"fxshow",{}),r&&(m.hidden=!f),f?oe(e).show():u.done(function(){oe(e).hide()}),u.done(function(){var t;oe._removeData(e,"fxshow");for(t in h)oe.style(e,t,h[t])});for(i in h)s=j(f?m[i]:0,i,u),i in m||(m[i]=s.start,f&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function P(e,t){var n,i,o,r,s;for(n in e)if(i=oe.camelCase(n),o=t[i],r=e[n],oe.isArray(r)&&(o=r[1],r=e[n]=r[0]),n!==i&&(e[i]=r,delete e[n]),s=oe.cssHooks[i],s&&"expand"in s){r=s.expand(r),delete e[i];for(n in r)n in e||(e[n]=r[n],t[n]=o)}else t[i]=o}function L(e,t,n){var i,o,r=0,s=yt.length,a=oe.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=pt||D(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,r=1-i,s=0,l=c.tweens.length;l>s;s++)c.tweens[s].run(r);return a.notifyWith(e,[c,r,n]),1>r&&l?n:(a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:oe.extend({},t),opts:oe.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:pt||D(),duration:n.duration,tweens:[],createTween:function(t,n){var i=oe.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(o)return this;for(o=!0;i>n;n++)c.tweens[n].run(1);return t?a.resolveWith(e,[c,t]):a.rejectWith(e,[c,t]),this}}),d=c.props;for(P(d,c.opts.specialEasing);s>r;r++)if(i=yt[r].call(c,e,d,c.opts))return i;return oe.map(d,j,c),oe.isFunction(c.opts.start)&&c.opts.start.call(e,c),oe.fx.timer(oe.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function $(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,o=0,r=t.toLowerCase().match(be)||[];if(oe.isFunction(n))for(;i=r[o++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function z(e,t,n,i){function o(a){var l;return r[a]=!0,oe.each(e[a]||[],function(e,a){var c=a(t,n,i);return"string"!=typeof c||s||r[c]?s?!(l=c):void 0:(t.dataTypes.unshift(c),o(c),!1)}),l}var r={},s=e===Bt;return o(t.dataTypes[0])||!r["*"]&&o("*")}function F(e,t){var n,i,o=oe.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((o[i]?e:n||(n={}))[i]=t[i]);return n&&oe.extend(!0,e,n),e}function H(e,t,n){for(var i,o,r,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===o&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(s in a)if(a[s]&&a[s].test(o)){l.unshift(s);break}if(l[0]in n)r=l[0];else{for(s in n){if(!l[0]||e.converters[s+" "+l[0]]){r=s;break}i||(i=s)}r=r||i}return r?(r!==l[0]&&l.unshift(r),n[r]):void 0}function B(e,t,n,i){var o,r,s,a,l,c={},d=e.dataTypes.slice();if(d[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(r=d.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=d.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(s=c[l+" "+r]||c["* "+r],!s)for(o in c)if(a=o.split(" "),a[1]===r&&(s=c[l+" "+a[0]]||c["* "+a[0]])){s===!0?s=c[o]:c[o]!==!0&&(r=a[0],d.unshift(a[1]));break}if(s!==!0)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(u){return{state:"parsererror",error:s?u:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}function U(e,t,n,i){var o;if(oe.isArray(t))oe.each(t,function(t,o){n||qt.test(e)?i(e,o):U(e+"["+("object"==typeof o?t:"")+"]",o,n,i)});else if(n||"object"!==oe.type(t))i(e,t);else for(o in t)U(e+"["+o+"]",t[o],n,i)}function W(){try{return new e.XMLHttpRequest}catch(t){}}function V(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function q(e){return oe.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var Y=[],G=Y.slice,Z=Y.concat,Q=Y.push,K=Y.indexOf,J={},ee=J.toString,te=J.hasOwnProperty,ne={},ie="1.11.2",oe=function(e,t){return new oe.fn.init(e,t)},re=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,se=/^-ms-/,ae=/-([\da-z])/gi,le=function(e,t){return t.toUpperCase()};oe.fn=oe.prototype={jquery:ie,constructor:oe,selector:"",length:0,toArray:function(){return G.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:G.call(this)},pushStack:function(e){var t=oe.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return oe.each(this,e,t)},map:function(e){return this.pushStack(oe.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(G.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Q,sort:Y.sort,splice:Y.splice},oe.extend=oe.fn.extend=function(){var e,t,n,i,o,r,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||oe.isFunction(s)||(s={}),a===l&&(s=this,a--);l>a;a++)if(null!=(o=arguments[a]))for(i in o)e=s[i],n=o[i],s!==n&&(c&&n&&(oe.isPlainObject(n)||(t=oe.isArray(n)))?(t?(t=!1,r=e&&oe.isArray(e)?e:[]):r=e&&oe.isPlainObject(e)?e:{},s[i]=oe.extend(c,r,n)):void 0!==n&&(s[i]=n));return s},oe.extend({expando:"jQuery"+(ie+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===oe.type(e)},isArray:Array.isArray||function(e){return"array"===oe.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!oe.isArray(e)&&e-parseFloat(e)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==oe.type(e)||e.nodeType||oe.isWindow(e))return!1;try{if(e.constructor&&!te.call(e,"constructor")&&!te.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(ne.ownLast)for(t in e)return te.call(e,t);for(t in e);return void 0===t||te.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?J[ee.call(e)]||"object":typeof e},globalEval:function(t){t&&oe.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(se,"ms-").replace(ae,le)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var o,r=0,s=e.length,a=n(e);if(i){if(a)for(;s>r&&(o=t.apply(e[r],i),o!==!1);r++);else for(r in e)if(o=t.apply(e[r],i),o===!1)break}else if(a)for(;s>r&&(o=t.call(e[r],r,e[r]),o!==!1);r++);else for(r in e)if(o=t.call(e[r],r,e[r]),o===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(re,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?oe.merge(i,"string"==typeof e?[e]:e):Q.call(i,e)),i},inArray:function(e,t,n){var i;if(t){if(K)return K.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,i=0,o=e.length;n>i;)e[o++]=t[i++];if(n!==n)for(;void 0!==t[i];)e[o++]=t[i++];return e.length=o,e},grep:function(e,t,n){for(var i,o=[],r=0,s=e.length,a=!n;s>r;r++)i=!t(e[r],r),i!==a&&o.push(e[r]);return o},map:function(e,t,i){var o,r=0,s=e.length,a=n(e),l=[];if(a)for(;s>r;r++)o=t(e[r],r,i),null!=o&&l.push(o);else for(r in e)o=t(e[r],r,i),null!=o&&l.push(o);return Z.apply([],l)},guid:1,proxy:function(e,t){var n,i,o;return"string"==typeof t&&(o=e[t],t=e,e=o),oe.isFunction(e)?(n=G.call(arguments,2),i=function(){return e.apply(t||this,n.concat(G.call(arguments)))},i.guid=e.guid=e.guid||oe.guid++,i):void 0},now:function(){return+new Date},support:ne}),oe.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){J["[object "+t+"]"]=t.toLowerCase()});var ce=function(e){function t(e,t,n,i){var o,r,s,a,l,c,u,p,f,m;if((t?t.ownerDocument||t:z)!==X&&R(t),t=t||X,n=n||[],a=t.nodeType,"string"!=typeof e||!e||1!==a&&9!==a&&11!==a)return n;if(!i&&I){if(11!==a&&(o=ye.exec(e)))if(s=o[1]){if(9===a){if(r=t.getElementById(s),!r||!r.parentNode)return n;if(r.id===s)return n.push(r),n}else if(t.ownerDocument&&(r=t.ownerDocument.getElementById(s))&&L(t,r)&&r.id===s)return n.push(r),n}else{if(o[2])return K.apply(n,t.getElementsByTagName(e)),n;if((s=o[3])&&x.getElementsByClassName)return K.apply(n,t.getElementsByClassName(s)),n}if(x.qsa&&(!j||!j.test(e))){if(p=u=$,f=t,m=1!==a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(c=E(e),(u=t.getAttribute("id"))?p=u.replace(we,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",l=c.length;l--;)c[l]=p+h(c[l]);f=be.test(e)&&d(t.parentNode)||t,m=c.join(",")}if(m)try{return K.apply(n,f.querySelectorAll(m)),n}catch(g){}finally{u||t.removeAttribute("id")}}}return S(e.replace(le,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>_.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[$]=!0,e}function o(e){var t=X.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function r(e,t){for(var n=e.split("|"),i=e.length;i--;)_.attrHandle[n[i]]=t}function s(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||q)-(~e.sourceIndex||q);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return i(function(t){return t=+t,i(function(n,i){for(var o,r=e([],n.length,t),s=r.length;s--;)n[o=r[s]]&&(n[o]=!(i[o]=n[o]))})})}function d(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function u(){}function h(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function p(e,t,n){var i=t.dir,o=n&&"parentNode"===i,r=H++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||o)return e(t,n,r)}:function(t,n,s){var a,l,c=[F,r];if(s){for(;t=t[i];)if((1===t.nodeType||o)&&e(t,n,s))return!0}else for(;t=t[i];)if(1===t.nodeType||o){if(l=t[$]||(t[$]={}),(a=l[i])&&a[0]===F&&a[1]===r)return c[2]=a[2];if(l[i]=c,c[2]=e(t,n,s))return!0}}}function f(e){return e.length>1?function(t,n,i){for(var o=e.length;o--;)if(!e[o](t,n,i))return!1;return!0}:e[0]}function m(e,n,i){for(var o=0,r=n.length;r>o;o++)t(e,n[o],i);return i}function g(e,t,n,i,o){for(var r,s=[],a=0,l=e.length,c=null!=t;l>a;a++)(r=e[a])&&(!n||n(r,i,o))&&(s.push(r),c&&t.push(a));return s}function v(e,t,n,o,r,s){return o&&!o[$]&&(o=v(o)),r&&!r[$]&&(r=v(r,s)),i(function(i,s,a,l){var c,d,u,h=[],p=[],f=s.length,v=i||m(t||"*",a.nodeType?[a]:a,[]),y=!e||!i&&t?v:g(v,h,e,a,l),b=n?r||(i?e:f||o)?[]:s:y;if(n&&n(y,b,a,l),o)for(c=g(b,p),o(c,[],a,l),d=c.length;d--;)(u=c[d])&&(b[p[d]]=!(y[p[d]]=u));if(i){if(r||e){if(r){for(c=[],d=b.length;d--;)(u=b[d])&&c.push(y[d]=u);r(null,b=[],c,l)}for(d=b.length;d--;)(u=b[d])&&(c=r?ee(i,u):h[d])>-1&&(i[c]=!(s[c]=u))}}else b=g(b===s?b.splice(f,b.length):b),r?r(null,s,b,l):K.apply(s,b)})}function y(e){for(var t,n,i,o=e.length,r=_.relative[e[0].type],s=r||_.relative[" "],a=r?1:0,l=p(function(e){return e===t},s,!0),c=p(function(e){return ee(t,e)>-1},s,!0),d=[function(e,n,i){var o=!r&&(i||n!==N)||((t=n).nodeType?l(e,n,i):c(e,n,i));return t=null,o}];o>a;a++)if(n=_.relative[e[a].type])d=[p(f(d),n)];else{if(n=_.filter[e[a].type].apply(null,e[a].matches),n[$]){for(i=++a;o>i&&!_.relative[e[i].type];i++);return v(a>1&&f(d),a>1&&h(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(le,"$1"),n,i>a&&y(e.slice(a,i)),o>i&&y(e=e.slice(i)),o>i&&h(e))}d.push(n)}return f(d)}function b(e,n){var o=n.length>0,r=e.length>0,s=function(i,s,a,l,c){var d,u,h,p=0,f="0",m=i&&[],v=[],y=N,b=i||r&&_.find.TAG("*",c),w=F+=null==y?1:Math.random()||.1,x=b.length;for(c&&(N=s!==X&&s);f!==x&&null!=(d=b[f]);f++){if(r&&d){for(u=0;h=e[u++];)if(h(d,s,a)){l.push(d);break}c&&(F=w)}o&&((d=!h&&d)&&p--,i&&m.push(d))}if(p+=f,o&&f!==p){for(u=0;h=n[u++];)h(m,v,s,a);if(i){if(p>0)for(;f--;)m[f]||v[f]||(v[f]=Z.call(l));v=g(v)}K.apply(l,v),c&&!i&&v.length>0&&p+n.length>1&&t.uniqueSort(l)}return c&&(F=w,N=y),m};return o?i(s):s}var w,x,_,C,T,E,k,S,N,O,A,R,X,D,I,j,M,P,L,$="sizzle"+1*new Date,z=e.document,F=0,H=0,B=n(),U=n(),W=n(),V=function(e,t){return e===t&&(A=!0),0},q=1<<31,Y={}.hasOwnProperty,G=[],Z=G.pop,Q=G.push,K=G.push,J=G.slice,ee=function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",oe=ie.replace("w","w#"),re="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+oe+"))|)"+ne+"*\\]",se=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),le=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ce=new RegExp("^"+ne+"*,"+ne+"*"),de=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ue=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),he=new RegExp(se),pe=new RegExp("^"+oe+"$"),fe={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie.replace("w","w*")+")"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,we=/'|\\/g,xe=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),_e=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},Ce=function(){R()};try{K.apply(G=J.call(z.childNodes),z.childNodes),G[z.childNodes.length].nodeType}catch(Te){K={apply:G.length?function(e,t){Q.apply(e,J.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}x=t.support={},T=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},R=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:z;return i!==X&&9===i.nodeType&&i.documentElement?(X=i,D=i.documentElement,n=i.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ce,!1):n.attachEvent&&n.attachEvent("onunload",Ce)),I=!T(i),x.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=o(function(e){return e.appendChild(i.createComment("")),
!e.getElementsByTagName("*").length}),x.getElementsByClassName=ve.test(i.getElementsByClassName),x.getById=o(function(e){return D.appendChild(e).id=$,!i.getElementsByName||!i.getElementsByName($).length}),x.getById?(_.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&I){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},_.filter.ID=function(e){var t=e.replace(xe,_e);return function(e){return e.getAttribute("id")===t}}):(delete _.find.ID,_.filter.ID=function(e){var t=e.replace(xe,_e);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),_.find.TAG=x.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):x.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],o=0,r=t.getElementsByTagName(e);if("*"===e){for(;n=r[o++];)1===n.nodeType&&i.push(n);return i}return r},_.find.CLASS=x.getElementsByClassName&&function(e,t){return I?t.getElementsByClassName(e):void 0},M=[],j=[],(x.qsa=ve.test(i.querySelectorAll))&&(o(function(e){D.appendChild(e).innerHTML="<a id='"+$+"'></a><select id='"+$+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&j.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||j.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+$+"-]").length||j.push("~="),e.querySelectorAll(":checked").length||j.push(":checked"),e.querySelectorAll("a#"+$+"+*").length||j.push(".#.+[+~]")}),o(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&j.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||j.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),j.push(",.*:")})),(x.matchesSelector=ve.test(P=D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&o(function(e){x.disconnectedMatch=P.call(e,"div"),P.call(e,"[s!='']:x"),M.push("!=",se)}),j=j.length&&new RegExp(j.join("|")),M=M.length&&new RegExp(M.join("|")),t=ve.test(D.compareDocumentPosition),L=t||ve.test(D.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return A=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!x.sortDetached&&t.compareDocumentPosition(e)===n?e===i||e.ownerDocument===z&&L(z,e)?-1:t===i||t.ownerDocument===z&&L(z,t)?1:O?ee(O,e)-ee(O,t):0:4&n?-1:1)}:function(e,t){if(e===t)return A=!0,0;var n,o=0,r=e.parentNode,a=t.parentNode,l=[e],c=[t];if(!r||!a)return e===i?-1:t===i?1:r?-1:a?1:O?ee(O,e)-ee(O,t):0;if(r===a)return s(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;l[o]===c[o];)o++;return o?s(l[o],c[o]):l[o]===z?-1:c[o]===z?1:0},i):X},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==X&&R(e),n=n.replace(ue,"='$1']"),!(!x.matchesSelector||!I||M&&M.test(n)||j&&j.test(n)))try{var i=P.call(e,n);if(i||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(o){}return t(n,X,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==X&&R(e),L(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==X&&R(e);var n=_.attrHandle[t.toLowerCase()],i=n&&Y.call(_.attrHandle,t.toLowerCase())?n(e,t,!I):void 0;return void 0!==i?i:x.attributes||!I?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,o=0;if(A=!x.detectDuplicates,O=!x.sortStable&&e.slice(0),e.sort(V),A){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)e.splice(n[i],1)}return O=null,e},C=t.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=C(t);return n},_=t.selectors={cacheLength:50,createPseudo:i,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xe,_e),e[3]=(e[3]||e[4]||e[5]||"").replace(xe,_e),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&he.test(n)&&(t=E(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(xe,_e).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=B[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&B(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(o){var r=t.attr(o,e);return null==r?"!="===n:!n||(r+="","="===n?r===i:"!="===n?r!==i:"^="===n?i&&0===r.indexOf(i):"*="===n?i&&r.indexOf(i)>-1:"$="===n?i&&r.slice(-i.length)===i:"~="===n?(" "+r.replace(ae," ")+" ").indexOf(i)>-1:"|="===n&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,n,i,o){var r="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var c,d,u,h,p,f,m=r!==s?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!l&&!a;if(g){if(r){for(;m;){for(u=t;u=u[m];)if(a?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&y){for(d=g[$]||(g[$]={}),c=d[e]||[],p=c[0]===F&&c[1],h=c[0]===F&&c[2],u=p&&g.childNodes[p];u=++p&&u&&u[m]||(h=p=0)||f.pop();)if(1===u.nodeType&&++h&&u===t){d[e]=[F,p,h];break}}else if(y&&(c=(t[$]||(t[$]={}))[e])&&c[0]===F)h=c[1];else for(;(u=++p&&u&&u[m]||(h=p=0)||f.pop())&&((a?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++h||(y&&((u[$]||(u[$]={}))[e]=[F,h]),u!==t)););return h-=o,h===i||h%i===0&&h/i>=0}}},PSEUDO:function(e,n){var o,r=_.pseudos[e]||_.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return r[$]?r(n):r.length>1?(o=[e,e,"",n],_.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,o=r(e,n),s=o.length;s--;)i=ee(e,o[s]),e[i]=!(t[i]=o[s])}):function(e){return r(e,0,o)}):r}},pseudos:{not:i(function(e){var t=[],n=[],o=k(e.replace(le,"$1"));return o[$]?i(function(e,t,n,i){for(var r,s=o(e,null,i,[]),a=e.length;a--;)(r=s[a])&&(e[a]=!(t[a]=r))}):function(e,i,r){return t[0]=e,o(t,null,r,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(xe,_e),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:i(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(xe,_e).toLowerCase(),function(t){var n;do if(n=I?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===D},focus:function(e){return e===X.activeElement&&(!X.hasFocus||X.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!_.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[0>n?n+t:n]}),even:c(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:c(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},_.pseudos.nth=_.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[w]=a(w);for(w in{submit:!0,reset:!0})_.pseudos[w]=l(w);return u.prototype=_.filters=_.pseudos,_.setFilters=new u,E=t.tokenize=function(e,n){var i,o,r,s,a,l,c,d=U[e+" "];if(d)return n?0:d.slice(0);for(a=e,l=[],c=_.preFilter;a;){(!i||(o=ce.exec(a)))&&(o&&(a=a.slice(o[0].length)||a),l.push(r=[])),i=!1,(o=de.exec(a))&&(i=o.shift(),r.push({value:i,type:o[0].replace(le," ")}),a=a.slice(i.length));for(s in _.filter)!(o=fe[s].exec(a))||c[s]&&!(o=c[s](o))||(i=o.shift(),r.push({value:i,type:s,matches:o}),a=a.slice(i.length));if(!i)break}return n?a.length:a?t.error(e):U(e,l).slice(0)},k=t.compile=function(e,t){var n,i=[],o=[],r=W[e+" "];if(!r){for(t||(t=E(e)),n=t.length;n--;)r=y(t[n]),r[$]?i.push(r):o.push(r);r=W(e,b(o,i)),r.selector=e}return r},S=t.select=function(e,t,n,i){var o,r,s,a,l,c="function"==typeof e&&e,u=!i&&E(e=c.selector||e);if(n=n||[],1===u.length){if(r=u[0]=u[0].slice(0),r.length>2&&"ID"===(s=r[0]).type&&x.getById&&9===t.nodeType&&I&&_.relative[r[1].type]){if(t=(_.find.ID(s.matches[0].replace(xe,_e),t)||[])[0],!t)return n;c&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(o=fe.needsContext.test(e)?0:r.length;o--&&(s=r[o],!_.relative[a=s.type]);)if((l=_.find[a])&&(i=l(s.matches[0].replace(xe,_e),be.test(r[0].type)&&d(t.parentNode)||t))){if(r.splice(o,1),e=i.length&&h(r),!e)return K.apply(n,i),n;break}}return(c||k(e,u))(i,t,!I,n,be.test(e)&&d(t.parentNode)||t),n},x.sortStable=$.split("").sort(V).join("")===$,x.detectDuplicates=!!A,R(),x.sortDetached=o(function(e){return 1&e.compareDocumentPosition(X.createElement("div"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||r("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),x.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||r("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||r(te,function(e,t,n){var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);oe.find=ce,oe.expr=ce.selectors,oe.expr[":"]=oe.expr.pseudos,oe.unique=ce.uniqueSort,oe.text=ce.getText,oe.isXMLDoc=ce.isXML,oe.contains=ce.contains;var de=oe.expr.match.needsContext,ue=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,he=/^.[^:#\[\.,]*$/;oe.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?oe.find.matchesSelector(i,e)?[i]:[]:oe.find.matches(e,oe.grep(t,function(e){return 1===e.nodeType}))},oe.fn.extend({find:function(e){var t,n=[],i=this,o=i.length;if("string"!=typeof e)return this.pushStack(oe(e).filter(function(){for(t=0;o>t;t++)if(oe.contains(i[t],this))return!0}));for(t=0;o>t;t++)oe.find(e,i[t],n);return n=this.pushStack(o>1?oe.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&de.test(e)?oe(e):e||[],!1).length}});var pe,fe=e.document,me=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ge=oe.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:me.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||pe).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof oe?t[0]:t,oe.merge(this,oe.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:fe,!0)),ue.test(n[1])&&oe.isPlainObject(t))for(n in t)oe.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(i=fe.getElementById(n[2]),i&&i.parentNode){if(i.id!==n[2])return pe.find(e);this.length=1,this[0]=i}return this.context=fe,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):oe.isFunction(e)?"undefined"!=typeof pe.ready?pe.ready(e):e(oe):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),oe.makeArray(e,this))};ge.prototype=oe.fn,pe=oe(fe);var ve=/^(?:parents|prev(?:Until|All))/,ye={children:!0,contents:!0,next:!0,prev:!0};oe.extend({dir:function(e,t,n){for(var i=[],o=e[t];o&&9!==o.nodeType&&(void 0===n||1!==o.nodeType||!oe(o).is(n));)1===o.nodeType&&i.push(o),o=o[t];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),oe.fn.extend({has:function(e){var t,n=oe(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(oe.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,i=0,o=this.length,r=[],s=de.test(e)||"string"!=typeof e?oe(e,t||this.context):0;o>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&oe.find.matchesSelector(n,e))){r.push(n);break}return this.pushStack(r.length>1?oe.unique(r):r)},index:function(e){return e?"string"==typeof e?oe.inArray(this[0],oe(e)):oe.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(oe.unique(oe.merge(this.get(),oe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),oe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return oe.dir(e,"parentNode")},parentsUntil:function(e,t,n){return oe.dir(e,"parentNode",n)},next:function(e){return o(e,"nextSibling")},prev:function(e){return o(e,"previousSibling")},nextAll:function(e){return oe.dir(e,"nextSibling")},prevAll:function(e){return oe.dir(e,"previousSibling")},nextUntil:function(e,t,n){return oe.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return oe.dir(e,"previousSibling",n)},siblings:function(e){return oe.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return oe.sibling(e.firstChild)},contents:function(e){return oe.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:oe.merge([],e.childNodes)}},function(e,t){oe.fn[e]=function(n,i){var o=oe.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=oe.filter(i,o)),this.length>1&&(ye[e]||(o=oe.unique(o)),ve.test(e)&&(o=o.reverse())),this.pushStack(o)}});var be=/\S+/g,we={};oe.Callbacks=function(e){e="string"==typeof e?we[e]||r(e):oe.extend({},e);var t,n,i,o,s,a,l=[],c=!e.once&&[],d=function(r){for(n=e.memory&&r,i=!0,s=a||0,a=0,o=l.length,t=!0;l&&o>s;s++)if(l[s].apply(r[0],r[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,l&&(c?c.length&&d(c.shift()):n?l=[]:u.disable())},u={add:function(){if(l){var i=l.length;!function r(t){oe.each(t,function(t,n){var i=oe.type(n);"function"===i?e.unique&&u.has(n)||l.push(n):n&&n.length&&"string"!==i&&r(n)})}(arguments),t?o=l.length:n&&(a=i,d(n))}return this},remove:function(){return l&&oe.each(arguments,function(e,n){for(var i;(i=oe.inArray(n,l,i))>-1;)l.splice(i,1),t&&(o>=i&&o--,s>=i&&s--)}),this},has:function(e){return e?oe.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],o=0,this},disable:function(){return l=c=n=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,n||u.disable(),this},locked:function(){return!c},fireWith:function(e,n){return!l||i&&!c||(n=n||[],n=[e,n.slice?n.slice():n],t?c.push(n):d(n)),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},oe.extend({Deferred:function(e){var t=[["resolve","done",oe.Callbacks("once memory"),"resolved"],["reject","fail",oe.Callbacks("once memory"),"rejected"],["notify","progress",oe.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return oe.Deferred(function(n){oe.each(t,function(t,r){var s=oe.isFunction(e[t])&&e[t];o[r[1]](function(){var e=s&&s.apply(this,arguments);e&&oe.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[r[0]+"With"](this===i?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?oe.extend(e,i):i}},o={};return i.pipe=i.then,oe.each(t,function(e,r){var s=r[2],a=r[3];i[r[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),o[r[0]]=function(){return o[r[0]+"With"](this===o?i:this,arguments),this},o[r[0]+"With"]=s.fireWith}),i.promise(o),e&&e.call(o,o),o},when:function(e){var t,n,i,o=0,r=G.call(arguments),s=r.length,a=1!==s||e&&oe.isFunction(e.promise)?s:0,l=1===a?e:oe.Deferred(),c=function(e,n,i){return function(o){n[e]=this,i[e]=arguments.length>1?G.call(arguments):o,i===t?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(s>1)for(t=new Array(s),n=new Array(s),i=new Array(s);s>o;o++)r[o]&&oe.isFunction(r[o].promise)?r[o].promise().done(c(o,i,r)).fail(l.reject).progress(c(o,n,t)):--a;return a||l.resolveWith(i,r),l.promise()}});var xe;oe.fn.ready=function(e){return oe.ready.promise().done(e),this},oe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?oe.readyWait++:oe.ready(!0)},ready:function(e){if(e===!0?!--oe.readyWait:!oe.isReady){if(!fe.body)return setTimeout(oe.ready);oe.isReady=!0,e!==!0&&--oe.readyWait>0||(xe.resolveWith(fe,[oe]),oe.fn.triggerHandler&&(oe(fe).triggerHandler("ready"),oe(fe).off("ready")))}}}),oe.ready.promise=function(t){if(!xe)if(xe=oe.Deferred(),"complete"===fe.readyState)setTimeout(oe.ready);else if(fe.addEventListener)fe.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",a,!1);else{fe.attachEvent("onreadystatechange",a),e.attachEvent("onload",a);var n=!1;try{n=null==e.frameElement&&fe.documentElement}catch(i){}n&&n.doScroll&&!function o(){if(!oe.isReady){try{n.doScroll("left")}catch(e){return setTimeout(o,50)}s(),oe.ready()}}()}return xe.promise(t)};var _e,Ce="undefined";for(_e in oe(ne))break;ne.ownLast="0"!==_e,ne.inlineBlockNeedsLayout=!1,oe(function(){var e,t,n,i;n=fe.getElementsByTagName("body")[0],n&&n.style&&(t=fe.createElement("div"),i=fe.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),typeof t.style.zoom!==Ce&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ne.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(i))}),function(){var e=fe.createElement("div");if(null==ne.deleteExpando){ne.deleteExpando=!0;try{delete e.test}catch(t){ne.deleteExpando=!1}}e=null}(),oe.acceptData=function(e){var t=oe.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||t!==!0&&e.getAttribute("classid")===t)};var Te=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ee=/([A-Z])/g;oe.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?oe.cache[e[oe.expando]]:e[oe.expando],!!e&&!c(e)},data:function(e,t,n){return d(e,t,n)},removeData:function(e,t){return u(e,t)},_data:function(e,t,n){return d(e,t,n,!0)},_removeData:function(e,t){return u(e,t,!0)}}),oe.fn.extend({data:function(e,t){var n,i,o,r=this[0],s=r&&r.attributes;if(void 0===e){if(this.length&&(o=oe.data(r),1===r.nodeType&&!oe._data(r,"parsedAttrs"))){for(n=s.length;n--;)s[n]&&(i=s[n].name,0===i.indexOf("data-")&&(i=oe.camelCase(i.slice(5)),l(r,i,o[i])));oe._data(r,"parsedAttrs",!0)}return o}return"object"==typeof e?this.each(function(){oe.data(this,e)}):arguments.length>1?this.each(function(){oe.data(this,e,t)}):r?l(r,e,oe.data(r,e)):void 0},removeData:function(e){return this.each(function(){oe.removeData(this,e)})}}),oe.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=oe._data(e,t),n&&(!i||oe.isArray(n)?i=oe._data(e,t,oe.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=oe.queue(e,t),i=n.length,o=n.shift(),r=oe._queueHooks(e,t),s=function(){oe.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===t&&n.unshift("inprogress"),delete r.stop,o.call(e,s,r)),!i&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return oe._data(e,n)||oe._data(e,n,{empty:oe.Callbacks("once memory").add(function(){oe._removeData(e,t+"queue"),oe._removeData(e,n)})})}}),oe.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?oe.queue(this[0],e):void 0===t?this:this.each(function(){var n=oe.queue(this,e,t);oe._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&oe.dequeue(this,e)})},dequeue:function(e){return this.each(function(){oe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,o=oe.Deferred(),r=this,s=this.length,a=function(){--i||o.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)n=oe._data(r[s],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(a));return a(),o.promise(t)}});var ke=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Se=["Top","Right","Bottom","Left"],Ne=function(e,t){return e=t||e,"none"===oe.css(e,"display")||!oe.contains(e.ownerDocument,e)},Oe=oe.access=function(e,t,n,i,o,r,s){var a=0,l=e.length,c=null==n;if("object"===oe.type(n)){o=!0;for(a in n)oe.access(e,t,a,n[a],!0,r,s)}else if(void 0!==i&&(o=!0,oe.isFunction(i)||(s=!0),c&&(s?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(oe(e),n)})),t))for(;l>a;a++)t(e[a],n,s?i:i.call(e[a],a,t(e[a],n)));return o?e:c?t.call(e):l?t(e[0],n):r},Ae=/^(?:checkbox|radio)$/i;!function(){var e=fe.createElement("input"),t=fe.createElement("div"),n=fe.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ne.leadingWhitespace=3===t.firstChild.nodeType,ne.tbody=!t.getElementsByTagName("tbody").length,ne.htmlSerialize=!!t.getElementsByTagName("link").length,ne.html5Clone="<:nav></:nav>"!==fe.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),ne.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",ne.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",ne.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,ne.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){ne.noCloneEvent=!1}),t.cloneNode(!0).click()),null==ne.deleteExpando){ne.deleteExpando=!0;try{delete t.test}catch(i){ne.deleteExpando=!1}}}(),function(){var t,n,i=fe.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(ne[t+"Bubbles"]=n in e)||(i.setAttribute(n,"t"),ne[t+"Bubbles"]=i.attributes[n].expando===!1);i=null}();var Re=/^(?:input|select|textarea)$/i,Xe=/^key/,De=/^(?:mouse|pointer|contextmenu)|click/,Ie=/^(?:focusinfocus|focusoutblur)$/,je=/^([^.]*)(?:\.(.+)|)$/;oe.event={global:{},add:function(e,t,n,i,o){var r,s,a,l,c,d,u,h,p,f,m,g=oe._data(e);if(g){for(n.handler&&(l=n,n=l.handler,o=l.selector),n.guid||(n.guid=oe.guid++),(s=g.events)||(s=g.events={}),(d=g.handle)||(d=g.handle=function(e){return typeof oe===Ce||e&&oe.event.triggered===e.type?void 0:oe.event.dispatch.apply(d.elem,arguments)},d.elem=e),t=(t||"").match(be)||[""],a=t.length;a--;)r=je.exec(t[a])||[],p=m=r[1],f=(r[2]||"").split(".").sort(),p&&(c=oe.event.special[p]||{},p=(o?c.delegateType:c.bindType)||p,c=oe.event.special[p]||{},u=oe.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&oe.expr.match.needsContext.test(o),namespace:f.join(".")},l),(h=s[p])||(h=s[p]=[],h.delegateCount=0,c.setup&&c.setup.call(e,i,f,d)!==!1||(e.addEventListener?e.addEventListener(p,d,!1):e.attachEvent&&e.attachEvent("on"+p,d))),c.add&&(c.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,u):h.push(u),oe.event.global[p]=!0);e=null}},remove:function(e,t,n,i,o){var r,s,a,l,c,d,u,h,p,f,m,g=oe.hasData(e)&&oe._data(e);if(g&&(d=g.events)){for(t=(t||"").match(be)||[""],c=t.length;c--;)if(a=je.exec(t[c])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p){for(u=oe.event.special[p]||{},p=(i?u.delegateType:u.bindType)||p,h=d[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=h.length;r--;)s=h[r],!o&&m!==s.origType||n&&n.guid!==s.guid||a&&!a.test(s.namespace)||i&&i!==s.selector&&("**"!==i||!s.selector)||(h.splice(r,1),s.selector&&h.delegateCount--,u.remove&&u.remove.call(e,s));l&&!h.length&&(u.teardown&&u.teardown.call(e,f,g.handle)!==!1||oe.removeEvent(e,p,g.handle),delete d[p])}else for(p in d)oe.event.remove(e,p+t[c],n,i,!0);oe.isEmptyObject(d)&&(delete g.handle,oe._removeData(e,"events"))}},trigger:function(t,n,i,o){var r,s,a,l,c,d,u,h=[i||fe],p=te.call(t,"type")?t.type:t,f=te.call(t,"namespace")?t.namespace.split("."):[];if(a=d=i=i||fe,3!==i.nodeType&&8!==i.nodeType&&!Ie.test(p+oe.event.triggered)&&(p.indexOf(".")>=0&&(f=p.split("."),p=f.shift(),f.sort()),s=p.indexOf(":")<0&&"on"+p,t=t[oe.expando]?t:new oe.Event(p,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=f.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:oe.makeArray(n,[t]),c=oe.event.special[p]||{},o||!c.trigger||c.trigger.apply(i,n)!==!1)){if(!o&&!c.noBubble&&!oe.isWindow(i)){for(l=c.delegateType||p,Ie.test(l+p)||(a=a.parentNode);a;a=a.parentNode)h.push(a),d=a;d===(i.ownerDocument||fe)&&h.push(d.defaultView||d.parentWindow||e)}for(u=0;(a=h[u++])&&!t.isPropagationStopped();)t.type=u>1?l:c.bindType||p,r=(oe._data(a,"events")||{})[t.type]&&oe._data(a,"handle"),r&&r.apply(a,n),r=s&&a[s],r&&r.apply&&oe.acceptData(a)&&(t.result=r.apply(a,n),t.result===!1&&t.preventDefault());if(t.type=p,!o&&!t.isDefaultPrevented()&&(!c._default||c._default.apply(h.pop(),n)===!1)&&oe.acceptData(i)&&s&&i[p]&&!oe.isWindow(i)){d=i[s],d&&(i[s]=null),oe.event.triggered=p;try{i[p]()}catch(m){}oe.event.triggered=void 0,d&&(i[s]=d)}return t.result}},dispatch:function(e){e=oe.event.fix(e);var t,n,i,o,r,s=[],a=G.call(arguments),l=(oe._data(this,"events")||{})[e.type]||[],c=oe.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(s=oe.event.handlers.call(this,e,l),t=0;(o=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,r=0;(i=o.handlers[r++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,n=((oe.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,a),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,o,r,s=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(o=[],r=0;a>r;r++)i=t[r],n=i.selector+" ",void 0===o[n]&&(o[n]=i.needsContext?oe(n,this).index(l)>=0:oe.find(n,this,null,[l]).length),o[n]&&o.push(i);o.length&&s.push({elem:l,handlers:o})}return a<t.length&&s.push({elem:this,handlers:t.slice(a)}),s},fix:function(e){if(e[oe.expando])return e;var t,n,i,o=e.type,r=e,s=this.fixHooks[o];for(s||(this.fixHooks[o]=s=De.test(o)?this.mouseHooks:Xe.test(o)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,e=new oe.Event(r),t=i.length;t--;)n=i[t],e[n]=r[n];return e.target||(e.target=r.srcElement||fe),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,r):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,o,r=t.button,s=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=e.target.ownerDocument||fe,o=i.documentElement,n=i.body,e.pageX=t.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o&&o.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o&&o.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?t.toElement:s),e.which||void 0===r||(e.which=1&r?1:2&r?3:4&r?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==f()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return oe.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return oe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var o=oe.extend(new oe.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?oe.event.trigger(o,null,t):oe.event.dispatch.call(t,o),o.isDefaultPrevented()&&n.preventDefault()}},oe.removeEvent=fe.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&(typeof e[i]===Ce&&(e[i]=null),e.detachEvent(i,n))},oe.Event=function(e,t){return this instanceof oe.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?h:p):this.type=e,t&&oe.extend(this,t),this.timeStamp=e&&e.timeStamp||oe.now(),void(this[oe.expando]=!0)):new oe.Event(e,t)},oe.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=h,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=h,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=h,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},oe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){oe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,o=e.relatedTarget,r=e.handleObj;return(!o||o!==i&&!oe.contains(i,o))&&(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}}),ne.submitBubbles||(oe.event.special.submit={setup:function(){return!oe.nodeName(this,"form")&&void oe.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=oe.nodeName(t,"input")||oe.nodeName(t,"button")?t.form:void 0;n&&!oe._data(n,"submitBubbles")&&(oe.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),oe._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&oe.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return!oe.nodeName(this,"form")&&void oe.event.remove(this,"._submit");
}}),ne.changeBubbles||(oe.event.special.change={setup:function(){return Re.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(oe.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),oe.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),oe.event.simulate("change",this,e,!0)})),!1):void oe.event.add(this,"beforeactivate._change",function(e){var t=e.target;Re.test(t.nodeName)&&!oe._data(t,"changeBubbles")&&(oe.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||oe.event.simulate("change",this.parentNode,e,!0)}),oe._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return oe.event.remove(this,"._change"),!Re.test(this.nodeName)}}),ne.focusinBubbles||oe.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){oe.event.simulate(t,e.target,oe.event.fix(e),!0)};oe.event.special[t]={setup:function(){var i=this.ownerDocument||this,o=oe._data(i,t);o||i.addEventListener(e,n,!0),oe._data(i,t,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this,o=oe._data(i,t)-1;o?oe._data(i,t,o):(i.removeEventListener(e,n,!0),oe._removeData(i,t))}}}),oe.fn.extend({on:function(e,t,n,i,o){var r,s;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(r in e)this.on(r,t,n,e[r],o);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),i===!1)i=p;else if(!i)return this;return 1===o&&(s=i,i=function(e){return oe().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=oe.guid++)),this.each(function(){oe.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,oe(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=p),this.each(function(){oe.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){oe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?oe.event.trigger(e,t,n,!0):void 0}});var Me="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Pe=/ jQuery\d+="(?:null|\d+)"/g,Le=new RegExp("<(?:"+Me+")[\\s/>]","i"),$e=/^\s+/,ze=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Fe=/<([\w:]+)/,He=/<tbody/i,Be=/<|&#?\w+;/,Ue=/<(?:script|style|link)/i,We=/checked\s*(?:[^=]|=\s*.checked.)/i,Ve=/^$|\/(?:java|ecma)script/i,qe=/^true\/(.*)/,Ye=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ge={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ne.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Ze=m(fe),Qe=Ze.appendChild(fe.createElement("div"));Ge.optgroup=Ge.option,Ge.tbody=Ge.tfoot=Ge.colgroup=Ge.caption=Ge.thead,Ge.th=Ge.td,oe.extend({clone:function(e,t,n){var i,o,r,s,a,l=oe.contains(e.ownerDocument,e);if(ne.html5Clone||oe.isXMLDoc(e)||!Le.test("<"+e.nodeName+">")?r=e.cloneNode(!0):(Qe.innerHTML=e.outerHTML,Qe.removeChild(r=Qe.firstChild)),!(ne.noCloneEvent&&ne.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||oe.isXMLDoc(e)))for(i=g(r),a=g(e),s=0;null!=(o=a[s]);++s)i[s]&&C(o,i[s]);if(t)if(n)for(a=a||g(e),i=i||g(r),s=0;null!=(o=a[s]);s++)_(o,i[s]);else _(e,r);return i=g(r,"script"),i.length>0&&x(i,!l&&g(e,"script")),i=a=o=null,r},buildFragment:function(e,t,n,i){for(var o,r,s,a,l,c,d,u=e.length,h=m(t),p=[],f=0;u>f;f++)if(r=e[f],r||0===r)if("object"===oe.type(r))oe.merge(p,r.nodeType?[r]:r);else if(Be.test(r)){for(a=a||h.appendChild(t.createElement("div")),l=(Fe.exec(r)||["",""])[1].toLowerCase(),d=Ge[l]||Ge._default,a.innerHTML=d[1]+r.replace(ze,"<$1></$2>")+d[2],o=d[0];o--;)a=a.lastChild;if(!ne.leadingWhitespace&&$e.test(r)&&p.push(t.createTextNode($e.exec(r)[0])),!ne.tbody)for(r="table"!==l||He.test(r)?"<table>"!==d[1]||He.test(r)?0:a:a.firstChild,o=r&&r.childNodes.length;o--;)oe.nodeName(c=r.childNodes[o],"tbody")&&!c.childNodes.length&&r.removeChild(c);for(oe.merge(p,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=h.lastChild}else p.push(t.createTextNode(r));for(a&&h.removeChild(a),ne.appendChecked||oe.grep(g(p,"input"),v),f=0;r=p[f++];)if((!i||-1===oe.inArray(r,i))&&(s=oe.contains(r.ownerDocument,r),a=g(h.appendChild(r),"script"),s&&x(a),n))for(o=0;r=a[o++];)Ve.test(r.type||"")&&n.push(r);return a=null,h},cleanData:function(e,t){for(var n,i,o,r,s=0,a=oe.expando,l=oe.cache,c=ne.deleteExpando,d=oe.event.special;null!=(n=e[s]);s++)if((t||oe.acceptData(n))&&(o=n[a],r=o&&l[o])){if(r.events)for(i in r.events)d[i]?oe.event.remove(n,i):oe.removeEvent(n,i,r.handle);l[o]&&(delete l[o],c?delete n[a]:typeof n.removeAttribute!==Ce?n.removeAttribute(a):n[a]=null,Y.push(o))}}}),oe.fn.extend({text:function(e){return Oe(this,function(e){return void 0===e?oe.text(this):this.empty().append((this[0]&&this[0].ownerDocument||fe).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?oe.filter(e,this):this,o=0;null!=(n=i[o]);o++)t||1!==n.nodeType||oe.cleanData(g(n)),n.parentNode&&(t&&oe.contains(n.ownerDocument,n)&&x(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&oe.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&oe.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return oe.clone(this,e,t)})},html:function(e){return Oe(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Pe,""):void 0;if(!("string"!=typeof e||Ue.test(e)||!ne.htmlSerialize&&Le.test(e)||!ne.leadingWhitespace&&$e.test(e)||Ge[(Fe.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(ze,"<$1></$2>");try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(oe.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(o){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,oe.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=Z.apply([],e);var n,i,o,r,s,a,l=0,c=this.length,d=this,u=c-1,h=e[0],p=oe.isFunction(h);if(p||c>1&&"string"==typeof h&&!ne.checkClone&&We.test(h))return this.each(function(n){var i=d.eq(n);p&&(e[0]=h.call(this,n,i.html())),i.domManip(e,t)});if(c&&(a=oe.buildFragment(e,this[0].ownerDocument,!1,this),n=a.firstChild,1===a.childNodes.length&&(a=n),n)){for(r=oe.map(g(a,"script"),b),o=r.length;c>l;l++)i=a,l!==u&&(i=oe.clone(i,!0,!0),o&&oe.merge(r,g(i,"script"))),t.call(this[l],i,l);if(o)for(s=r[r.length-1].ownerDocument,oe.map(r,w),l=0;o>l;l++)i=r[l],Ve.test(i.type||"")&&!oe._data(i,"globalEval")&&oe.contains(s,i)&&(i.src?oe._evalUrl&&oe._evalUrl(i.src):oe.globalEval((i.text||i.textContent||i.innerHTML||"").replace(Ye,"")));a=n=null}return this}}),oe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){oe.fn[e]=function(e){for(var n,i=0,o=[],r=oe(e),s=r.length-1;s>=i;i++)n=i===s?this:this.clone(!0),oe(r[i])[t](n),Q.apply(o,n.get());return this.pushStack(o)}});var Ke,Je={};!function(){var e;ne.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,i;return n=fe.getElementsByTagName("body")[0],n&&n.style?(t=fe.createElement("div"),i=fe.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),typeof t.style.zoom!==Ce&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(fe.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(i),e):void 0}}();var et,tt,nt=/^margin/,it=new RegExp("^("+ke+")(?!px)[a-z%]+$","i"),ot=/^(top|right|bottom|left)$/;e.getComputedStyle?(et=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)},tt=function(e,t,n){var i,o,r,s,a=e.style;return n=n||et(e),s=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==s||oe.contains(e.ownerDocument,e)||(s=oe.style(e,t)),it.test(s)&&nt.test(t)&&(i=a.width,o=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=o,a.maxWidth=r)),void 0===s?s:s+""}):fe.documentElement.currentStyle&&(et=function(e){return e.currentStyle},tt=function(e,t,n){var i,o,r,s,a=e.style;return n=n||et(e),s=n?n[t]:void 0,null==s&&a&&a[t]&&(s=a[t]),it.test(s)&&!ot.test(t)&&(i=a.left,o=e.runtimeStyle,r=o&&o.left,r&&(o.left=e.currentStyle.left),a.left="fontSize"===t?"1em":s,s=a.pixelLeft+"px",a.left=i,r&&(o.left=r)),void 0===s?s:s+""||"auto"}),!function(){function t(){var t,n,i,o;n=fe.getElementsByTagName("body")[0],n&&n.style&&(t=fe.createElement("div"),i=fe.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",r=s=!1,l=!0,e.getComputedStyle&&(r="1%"!==(e.getComputedStyle(t,null)||{}).top,s="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,o=t.appendChild(fe.createElement("div")),o.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",o.style.marginRight=o.style.width="0",t.style.width="1px",l=!parseFloat((e.getComputedStyle(o,null)||{}).marginRight),t.removeChild(o)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=t.getElementsByTagName("td"),o[0].style.cssText="margin:0;border:0;padding:0;display:none",a=0===o[0].offsetHeight,a&&(o[0].style.display="",o[1].style.display="none",a=0===o[0].offsetHeight),n.removeChild(i))}var n,i,o,r,s,a,l;n=fe.createElement("div"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",o=n.getElementsByTagName("a")[0],(i=o&&o.style)&&(i.cssText="float:left;opacity:.5",ne.opacity="0.5"===i.opacity,ne.cssFloat=!!i.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",ne.clearCloneStyle="content-box"===n.style.backgroundClip,ne.boxSizing=""===i.boxSizing||""===i.MozBoxSizing||""===i.WebkitBoxSizing,oe.extend(ne,{reliableHiddenOffsets:function(){return null==a&&t(),a},boxSizingReliable:function(){return null==s&&t(),s},pixelPosition:function(){return null==r&&t(),r},reliableMarginRight:function(){return null==l&&t(),l}}))}(),oe.swap=function(e,t,n,i){var o,r,s={};for(r in t)s[r]=e.style[r],e.style[r]=t[r];o=n.apply(e,i||[]);for(r in t)e.style[r]=s[r];return o};var rt=/alpha\([^)]*\)/i,st=/opacity\s*=\s*([^)]*)/,at=/^(none|table(?!-c[ea]).+)/,lt=new RegExp("^("+ke+")(.*)$","i"),ct=new RegExp("^([+-])=("+ke+")","i"),dt={position:"absolute",visibility:"hidden",display:"block"},ut={letterSpacing:"0",fontWeight:"400"},ht=["Webkit","O","Moz","ms"];oe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=tt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ne.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,r,s,a=oe.camelCase(t),l=e.style;if(t=oe.cssProps[a]||(oe.cssProps[a]=S(l,a)),s=oe.cssHooks[t]||oe.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(o=s.get(e,!1,i))?o:l[t];if(r=typeof n,"string"===r&&(o=ct.exec(n))&&(n=(o[1]+1)*o[2]+parseFloat(oe.css(e,t)),r="number"),null!=n&&n===n&&("number"!==r||oe.cssNumber[a]||(n+="px"),ne.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),!(s&&"set"in s&&void 0===(n=s.set(e,n,i)))))try{l[t]=n}catch(c){}}},css:function(e,t,n,i){var o,r,s,a=oe.camelCase(t);return t=oe.cssProps[a]||(oe.cssProps[a]=S(e.style,a)),s=oe.cssHooks[t]||oe.cssHooks[a],s&&"get"in s&&(r=s.get(e,!0,n)),void 0===r&&(r=tt(e,t,i)),"normal"===r&&t in ut&&(r=ut[t]),""===n||n?(o=parseFloat(r),n===!0||oe.isNumeric(o)?o||0:r):r}}),oe.each(["height","width"],function(e,t){oe.cssHooks[t]={get:function(e,n,i){return n?at.test(oe.css(e,"display"))&&0===e.offsetWidth?oe.swap(e,dt,function(){return R(e,t,i)}):R(e,t,i):void 0},set:function(e,n,i){var o=i&&et(e);return O(e,n,i?A(e,t,i,ne.boxSizing&&"border-box"===oe.css(e,"boxSizing",!1,o),o):0)}}}),ne.opacity||(oe.cssHooks.opacity={get:function(e,t){return st.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,o=oe.isNumeric(t)?"alpha(opacity="+100*t+")":"",r=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===oe.trim(r.replace(rt,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=rt.test(r)?r.replace(rt,o):r+" "+o)}}),oe.cssHooks.marginRight=k(ne.reliableMarginRight,function(e,t){return t?oe.swap(e,{display:"inline-block"},tt,[e,"marginRight"]):void 0}),oe.each({margin:"",padding:"",border:"Width"},function(e,t){oe.cssHooks[e+t]={expand:function(n){for(var i=0,o={},r="string"==typeof n?n.split(" "):[n];4>i;i++)o[e+Se[i]+t]=r[i]||r[i-2]||r[0];return o}},nt.test(e)||(oe.cssHooks[e+t].set=O)}),oe.fn.extend({css:function(e,t){return Oe(this,function(e,t,n){var i,o,r={},s=0;if(oe.isArray(t)){for(i=et(e),o=t.length;o>s;s++)r[t[s]]=oe.css(e,t[s],!1,i);return r}return void 0!==n?oe.style(e,t,n):oe.css(e,t)},e,t,arguments.length>1)},show:function(){return N(this,!0)},hide:function(){return N(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ne(this)?oe(this).show():oe(this).hide()})}}),oe.Tween=X,X.prototype={constructor:X,init:function(e,t,n,i,o,r){this.elem=e,this.prop=n,this.easing=o||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=r||(oe.cssNumber[n]?"":"px")},cur:function(){var e=X.propHooks[this.prop];return e&&e.get?e.get(this):X.propHooks._default.get(this)},run:function(e){var t,n=X.propHooks[this.prop];return this.pos=t=this.options.duration?oe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):X.propHooks._default.set(this),this}},X.prototype.init.prototype=X.prototype,X.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=oe.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){oe.fx.step[e.prop]?oe.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[oe.cssProps[e.prop]]||oe.cssHooks[e.prop])?oe.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},X.propHooks.scrollTop=X.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},oe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},oe.fx=X.prototype.init,oe.fx.step={};var pt,ft,mt=/^(?:toggle|show|hide)$/,gt=new RegExp("^(?:([+-])=|)("+ke+")([a-z%]*)$","i"),vt=/queueHooks$/,yt=[M],bt={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),o=gt.exec(t),r=o&&o[3]||(oe.cssNumber[e]?"":"px"),s=(oe.cssNumber[e]||"px"!==r&&+i)&&gt.exec(oe.css(n.elem,e)),a=1,l=20;if(s&&s[3]!==r){r=r||s[3],o=o||[],s=+i||1;do a=a||".5",s/=a,oe.style(n.elem,e,s+r);while(a!==(a=n.cur()/i)&&1!==a&&--l)}return o&&(s=n.start=+s||+i||0,n.unit=r,n.end=o[1]?s+(o[1]+1)*o[2]:+o[2]),n}]};oe.Animation=oe.extend(L,{tweener:function(e,t){oe.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,o=e.length;o>i;i++)n=e[i],bt[n]=bt[n]||[],bt[n].unshift(t)},prefilter:function(e,t){t?yt.unshift(e):yt.push(e)}}),oe.speed=function(e,t,n){var i=e&&"object"==typeof e?oe.extend({},e):{complete:n||!n&&t||oe.isFunction(e)&&e,duration:e,easing:n&&t||t&&!oe.isFunction(t)&&t};return i.duration=oe.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in oe.fx.speeds?oe.fx.speeds[i.duration]:oe.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){oe.isFunction(i.old)&&i.old.call(this),i.queue&&oe.dequeue(this,i.queue)},i},oe.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Ne).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var o=oe.isEmptyObject(e),r=oe.speed(t,n,i),s=function(){var t=L(this,oe.extend({},e),r);(o||oe._data(this,"finish"))&&t.stop(!0)};return s.finish=s,o||r.queue===!1?this.each(s):this.queue(r.queue,s)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",r=oe.timers,s=oe._data(this);if(o)s[o]&&s[o].stop&&i(s[o]);else for(o in s)s[o]&&s[o].stop&&vt.test(o)&&i(s[o]);for(o=r.length;o--;)r[o].elem!==this||null!=e&&r[o].queue!==e||(r[o].anim.stop(n),t=!1,r.splice(o,1));(t||!n)&&oe.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=oe._data(this),i=n[e+"queue"],o=n[e+"queueHooks"],r=oe.timers,s=i?i.length:0;for(n.finish=!0,oe.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;s>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),oe.each(["toggle","show","hide"],function(e,t){var n=oe.fn[t];oe.fn[t]=function(e,i,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(I(t,!0),e,i,o)}}),oe.each({slideDown:I("show"),slideUp:I("hide"),slideToggle:I("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){oe.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),oe.timers=[],oe.fx.tick=function(){var e,t=oe.timers,n=0;for(pt=oe.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||oe.fx.stop(),pt=void 0},oe.fx.timer=function(e){oe.timers.push(e),e()?oe.fx.start():oe.timers.pop()},oe.fx.interval=13,oe.fx.start=function(){ft||(ft=setInterval(oe.fx.tick,oe.fx.interval))},oe.fx.stop=function(){clearInterval(ft),ft=null},oe.fx.speeds={slow:600,fast:200,_default:400},oe.fn.delay=function(e,t){return e=oe.fx?oe.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},function(){var e,t,n,i,o;t=fe.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=t.getElementsByTagName("a")[0],n=fe.createElement("select"),o=n.appendChild(fe.createElement("option")),e=t.getElementsByTagName("input")[0],i.style.cssText="top:1px",ne.getSetAttribute="t"!==t.className,ne.style=/top/.test(i.getAttribute("style")),ne.hrefNormalized="/a"===i.getAttribute("href"),ne.checkOn=!!e.value,ne.optSelected=o.selected,ne.enctype=!!fe.createElement("form").enctype,n.disabled=!0,ne.optDisabled=!o.disabled,e=fe.createElement("input"),e.setAttribute("value",""),ne.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),ne.radioValue="t"===e.value}();var wt=/\r/g;oe.fn.extend({val:function(e){var t,n,i,o=this[0];return arguments.length?(i=oe.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(o=i?e.call(this,n,oe(this).val()):e,null==o?o="":"number"==typeof o?o+="":oe.isArray(o)&&(o=oe.map(o,function(e){return null==e?"":e+""})),t=oe.valHooks[this.type]||oe.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))})):o?(t=oe.valHooks[o.type]||oe.valHooks[o.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:(n=o.value,"string"==typeof n?n.replace(wt,""):null==n?"":n)):void 0}}),oe.extend({valHooks:{option:{get:function(e){var t=oe.find.attr(e,"value");return null!=t?t:oe.trim(oe.text(e))}},select:{get:function(e){for(var t,n,i=e.options,o=e.selectedIndex,r="select-one"===e.type||0>o,s=r?null:[],a=r?o+1:i.length,l=0>o?a:r?o:0;a>l;l++)if(n=i[l],!(!n.selected&&l!==o||(ne.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&oe.nodeName(n.parentNode,"optgroup"))){if(t=oe(n).val(),r)return t;s.push(t)}return s},set:function(e,t){for(var n,i,o=e.options,r=oe.makeArray(t),s=o.length;s--;)if(i=o[s],oe.inArray(oe.valHooks.option.get(i),r)>=0)try{i.selected=n=!0}catch(a){i.scrollHeight}else i.selected=!1;return n||(e.selectedIndex=-1),o}}}}),oe.each(["radio","checkbox"],function(){oe.valHooks[this]={set:function(e,t){return oe.isArray(t)?e.checked=oe.inArray(oe(e).val(),t)>=0:void 0}},ne.checkOn||(oe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var xt,_t,Ct=oe.expr.attrHandle,Tt=/^(?:checked|selected)$/i,Et=ne.getSetAttribute,kt=ne.input;oe.fn.extend({attr:function(e,t){return Oe(this,oe.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){oe.removeAttr(this,e)})}}),oe.extend({attr:function(e,t,n){var i,o,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return typeof e.getAttribute===Ce?oe.prop(e,t,n):(1===r&&oe.isXMLDoc(e)||(t=t.toLowerCase(),i=oe.attrHooks[t]||(oe.expr.match.bool.test(t)?_t:xt)),void 0===n?i&&"get"in i&&null!==(o=i.get(e,t))?o:(o=oe.find.attr(e,t),null==o?void 0:o):null!==n?i&&"set"in i&&void 0!==(o=i.set(e,n,t))?o:(e.setAttribute(t,n+""),n):void oe.removeAttr(e,t))},removeAttr:function(e,t){var n,i,o=0,r=t&&t.match(be);if(r&&1===e.nodeType)for(;n=r[o++];)i=oe.propFix[n]||n,oe.expr.match.bool.test(n)?kt&&Et||!Tt.test(n)?e[i]=!1:e[oe.camelCase("default-"+n)]=e[i]=!1:oe.attr(e,n,""),e.removeAttribute(Et?n:i)},attrHooks:{type:{set:function(e,t){if(!ne.radioValue&&"radio"===t&&oe.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),_t={set:function(e,t,n){return t===!1?oe.removeAttr(e,n):kt&&Et||!Tt.test(n)?e.setAttribute(!Et&&oe.propFix[n]||n,n):e[oe.camelCase("default-"+n)]=e[n]=!0,n}},oe.each(oe.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Ct[t]||oe.find.attr;Ct[t]=kt&&Et||!Tt.test(t)?function(e,t,i){var o,r;return i||(r=Ct[t],Ct[t]=o,o=null!=n(e,t,i)?t.toLowerCase():null,Ct[t]=r),o}:function(e,t,n){return n?void 0:e[oe.camelCase("default-"+t)]?t.toLowerCase():null}}),kt&&Et||(oe.attrHooks.value={set:function(e,t,n){return oe.nodeName(e,"input")?void(e.defaultValue=t):xt&&xt.set(e,t,n)}}),Et||(xt={set:function(e,t,n){var i=e.getAttributeNode(n);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(n)),i.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},Ct.id=Ct.name=Ct.coords=function(e,t,n){var i;return n?void 0:(i=e.getAttributeNode(t))&&""!==i.value?i.value:null},oe.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:xt.set},oe.attrHooks.contenteditable={set:function(e,t,n){xt.set(e,""!==t&&t,n)}},oe.each(["width","height"],function(e,t){oe.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),ne.style||(oe.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var St=/^(?:input|select|textarea|button|object)$/i,Nt=/^(?:a|area)$/i;oe.fn.extend({prop:function(e,t){return Oe(this,oe.prop,e,t,arguments.length>1)},removeProp:function(e){return e=oe.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),oe.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var i,o,r,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return r=1!==s||!oe.isXMLDoc(e),r&&(t=oe.propFix[t]||t,o=oe.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:e[t]=n:o&&"get"in o&&null!==(i=o.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=oe.find.attr(e,"tabindex");return t?parseInt(t,10):St.test(e.nodeName)||Nt.test(e.nodeName)&&e.href?0:-1}}}}),ne.hrefNormalized||oe.each(["href","src"],function(e,t){oe.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ne.optSelected||(oe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),oe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){oe.propFix[this.toLowerCase()]=this}),ne.enctype||(oe.propFix.enctype="encoding");var Ot=/[\t\r\n\f]/g;oe.fn.extend({addClass:function(e){var t,n,i,o,r,s,a=0,l=this.length,c="string"==typeof e&&e;if(oe.isFunction(e))return this.each(function(t){oe(this).addClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(be)||[];l>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Ot," "):" ")){for(r=0;o=t[r++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");s=oe.trim(i),n.className!==s&&(n.className=s)}return this},removeClass:function(e){var t,n,i,o,r,s,a=0,l=this.length,c=0===arguments.length||"string"==typeof e&&e;if(oe.isFunction(e))return this.each(function(t){oe(this).removeClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(be)||[];l>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Ot," "):"")){for(r=0;o=t[r++];)for(;i.indexOf(" "+o+" ")>=0;)i=i.replace(" "+o+" "," ");s=e?oe.trim(i):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(oe.isFunction(e)?function(n){oe(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,i=0,o=oe(this),r=e.match(be)||[];t=r[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else(n===Ce||"boolean"===n)&&(this.className&&oe._data(this,"__className__",this.className),this.className=this.className||e===!1?"":oe._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Ot," ").indexOf(t)>=0)return!0;return!1}}),oe.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){oe.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),oe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var At=oe.now(),Rt=/\?/,Xt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;oe.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,i=null,o=oe.trim(t+"");return o&&!oe.trim(o.replace(Xt,function(e,t,o,r){return n&&t&&(i=0),0===i?e:(n=o||t,i+=!r-!o,"")}))?Function("return "+o)():oe.error("Invalid JSON: "+t)},oe.parseXML=function(t){var n,i;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(i=new DOMParser,n=i.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(o){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||oe.error("Invalid XML: "+t),n};var Dt,It,jt=/#.*$/,Mt=/([?&])_=[^&]*/,Pt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Lt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,$t=/^(?:GET|HEAD)$/,zt=/^\/\//,Ft=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Ht={},Bt={},Ut="*/".concat("*");try{It=location.href}catch(Wt){It=fe.createElement("a"),It.href="",It=It.href}Dt=Ft.exec(It.toLowerCase())||[],oe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:It,type:"GET",isLocal:Lt.test(Dt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ut,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":oe.parseJSON,"text xml":oe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?F(F(e,oe.ajaxSettings),t):F(oe.ajaxSettings,e)},ajaxPrefilter:$(Ht),ajaxTransport:$(Bt),ajax:function(e,t){function n(e,t,n,i){var o,d,v,y,w,_=t;2!==b&&(b=2,a&&clearTimeout(a),c=void 0,s=i||"",x.readyState=e>0?4:0,o=e>=200&&300>e||304===e,n&&(y=H(u,x,n)),y=B(u,y,x,o),o?(u.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(oe.lastModified[r]=w),w=x.getResponseHeader("etag"),w&&(oe.etag[r]=w)),204===e||"HEAD"===u.type?_="nocontent":304===e?_="notmodified":(_=y.state,d=y.data,v=y.error,o=!v)):(v=_,(e||!_)&&(_="error",0>e&&(e=0))),x.status=e,x.statusText=(t||_)+"",o?f.resolveWith(h,[d,_,x]):f.rejectWith(h,[x,_,v]),x.statusCode(g),g=void 0,l&&p.trigger(o?"ajaxSuccess":"ajaxError",[x,u,o?d:v]),m.fireWith(h,[x,_]),l&&(p.trigger("ajaxComplete",[x,u]),--oe.active||oe.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,o,r,s,a,l,c,d,u=oe.ajaxSetup({},t),h=u.context||u,p=u.context&&(h.nodeType||h.jquery)?oe(h):oe.event,f=oe.Deferred(),m=oe.Callbacks("once memory"),g=u.statusCode||{},v={},y={},b=0,w="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!d)for(d={};t=Pt.exec(s);)d[t[1].toLowerCase()]=t[2];t=d[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(u.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)g[t]=[g[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||w;return c&&c.abort(t),n(0,t),this}};if(f.promise(x).complete=m.add,x.success=x.done,x.error=x.fail,u.url=((e||u.url||It)+"").replace(jt,"").replace(zt,Dt[1]+"//"),u.type=t.method||t.type||u.method||u.type,u.dataTypes=oe.trim(u.dataType||"*").toLowerCase().match(be)||[""],null==u.crossDomain&&(i=Ft.exec(u.url.toLowerCase()),u.crossDomain=!(!i||i[1]===Dt[1]&&i[2]===Dt[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(Dt[3]||("http:"===Dt[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=oe.param(u.data,u.traditional)),z(Ht,u,t,x),2===b)return x;l=oe.event&&u.global,l&&0===oe.active++&&oe.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!$t.test(u.type),r=u.url,u.hasContent||(u.data&&(r=u.url+=(Rt.test(r)?"&":"?")+u.data,
delete u.data),u.cache===!1&&(u.url=Mt.test(r)?r.replace(Mt,"$1_="+At++):r+(Rt.test(r)?"&":"?")+"_="+At++)),u.ifModified&&(oe.lastModified[r]&&x.setRequestHeader("If-Modified-Since",oe.lastModified[r]),oe.etag[r]&&x.setRequestHeader("If-None-Match",oe.etag[r])),(u.data&&u.hasContent&&u.contentType!==!1||t.contentType)&&x.setRequestHeader("Content-Type",u.contentType),x.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+Ut+"; q=0.01":""):u.accepts["*"]);for(o in u.headers)x.setRequestHeader(o,u.headers[o]);if(u.beforeSend&&(u.beforeSend.call(h,x,u)===!1||2===b))return x.abort();w="abort";for(o in{success:1,error:1,complete:1})x[o](u[o]);if(c=z(Bt,u,t,x)){x.readyState=1,l&&p.trigger("ajaxSend",[x,u]),u.async&&u.timeout>0&&(a=setTimeout(function(){x.abort("timeout")},u.timeout));try{b=1,c.send(v,n)}catch(_){if(!(2>b))throw _;n(-1,_)}}else n(-1,"No Transport");return x},getJSON:function(e,t,n){return oe.get(e,t,n,"json")},getScript:function(e,t){return oe.get(e,void 0,t,"script")}}),oe.each(["get","post"],function(e,t){oe[t]=function(e,n,i,o){return oe.isFunction(n)&&(o=o||i,i=n,n=void 0),oe.ajax({url:e,type:t,dataType:o,data:n,success:i})}}),oe._evalUrl=function(e){return oe.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},oe.fn.extend({wrapAll:function(e){if(oe.isFunction(e))return this.each(function(t){oe(this).wrapAll(e.call(this,t))});if(this[0]){var t=oe(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(oe.isFunction(e)?function(t){oe(this).wrapInner(e.call(this,t))}:function(){var t=oe(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=oe.isFunction(e);return this.each(function(n){oe(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){oe.nodeName(this,"body")||oe(this).replaceWith(this.childNodes)}).end()}}),oe.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ne.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||oe.css(e,"display"))},oe.expr.filters.visible=function(e){return!oe.expr.filters.hidden(e)};var Vt=/%20/g,qt=/\[\]$/,Yt=/\r?\n/g,Gt=/^(?:submit|button|image|reset|file)$/i,Zt=/^(?:input|select|textarea|keygen)/i;oe.param=function(e,t){var n,i=[],o=function(e,t){t=oe.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=oe.ajaxSettings&&oe.ajaxSettings.traditional),oe.isArray(e)||e.jquery&&!oe.isPlainObject(e))oe.each(e,function(){o(this.name,this.value)});else for(n in e)U(n,e[n],t,o);return i.join("&").replace(Vt,"+")},oe.fn.extend({serialize:function(){return oe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=oe.prop(this,"elements");return e?oe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!oe(this).is(":disabled")&&Zt.test(this.nodeName)&&!Gt.test(e)&&(this.checked||!Ae.test(e))}).map(function(e,t){var n=oe(this).val();return null==n?null:oe.isArray(n)?oe.map(n,function(e){return{name:t.name,value:e.replace(Yt,"\r\n")}}):{name:t.name,value:n.replace(Yt,"\r\n")}}).get()}}),oe.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&W()||V()}:W;var Qt=0,Kt={},Jt=oe.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Kt)Kt[e](void 0,!0)}),ne.cors=!!Jt&&"withCredentials"in Jt,Jt=ne.ajax=!!Jt,Jt&&oe.ajaxTransport(function(e){if(!e.crossDomain||ne.cors){var t;return{send:function(n,i){var o,r=e.xhr(),s=++Qt;if(r.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)r[o]=e.xhrFields[o];e.mimeType&&r.overrideMimeType&&r.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(o in n)void 0!==n[o]&&r.setRequestHeader(o,n[o]+"");r.send(e.hasContent&&e.data||null),t=function(n,o){var a,l,c;if(t&&(o||4===r.readyState))if(delete Kt[s],t=void 0,r.onreadystatechange=oe.noop,o)4!==r.readyState&&r.abort();else{c={},a=r.status,"string"==typeof r.responseText&&(c.text=r.responseText);try{l=r.statusText}catch(d){l=""}a||!e.isLocal||e.crossDomain?1223===a&&(a=204):a=c.text?200:404}c&&i(a,l,c,r.getAllResponseHeaders())},e.async?4===r.readyState?setTimeout(t):r.onreadystatechange=Kt[s]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),oe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return oe.globalEval(e),e}}}),oe.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),oe.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=fe.head||oe("head")[0]||fe.documentElement;return{send:function(i,o){t=fe.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||o(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var en=[],tn=/(=)\?(?=&|$)|\?\?/;oe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=en.pop()||oe.expando+"_"+At++;return this[e]=!0,e}}),oe.ajaxPrefilter("json jsonp",function(t,n,i){var o,r,s,a=t.jsonp!==!1&&(tn.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&tn.test(t.data)&&"data");return a||"jsonp"===t.dataTypes[0]?(o=t.jsonpCallback=oe.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(tn,"$1"+o):t.jsonp!==!1&&(t.url+=(Rt.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return s||oe.error(o+" was not called"),s[0]},t.dataTypes[0]="json",r=e[o],e[o]=function(){s=arguments},i.always(function(){e[o]=r,t[o]&&(t.jsonpCallback=n.jsonpCallback,en.push(o)),s&&oe.isFunction(r)&&r(s[0]),s=r=void 0}),"script"):void 0}),oe.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||fe;var i=ue.exec(e),o=!n&&[];return i?[t.createElement(i[1])]:(i=oe.buildFragment([e],t,o),o&&o.length&&oe(o).remove(),oe.merge([],i.childNodes))};var nn=oe.fn.load;oe.fn.load=function(e,t,n){if("string"!=typeof e&&nn)return nn.apply(this,arguments);var i,o,r,s=this,a=e.indexOf(" ");return a>=0&&(i=oe.trim(e.slice(a,e.length)),e=e.slice(0,a)),oe.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),s.length>0&&oe.ajax({url:e,type:r,dataType:"html",data:t}).done(function(e){o=arguments,s.html(i?oe("<div>").append(oe.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){s.each(n,o||[e.responseText,t,e])}),this},oe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){oe.fn[t]=function(e){return this.on(t,e)}}),oe.expr.filters.animated=function(e){return oe.grep(oe.timers,function(t){return e===t.elem}).length};var on=e.document.documentElement;oe.offset={setOffset:function(e,t,n){var i,o,r,s,a,l,c,d=oe.css(e,"position"),u=oe(e),h={};"static"===d&&(e.style.position="relative"),a=u.offset(),r=oe.css(e,"top"),l=oe.css(e,"left"),c=("absolute"===d||"fixed"===d)&&oe.inArray("auto",[r,l])>-1,c?(i=u.position(),s=i.top,o=i.left):(s=parseFloat(r)||0,o=parseFloat(l)||0),oe.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(h.top=t.top-a.top+s),null!=t.left&&(h.left=t.left-a.left+o),"using"in t?t.using.call(e,h):u.css(h)}},oe.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){oe.offset.setOffset(this,e,t)});var t,n,i={top:0,left:0},o=this[0],r=o&&o.ownerDocument;return r?(t=r.documentElement,oe.contains(t,o)?(typeof o.getBoundingClientRect!==Ce&&(i=o.getBoundingClientRect()),n=q(r),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):i):void 0},position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===oe.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),oe.nodeName(e[0],"html")||(n=e.offset()),n.top+=oe.css(e[0],"borderTopWidth",!0),n.left+=oe.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-oe.css(i,"marginTop",!0),left:t.left-n.left-oe.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||on;e&&!oe.nodeName(e,"html")&&"static"===oe.css(e,"position");)e=e.offsetParent;return e||on})}}),oe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);oe.fn[e]=function(i){return Oe(this,function(e,i,o){var r=q(e);return void 0===o?r?t in r?r[t]:r.document.documentElement[i]:e[i]:void(r?r.scrollTo(n?oe(r).scrollLeft():o,n?o:oe(r).scrollTop()):e[i]=o)},e,i,arguments.length,null)}}),oe.each(["top","left"],function(e,t){oe.cssHooks[t]=k(ne.pixelPosition,function(e,n){return n?(n=tt(e,t),it.test(n)?oe(e).position()[t]+"px":n):void 0})}),oe.each({Height:"height",Width:"width"},function(e,t){oe.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){oe.fn[i]=function(i,o){var r=arguments.length&&(n||"boolean"!=typeof i),s=n||(i===!0||o===!0?"margin":"border");return Oe(this,function(t,n,i){var o;return oe.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?oe.css(t,n,s):oe.style(t,n,i,s)},t,r?i:void 0,r,null)}})}),oe.fn.size=function(){return this.length},oe.fn.andSelf=oe.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return oe});var rn=e.jQuery,sn=e.$;return oe.noConflict=function(t){return e.$===oe&&(e.$=sn),t&&e.jQuery===oe&&(e.jQuery=rn),oe},typeof t===Ce&&(e.jQuery=e.$=oe),oe}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){"use strict";var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,i=this;e(this).one("bsTransitionEnd",function(){n=!0});var o=function(){n||e(i).trigger(e.support.transition.end)};return setTimeout(o,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.alert");o||n.data("bs.alert",o=new i(this)),"string"==typeof t&&o[t].call(n)})}var n='[data-dismiss="alert"]',i=function(t){e(t).on("click",n,this.close)};i.VERSION="3.3.2",i.TRANSITION_DURATION=150,i.prototype.close=function(t){function n(){s.detach().trigger("closed.bs.alert").remove()}var o=e(this),r=o.attr("data-target");r||(r=o.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var s=e(r);t&&t.preventDefault(),s.length||(s=o.closest(".alert")),s.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(s.removeClass("in"),e.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n())};var o=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=i,e.fn.alert.noConflict=function(){return e.fn.alert=o,this},e(document).on("click.bs.alert.data-api",n,i.prototype.close)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),o=i.data("bs.button"),r="object"==typeof t&&t;o||i.data("bs.button",o=new n(this,r)),"toggle"==t?o.toggle():t&&o.setState(t)})}var n=function(t,i){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.3.2",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",i=this.$element,o=i.is("input")?"val":"html",r=i.data();t+="Text",null==r.resetText&&i.data("resetText",i[o]()),setTimeout(e.proxy(function(){i[o](null==r[t]?this.options[t]:r[t]),"loadingText"==t?(this.isLoading=!0,i.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));e&&this.$element.toggleClass("active")};var i=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=i,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var i=e(n.target);i.hasClass("btn")||(i=i.closest(".btn")),t.call(i,"toggle"),n.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),o=i.data("bs.carousel"),r=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t),s="string"==typeof t?t:r.slide;o||i.data("bs.carousel",o=new n(this,r)),"number"==typeof t?o.to(t):s?o[s]():r.interval&&o.pause().cycle()})}var n=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.3.2",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t),i="prev"==e&&0===n||"next"==e&&n==this.$items.length-1;if(i&&!this.options.wrap)return t;var o="prev"==e?-1:1,r=(n+o)%this.$items.length;return this.$items.eq(r)},n.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",this.$items.eq(e))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(t,i){var o=this.$element.find(".item.active"),r=i||this.getItemForDirection(t,o),s=this.interval,a="next"==t?"left":"right",l=this;if(r.hasClass("active"))return this.sliding=!1;var c=r[0],d=e.Event("slide.bs.carousel",{relatedTarget:c,direction:a});if(this.$element.trigger(d),!d.isDefaultPrevented()){if(this.sliding=!0,s&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var u=e(this.$indicators.children()[this.getItemIndex(r)]);u&&u.addClass("active")}var h=e.Event("slid.bs.carousel",{relatedTarget:c,direction:a});return e.support.transition&&this.$element.hasClass("slide")?(r.addClass(t),r[0].offsetWidth,o.addClass(a),r.addClass(a),o.one("bsTransitionEnd",function(){r.removeClass([t,a].join(" ")).addClass("active"),o.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(h)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(o.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger(h)),s&&this.cycle(),this}};var i=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=i,this};var o=function(n){var i,o=e(this),r=e(o.attr("data-target")||(i=o.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(r.hasClass("carousel")){var s=e.extend({},r.data(),o.data()),a=o.attr("data-slide-to");a&&(s.interval=!1),t.call(r,s),a&&r.data("bs.carousel").to(a),n.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",o).on("click.bs.carousel.data-api","[data-slide-to]",o),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(jQuery),+function(e){"use strict";function t(t){var n,i=t.attr("data-target")||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return e(i)}function n(t){return this.each(function(){var n=e(this),o=n.data("bs.collapse"),r=e.extend({},i.DEFAULTS,n.data(),"object"==typeof t&&t);!o&&r.toggle&&"show"==t&&(r.toggle=!1),o||n.data("bs.collapse",o=new i(this,r)),"string"==typeof t&&o[t]()})}var i=function(t,n){this.$element=e(t),this.options=e.extend({},i.DEFAULTS,n),this.$trigger=e(this.options.trigger).filter('[href="#'+t.id+'"], [data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.2",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0,trigger:'[data-toggle="collapse"]'},i.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,o=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(o&&o.length&&(t=o.data("bs.collapse"),t&&t.transitioning))){var r=e.Event("show.bs.collapse");if(this.$element.trigger(r),!r.isDefaultPrevented()){o&&o.length&&(n.call(o,"hide"),t||o.data("bs.collapse",null));var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return a.call(this);var l=e.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",e.proxy(a,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[s](this.$element[0][l])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[n](0).one("bsTransitionEnd",e.proxy(o,this)).emulateTransitionEnd(i.TRANSITION_DURATION):o.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(n,i){var o=e(i);this.addAriaAndCollapsedClass(t(o),o)},this)).end()},i.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var o=e.fn.collapse;e.fn.collapse=n,e.fn.collapse.Constructor=i,e.fn.collapse.noConflict=function(){return e.fn.collapse=o,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var o=e(this);o.attr("data-target")||i.preventDefault();var r=t(o),s=r.data("bs.collapse"),a=s?"toggle":e.extend({},o.data(),{trigger:this});n.call(r,a)})}(jQuery),+function(e){"use strict";function t(t){t&&3===t.which||(e(o).remove(),e(r).each(function(){var i=e(this),o=n(i),r={relatedTarget:this};o.hasClass("open")&&(o.trigger(t=e.Event("hide.bs.dropdown",r)),t.isDefaultPrevented()||(i.attr("aria-expanded","false"),o.removeClass("open").trigger("hidden.bs.dropdown",r)))}))}function n(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&e(n);return i&&i.length?i:t.parent()}function i(t){return this.each(function(){var n=e(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new s(this)),"string"==typeof t&&i[t].call(n)})}var o=".dropdown-backdrop",r='[data-toggle="dropdown"]',s=function(t){e(t).on("click.bs.dropdown",this.toggle)};s.VERSION="3.3.2",s.prototype.toggle=function(i){var o=e(this);if(!o.is(".disabled, :disabled")){var r=n(o),s=r.hasClass("open");if(t(),!s){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t);var a={relatedTarget:this};if(r.trigger(i=e.Event("show.bs.dropdown",a)),i.isDefaultPrevented())return;o.trigger("focus").attr("aria-expanded","true"),r.toggleClass("open").trigger("shown.bs.dropdown",a)}return!1}},s.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var i=e(this);if(t.preventDefault(),t.stopPropagation(),!i.is(".disabled, :disabled")){var o=n(i),s=o.hasClass("open");if(!s&&27!=t.which||s&&27==t.which)return 27==t.which&&o.find(r).trigger("focus"),i.trigger("click");var a=" li:not(.divider):visible a",l=o.find('[role="menu"]'+a+', [role="listbox"]'+a);if(l.length){var c=l.index(t.target);38==t.which&&c>0&&c--,40==t.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var a=e.fn.dropdown;e.fn.dropdown=i,e.fn.dropdown.Constructor=s,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=a,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",r,s.prototype.toggle).on("keydown.bs.dropdown.data-api",r,s.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',s.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',s.prototype.keydown)}(jQuery),+function(e){"use strict";function t(t,i){return this.each(function(){var o=e(this),r=o.data("bs.modal"),s=e.extend({},n.DEFAULTS,o.data(),"object"==typeof t&&t);r||o.data("bs.modal",r=new n(this,s)),"string"==typeof t?r[t](i):s.show&&r.show(i)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.2",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var i=this,o=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var o=e.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.options.backdrop&&i.adjustBackdrop(),i.adjustDialog(),o&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus();var r=e.Event("shown.bs.modal",{relatedTarget:t});o?i.$element.find(".modal-dialog").one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(r)}).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(r)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var i=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=e.support.transition&&o;if(this.$backdrop=e('<div class="modal-backdrop '+o+'" />').prependTo(this.$element).on("click.dismiss.bs.modal",e.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;r?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var s=function(){i.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):s()}else t&&t()},n.prototype.handleUpdate=function(){this.options.backdrop&&this.adjustBackdrop(),this.adjustDialog()},n.prototype.adjustBackdrop=function(){this.$backdrop.css("height",0).css("height",this.$element[0].scrollHeight)},n.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){this.bodyIsOverflowing=document.body.scrollHeight>document.documentElement.clientHeight,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var i=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=i,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=e(this),o=i.attr("href"),r=e(i.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),s=r.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(o)&&o},r.data(),i.data());i.is("a")&&n.preventDefault(),r.one("show.bs.modal",function(e){e.isDefaultPrevented()||r.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),t.call(r,s,this)})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),o=i.data("bs.tooltip"),r="object"==typeof t&&t;(o||"destroy"!=t)&&(o||i.data("bs.tooltip",o=new n(this,r)),"string"==typeof t&&o[t]())})}var n=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};n.VERSION="3.3.2",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(t,n,i){this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&e(this.options.viewport.selector||this.options.viewport);for(var o=this.options.trigger.split(" "),r=o.length;r--;){var s=o[r];if("click"==s)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focusin",l="hover"==s?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,i){n[e]!=i&&(t[e]=i)}),t},n.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n&&n.$tip&&n.$tip.is(":visible")?void(n.hoverState="in"):(n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var i=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);
if(t.isDefaultPrevented()||!i)return;var o=this,r=this.tip(),s=this.getUID(this.type);this.setContent(),r.attr("id",s),this.$element.attr("aria-describedby",s),this.options.animation&&r.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(a);c&&(a=a.replace(l,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element);var d=this.getPosition(),u=r[0].offsetWidth,h=r[0].offsetHeight;if(c){var p=a,f=this.options.container?e(this.options.container):this.$element.parent(),m=this.getPosition(f);a="bottom"==a&&d.bottom+h>m.bottom?"top":"top"==a&&d.top-h<m.top?"bottom":"right"==a&&d.right+u>m.width?"left":"left"==a&&d.left-u<m.left?"right":a,r.removeClass(p).addClass(a)}var g=this.getCalculatedOffset(a,d,u,h);this.applyPlacement(g,a);var v=function(){var e=o.hoverState;o.$element.trigger("shown.bs."+o.type),o.hoverState=null,"out"==e&&o.leave(o)};e.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",v).emulateTransitionEnd(n.TRANSITION_DURATION):v()}},n.prototype.applyPlacement=function(t,n){var i=this.tip(),o=i[0].offsetWidth,r=i[0].offsetHeight,s=parseInt(i.css("margin-top"),10),a=parseInt(i.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),t.top=t.top+s,t.left=t.left+a,e.offset.setOffset(i[0],e.extend({using:function(e){i.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),i.addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;"top"==n&&c!=r&&(t.top=t.top+r-c);var d=this.getViewportAdjustedDelta(n,t,l,c);d.left?t.left+=d.left:t.top+=d.top;var u=/top|bottom/.test(n),h=u?2*d.left-o+l:2*d.top-r+c,p=u?"offsetWidth":"offsetHeight";i.offset(t),this.replaceArrow(h,i[0][p],u)},n.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},n.prototype.hide=function(t){function i(){"in"!=o.hoverState&&r.detach(),o.$element.removeAttr("aria-describedby").trigger("hidden.bs."+o.type),t&&t()}var o=this,r=this.tip(),s=e.Event("hide.bs."+this.type);return this.$element.trigger(s),s.isDefaultPrevented()?void 0:(r.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],i="BODY"==n.tagName,o=n.getBoundingClientRect();null==o.width&&(o=e.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var r=i?{top:0,left:0}:t.offset(),s={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},a=i?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},o,s,a,r)},n.prototype.getCalculatedOffset=function(e,t,n,i){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-i,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-i/2,left:t.left-n}:{top:t.top+t.height/2-i/2,left:t.left+t.width}},n.prototype.getViewportAdjustedDelta=function(e,t,n,i){var o={top:0,left:0};if(!this.$viewport)return o;var r=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(e)){var a=t.top-r-s.scroll,l=t.top+r-s.scroll+i;a<s.top?o.top=s.top-a:l>s.top+s.height&&(o.top=s.top+s.height-l)}else{var c=t.left-r,d=t.left+r+n;c<s.left?o.left=s.left-c:d>s.width&&(o.left=s.left+s.width-d)}return o},n.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},n.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},n.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var n=this;t&&(n=e(t.currentTarget).data("bs."+this.type),n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type)})};var i=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=n,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=i,this}}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),o=i.data("bs.popover"),r="object"==typeof t&&t;(o||"destroy"!=t)&&(o||i.data("bs.popover",o=new n(this,r)),"string"==typeof t&&o[t]())})}var n=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.2",n.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},n.prototype.tip=function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip};var i=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=n,e.fn.popover.noConflict=function(){return e.fn.popover=i,this}}(jQuery),+function(e){"use strict";function t(n,i){var o=e.proxy(this.process,this);this.$body=e("body"),this.$scrollElement=e(e(n).is("body")?window:n),this.options=e.extend({},t.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",o),this.refresh(),this.process()}function n(n){return this.each(function(){var i=e(this),o=i.data("bs.scrollspy"),r="object"==typeof n&&n;o||i.data("bs.scrollspy",o=new t(this,r)),"string"==typeof n&&o[n]()})}t.VERSION="3.3.2",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t="offset",n=0;e.isWindow(this.$scrollElement[0])||(t="position",n=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var i=this;this.$body.find(this.selector).map(function(){var i=e(this),o=i.data("target")||i.attr("href"),r=/^#./.test(o)&&e(o);return r&&r.length&&r.is(":visible")&&[[r[t]().top+n,o]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){i.offsets.push(this[0]),i.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),o=this.offsets,r=this.targets,s=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=i)return s!=(e=r[r.length-1])&&this.activate(e);if(s&&t<o[0])return this.activeTarget=null,this.clear();for(e=o.length;e--;)s!=r[e]&&t>=o[e]&&(!o[e+1]||t<=o[e+1])&&this.activate(r[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=e(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=i,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),o=i.data("bs.tab");o||i.data("bs.tab",o=new n(this)),"string"==typeof t&&o[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.3.2",n.TRANSITION_DURATION=150,n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),i=t.data("target");if(i||(i=t.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var o=n.find(".active:last a"),r=e.Event("hide.bs.tab",{relatedTarget:t[0]}),s=e.Event("show.bs.tab",{relatedTarget:o[0]});if(o.trigger(r),t.trigger(s),!s.isDefaultPrevented()&&!r.isDefaultPrevented()){var a=e(i);this.activate(t.closest("li"),n),this.activate(a,a.parent(),function(){o.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:o[0]})})}}},n.prototype.activate=function(t,i,o){function r(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),o&&o()}var s=i.find("> .active"),a=o&&e.support.transition&&(s.length&&s.hasClass("fade")||!!i.find("> .fade").length);s.length&&a?s.one("bsTransitionEnd",r).emulateTransitionEnd(n.TRANSITION_DURATION):r(),s.removeClass("in")};var i=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=i,this};var o=function(n){n.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',o).on("click.bs.tab.data-api",'[data-toggle="pill"]',o)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),o=i.data("bs.affix"),r="object"==typeof t&&t;o||i.data("bs.affix",o=new n(this,r)),"string"==typeof t&&o[t]()})}var n=function(t,i){this.options=e.extend({},n.DEFAULTS,i),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.2",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(e,t,n,i){var o=this.$target.scrollTop(),r=this.$element.offset(),s=this.$target.height();if(null!=n&&"top"==this.affixed)return n>o&&"top";if("bottom"==this.affixed)return null!=n?!(o+this.unpin<=r.top)&&"bottom":!(e-i>=o+s)&&"bottom";var a=null==this.affixed,l=a?o:r.top,c=a?s:t;return null!=n&&n>=o?"top":null!=i&&l+c>=e-i&&"bottom"},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),i=this.options.offset,o=i.top,r=i.bottom,s=e("body").height();"object"!=typeof i&&(r=o=i),"function"==typeof o&&(o=i.top(this.$element)),"function"==typeof r&&(r=i.bottom(this.$element));var a=this.getState(s,t,o,r);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var l="affix"+(a?"-"+a:""),c=e.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:s-t-r})}};var i=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=i,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),i=n.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),t.call(n,i)})})}(jQuery),!function(e,t){if("function"==typeof define&&define.amd)define(["jquery"],t);else if("object"==typeof module&&module.exports){var n;try{n=require("jquery")}catch(i){n=null}module.exports=t(n)}else e.Slider=t(e.jQuery)}(this,function(e){var t;return function(e){"use strict";function t(){}function n(e){function n(t){t.prototype.option||(t.prototype.option=function(t){e.isPlainObject(t)&&(this.options=e.extend(!0,this.options,t))})}function o(t,n){e.fn[t]=function(o){if("string"==typeof o){for(var s=i.call(arguments,1),a=0,l=this.length;l>a;a++){var c=this[a],d=e.data(c,t);if(d)if(e.isFunction(d[o])&&"_"!==o.charAt(0)){var u=d[o].apply(d,s);if(void 0!==u&&u!==d)return u}else r("no such method '"+o+"' for "+t+" instance");else r("cannot call methods on "+t+" prior to initialization; attempted to call '"+o+"'")}return this}var h=this.map(function(){var i=e.data(this,t);return i?(i.option(o),i._init()):(i=new n(this,o),e.data(this,t,i)),e(this)});return!h||h.length>1?h:h[0]}}if(e){var r="undefined"==typeof console?t:function(e){console.error(e)};return e.bridget=function(e,t){n(t),o(e,t)},e.bridget}}var i=Array.prototype.slice;n(e)}(e),function(e){function n(t,n){function i(e,t){var n="data-slider-"+t.replace(/_/g,"-"),i=e.getAttribute(n);try{return JSON.parse(i)}catch(o){return i}}"string"==typeof t?this.element=document.querySelector(t):t instanceof HTMLElement&&(this.element=t),n=n?n:{};for(var r=Object.keys(this.defaultOptions),s=0;s<r.length;s++){var a=r[s],l=n[a];l="undefined"!=typeof l?l:i(this.element,a),l=null!==l?l:this.defaultOptions[a],this.options||(this.options={}),this.options[a]=l}var c,d,u,h,p,f=this.element.style.width,m=!1,g=this.element.parentNode;if(this.sliderElem)m=!0;else{this.sliderElem=document.createElement("div"),this.sliderElem.className="slider";var v=document.createElement("div");if(v.className="slider-track",d=document.createElement("div"),d.className="slider-track-low",c=document.createElement("div"),c.className="slider-selection",u=document.createElement("div"),u.className="slider-track-high",h=document.createElement("div"),h.className="slider-handle min-slider-handle",p=document.createElement("div"),p.className="slider-handle max-slider-handle",v.appendChild(d),v.appendChild(c),v.appendChild(u),this.ticks=[],Array.isArray(this.options.ticks)&&this.options.ticks.length>0){for(s=0;s<this.options.ticks.length;s++){var y=document.createElement("div");y.className="slider-tick",this.ticks.push(y),v.appendChild(y)}c.className+=" tick-slider-selection"}if(v.appendChild(h),v.appendChild(p),this.tickLabels=[],Array.isArray(this.options.ticks_labels)&&this.options.ticks_labels.length>0)for(this.tickLabelContainer=document.createElement("div"),this.tickLabelContainer.className="slider-tick-label-container",s=0;s<this.options.ticks_labels.length;s++){var b=document.createElement("div");b.className="slider-tick-label",b.innerHTML=this.options.ticks_labels[s],this.tickLabels.push(b),this.tickLabelContainer.appendChild(b)}var w=function(e){var t=document.createElement("div");t.className="tooltip-arrow";var n=document.createElement("div");n.className="tooltip-inner",e.appendChild(t),e.appendChild(n)},x=document.createElement("div");x.className="tooltip tooltip-main",w(x);var _=document.createElement("div");_.className="tooltip tooltip-min",w(_);var C=document.createElement("div");C.className="tooltip tooltip-max",w(C),this.sliderElem.appendChild(v),this.sliderElem.appendChild(x),this.sliderElem.appendChild(_),this.sliderElem.appendChild(C),this.tickLabelContainer&&this.sliderElem.appendChild(this.tickLabelContainer),g.insertBefore(this.sliderElem,this.element),this.element.style.display="none"}if(e&&(this.$element=e(this.element),this.$sliderElem=e(this.sliderElem)),this.eventToCallbackMap={},this.sliderElem.id=this.options.id,this.touchCapable="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,this.tooltip=this.sliderElem.querySelector(".tooltip-main"),this.tooltipInner=this.tooltip.querySelector(".tooltip-inner"),this.tooltip_min=this.sliderElem.querySelector(".tooltip-min"),this.tooltipInner_min=this.tooltip_min.querySelector(".tooltip-inner"),this.tooltip_max=this.sliderElem.querySelector(".tooltip-max"),this.tooltipInner_max=this.tooltip_max.querySelector(".tooltip-inner"),o[this.options.scale]&&(this.options.scale=o[this.options.scale]),m===!0&&(this._removeClass(this.sliderElem,"slider-horizontal"),this._removeClass(this.sliderElem,"slider-vertical"),this._removeClass(this.tooltip,"hide"),this._removeClass(this.tooltip_min,"hide"),this._removeClass(this.tooltip_max,"hide"),["left","top","width","height"].forEach(function(e){this._removeProperty(this.trackLow,e),this._removeProperty(this.trackSelection,e),this._removeProperty(this.trackHigh,e)},this),[this.handle1,this.handle2].forEach(function(e){this._removeProperty(e,"left"),this._removeProperty(e,"top")},this),[this.tooltip,this.tooltip_min,this.tooltip_max].forEach(function(e){this._removeProperty(e,"left"),this._removeProperty(e,"top"),this._removeProperty(e,"margin-left"),this._removeProperty(e,"margin-top"),this._removeClass(e,"right"),this._removeClass(e,"top")},this)),"vertical"===this.options.orientation?(this._addClass(this.sliderElem,"slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight",this._addClass(this.tooltip,"right"),this.tooltip.style.left="100%",this._addClass(this.tooltip_min,"right"),this.tooltip_min.style.left="100%",this._addClass(this.tooltip_max,"right"),this.tooltip_max.style.left="100%"):(this._addClass(this.sliderElem,"slider-horizontal"),this.sliderElem.style.width=f,this.options.orientation="horizontal",this.stylePos="left",this.mousePos="pageX",this.sizePos="offsetWidth",this._addClass(this.tooltip,"top"),this.tooltip.style.top=-this.tooltip.outerHeight-14+"px",this._addClass(this.tooltip_min,"top"),this.tooltip_min.style.top=-this.tooltip_min.outerHeight-14+"px",this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top=-this.tooltip_max.outerHeight-14+"px"),Array.isArray(this.options.ticks)&&this.options.ticks.length>0&&(this.options.max=Math.max.apply(Math,this.options.ticks),this.options.min=Math.min.apply(Math,this.options.ticks)),Array.isArray(this.options.value)?this.options.range=!0:this.options.range&&(this.options.value=[this.options.value,this.options.max]),this.trackLow=d||this.trackLow,this.trackSelection=c||this.trackSelection,this.trackHigh=u||this.trackHigh,"none"===this.options.selection&&(this._addClass(this.trackLow,"hide"),this._addClass(this.trackSelection,"hide"),this._addClass(this.trackHigh,"hide")),this.handle1=h||this.handle1,this.handle2=p||this.handle2,m===!0)for(this._removeClass(this.handle1,"round triangle"),this._removeClass(this.handle2,"round triangle hide"),s=0;s<this.ticks.length;s++)this._removeClass(this.ticks[s],"round triangle hide");var T=["round","triangle","custom"],E=-1!==T.indexOf(this.options.handle);if(E)for(this._addClass(this.handle1,this.options.handle),this._addClass(this.handle2,this.options.handle),s=0;s<this.ticks.length;s++)this._addClass(this.ticks[s],this.options.handle);this.offset=this._offset(this.sliderElem),this.size=this.sliderElem[this.sizePos],this.setValue(this.options.value),this.handle1Keydown=this._keydown.bind(this,0),this.handle1.addEventListener("keydown",this.handle1Keydown,!1),this.handle2Keydown=this._keydown.bind(this,1),this.handle2.addEventListener("keydown",this.handle2Keydown,!1),this.mousedown=this._mousedown.bind(this),this.touchCapable&&this.sliderElem.addEventListener("touchstart",this.mousedown,!1),this.sliderElem.addEventListener("mousedown",this.mousedown,!1),"hide"===this.options.tooltip?(this._addClass(this.tooltip,"hide"),this._addClass(this.tooltip_min,"hide"),this._addClass(this.tooltip_max,"hide")):"always"===this.options.tooltip?(this._showTooltip(),this._alwaysShowTooltip=!0):(this.showTooltip=this._showTooltip.bind(this),this.hideTooltip=this._hideTooltip.bind(this),this.sliderElem.addEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.addEventListener("mouseleave",this.hideTooltip,!1),this.handle1.addEventListener("focus",this.showTooltip,!1),this.handle1.addEventListener("blur",this.hideTooltip,!1),this.handle2.addEventListener("focus",this.showTooltip,!1),this.handle2.addEventListener("blur",this.hideTooltip,!1)),this.options.enabled?this.enable():this.disable()}var i={formatInvalidInputErrorMsg:function(e){return"Invalid input value '"+e+"' passed in"},callingContextNotSliderInstance:"Calling context element does not have instance of Slider bound to it. Check your code to make sure the JQuery object returned from the call to the slider() initializer is calling the method"},o={linear:{toValue:function(e){var t=e/100*(this.options.max-this.options.min);if(this.options.ticks_positions.length>0){for(var n,i,o,r=0,s=0;s<this.options.ticks_positions.length;s++)if(e<=this.options.ticks_positions[s]){n=s>0?this.options.ticks[s-1]:0,o=s>0?this.options.ticks_positions[s-1]:0,i=this.options.ticks[s],r=this.options.ticks_positions[s];break}if(s>0){var a=(e-o)/(r-o);t=n+a*(i-n)}}var l=this.options.min+Math.round(t/this.options.step)*this.options.step;return l<this.options.min?this.options.min:l>this.options.max?this.options.max:l},toPercentage:function(e){if(this.options.max===this.options.min)return 0;if(this.options.ticks_positions.length>0){for(var t,n,i,o=0,r=0;r<this.options.ticks.length;r++)if(e<=this.options.ticks[r]){t=r>0?this.options.ticks[r-1]:0,i=r>0?this.options.ticks_positions[r-1]:0,n=this.options.ticks[r],o=this.options.ticks_positions[r];break}if(r>0){var s=(e-t)/(n-t);return i+s*(o-i)}}return 100*(e-this.options.min)/(this.options.max-this.options.min)}},logarithmic:{toValue:function(e){var t=0===this.options.min?0:Math.log(this.options.min),n=Math.log(this.options.max),i=Math.exp(t+(n-t)*e/100);return i=this.options.min+Math.round((i-this.options.min)/this.options.step)*this.options.step,i<this.options.min?this.options.min:i>this.options.max?this.options.max:i},toPercentage:function(e){if(this.options.max===this.options.min)return 0;var t=Math.log(this.options.max),n=0===this.options.min?0:Math.log(this.options.min),i=0===e?0:Math.log(e);return 100*(i-n)/(t-n)}}};if(t=function(e,t){return n.call(this,e,t),this},t.prototype={_init:function(){},constructor:t,defaultOptions:{id:"",min:0,max:10,step:1,precision:0,orientation:"horizontal",value:5,range:!1,selection:"before",tooltip:"show",tooltip_split:!1,handle:"round",reversed:!1,enabled:!0,formatter:function(e){return Array.isArray(e)?e[0]+" : "+e[1]:e},natural_arrow_keys:!1,ticks:[],ticks_positions:[],ticks_labels:[],ticks_snap_bounds:0,scale:"linear",focus:!1},over:!1,inDrag:!1,getValue:function(){return this.options.range?this.options.value:this.options.value[0]},setValue:function(e,t,n){e||(e=0);var i=this.getValue();this.options.value=this._validateInputValue(e);var o=this._applyPrecision.bind(this);this.options.range?(this.options.value[0]=o(this.options.value[0]),this.options.value[1]=o(this.options.value[1]),this.options.value[0]=Math.max(this.options.min,Math.min(this.options.max,this.options.value[0])),this.options.value[1]=Math.max(this.options.min,Math.min(this.options.max,this.options.value[1]))):(this.options.value=o(this.options.value),this.options.value=[Math.max(this.options.min,Math.min(this.options.max,this.options.value))],this._addClass(this.handle2,"hide"),this.options.value[1]="after"===this.options.selection?this.options.max:this.options.min),this.percentage=this.options.max>this.options.min?[this._toPercentage(this.options.value[0]),this._toPercentage(this.options.value[1]),100*this.options.step/(this.options.max-this.options.min)]:[0,0,100],this._layout();var r=this.options.range?this.options.value:this.options.value[0];return t===!0&&this._trigger("slide",r),i!==r&&n===!0&&this._trigger("change",{oldValue:i,newValue:r}),this._setDataVal(r),this},destroy:function(){this._removeSliderEventHandlers(),this.sliderElem.parentNode.removeChild(this.sliderElem),this.element.style.display="",this._cleanUpEventCallbacksMap(),this.element.removeAttribute("data"),e&&(this._unbindJQueryEventHandlers(),this.$element.removeData("slider"))},disable:function(){return this.options.enabled=!1,this.handle1.removeAttribute("tabindex"),this.handle2.removeAttribute("tabindex"),this._addClass(this.sliderElem,"slider-disabled"),this._trigger("slideDisabled"),this},enable:function(){return this.options.enabled=!0,this.handle1.setAttribute("tabindex",0),this.handle2.setAttribute("tabindex",0),this._removeClass(this.sliderElem,"slider-disabled"),this._trigger("slideEnabled"),this},toggle:function(){return this.options.enabled?this.disable():this.enable(),this},isEnabled:function(){return this.options.enabled},on:function(e,t){return this._bindNonQueryEventHandler(e,t),this},getAttribute:function(e){return e?this.options[e]:this.options},setAttribute:function(e,t){return this.options[e]=t,this},refresh:function(){return this._removeSliderEventHandlers(),n.call(this,this.element,this.options),e&&e.data(this.element,"slider",this),this},relayout:function(){return this._layout(),this},_removeSliderEventHandlers:function(){this.handle1.removeEventListener("keydown",this.handle1Keydown,!1),this.handle1.removeEventListener("focus",this.showTooltip,!1),this.handle1.removeEventListener("blur",this.hideTooltip,!1),this.handle2.removeEventListener("keydown",this.handle2Keydown,!1),this.handle2.removeEventListener("focus",this.handle2Keydown,!1),this.handle2.removeEventListener("blur",this.handle2Keydown,!1),this.sliderElem.removeEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.removeEventListener("mouseleave",this.hideTooltip,!1),this.sliderElem.removeEventListener("touchstart",this.mousedown,!1),this.sliderElem.removeEventListener("mousedown",this.mousedown,!1)},_bindNonQueryEventHandler:function(e,t){void 0===this.eventToCallbackMap[e]&&(this.eventToCallbackMap[e]=[]),this.eventToCallbackMap[e].push(t)},_cleanUpEventCallbacksMap:function(){for(var e=Object.keys(this.eventToCallbackMap),t=0;t<e.length;t++){var n=e[t];this.eventToCallbackMap[n]=null}},_showTooltip:function(){this.options.tooltip_split===!1?this._addClass(this.tooltip,"in"):(this._addClass(this.tooltip_min,"in"),this._addClass(this.tooltip_max,"in")),this.over=!0},_hideTooltip:function(){this.inDrag===!1&&this.alwaysShowTooltip!==!0&&(this._removeClass(this.tooltip,"in"),this._removeClass(this.tooltip_min,"in"),this._removeClass(this.tooltip_max,"in")),this.over=!1},_layout:function(){var e;if(e=this.options.reversed?[100-this.percentage[0],this.percentage[1]]:[this.percentage[0],this.percentage[1]],this.handle1.style[this.stylePos]=e[0]+"%",this.handle2.style[this.stylePos]=e[1]+"%",Array.isArray(this.options.ticks)&&this.options.ticks.length>0){var t=Math.max.apply(Math,this.options.ticks),n=Math.min.apply(Math,this.options.ticks),i="vertical"===this.options.orientation?"height":"width",o="vertical"===this.options.orientation?"marginTop":"marginLeft",r=this.size/(this.options.ticks.length-1);if(this.tickLabelContainer){var s=0;if(0===this.options.ticks_positions.length)this.tickLabelContainer.style[o]=-r/2+"px",s=this.tickLabelContainer.offsetHeight;else for(a=0;a<this.tickLabelContainer.childNodes.length;a++)this.tickLabelContainer.childNodes[a].offsetHeight>s&&(s=this.tickLabelContainer.childNodes[a].offsetHeight);"horizontal"===this.options.orientation&&(this.sliderElem.style.marginBottom=s+"px")}for(var a=0;a<this.options.ticks.length;a++){var l=this.options.ticks_positions[a]||100*(this.options.ticks[a]-n)/(t-n);this.ticks[a].style[this.stylePos]=l+"%",this._removeClass(this.ticks[a],"in-selection"),this.options.range?l>=e[0]&&l<=e[1]&&this._addClass(this.ticks[a],"in-selection"):"after"===this.options.selection&&l>=e[0]?this._addClass(this.ticks[a],"in-selection"):"before"===this.options.selection&&l<=e[0]&&this._addClass(this.ticks[a],"in-selection"),this.tickLabels[a]&&(this.tickLabels[a].style[i]=r+"px",void 0!==this.options.ticks_positions[a]&&(this.tickLabels[a].style.position="absolute",this.tickLabels[a].style[this.stylePos]=this.options.ticks_positions[a]+"%",this.tickLabels[a].style[o]=-r/2+"px"))}}if("vertical"===this.options.orientation)this.trackLow.style.top="0",this.trackLow.style.height=Math.min(e[0],e[1])+"%",this.trackSelection.style.top=Math.min(e[0],e[1])+"%",this.trackSelection.style.height=Math.abs(e[0]-e[1])+"%",this.trackHigh.style.bottom="0",this.trackHigh.style.height=100-Math.min(e[0],e[1])-Math.abs(e[0]-e[1])+"%";else{this.trackLow.style.left="0",this.trackLow.style.width=Math.min(e[0],e[1])+"%",this.trackSelection.style.left=Math.min(e[0],e[1])+"%",this.trackSelection.style.width=Math.abs(e[0]-e[1])+"%",this.trackHigh.style.right="0",this.trackHigh.style.width=100-Math.min(e[0],e[1])-Math.abs(e[0]-e[1])+"%";var c=this.tooltip_min.getBoundingClientRect(),d=this.tooltip_max.getBoundingClientRect();c.right>d.left?(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top="18px"):(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top=this.tooltip_min.style.top)}var u;if(this.options.range){u=this.options.formatter(this.options.value),this._setText(this.tooltipInner,u),this.tooltip.style[this.stylePos]=(e[1]+e[0])/2+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px"),"vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px");var h=this.options.formatter(this.options.value[0]);this._setText(this.tooltipInner_min,h);var p=this.options.formatter(this.options.value[1]);this._setText(this.tooltipInner_max,p),this.tooltip_min.style[this.stylePos]=e[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip_min,"margin-top",-this.tooltip_min.offsetHeight/2+"px"):this._css(this.tooltip_min,"margin-left",-this.tooltip_min.offsetWidth/2+"px"),this.tooltip_max.style[this.stylePos]=e[1]+"%","vertical"===this.options.orientation?this._css(this.tooltip_max,"margin-top",-this.tooltip_max.offsetHeight/2+"px"):this._css(this.tooltip_max,"margin-left",-this.tooltip_max.offsetWidth/2+"px")}else u=this.options.formatter(this.options.value[0]),this._setText(this.tooltipInner,u),this.tooltip.style[this.stylePos]=e[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px");
},_removeProperty:function(e,t){e.style.removeProperty?e.style.removeProperty(t):e.style.removeAttribute(t)},_mousedown:function(e){if(!this.options.enabled)return!1;this.offset=this._offset(this.sliderElem),this.size=this.sliderElem[this.sizePos];var t=this._getPercentage(e);if(this.options.range){var n=Math.abs(this.percentage[0]-t),i=Math.abs(this.percentage[1]-t);this.dragged=i>n?0:1}else this.dragged=0;this.percentage[this.dragged]=this.options.reversed?100-t:t,this._layout(),this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),this.mousemove&&document.removeEventListener("mousemove",this.mousemove,!1),this.mouseup&&document.removeEventListener("mouseup",this.mouseup,!1),this.mousemove=this._mousemove.bind(this),this.mouseup=this._mouseup.bind(this),this.touchCapable&&(document.addEventListener("touchmove",this.mousemove,!1),document.addEventListener("touchend",this.mouseup,!1)),document.addEventListener("mousemove",this.mousemove,!1),document.addEventListener("mouseup",this.mouseup,!1),this.inDrag=!0;var o=this._calculateValue();return this._trigger("slideStart",o),this._setDataVal(o),this.setValue(o,!1,!0),this._pauseEvent(e),this.options.focus&&this._triggerFocusOnHandle(this.dragged),!0},_triggerFocusOnHandle:function(e){0===e&&this.handle1.focus(),1===e&&this.handle2.focus()},_keydown:function(e,t){if(!this.options.enabled)return!1;var n;switch(t.keyCode){case 37:case 40:n=-1;break;case 39:case 38:n=1}if(n){if(this.options.natural_arrow_keys){var i="vertical"===this.options.orientation&&!this.options.reversed,o="horizontal"===this.options.orientation&&this.options.reversed;(i||o)&&(n=-n)}var r=this.options.value[e]+n*this.options.step;return this.options.range&&(r=[e?this.options.value[0]:r,e?r:this.options.value[1]]),this._trigger("slideStart",r),this._setDataVal(r),this.setValue(r,!0,!0),this._trigger("slideStop",r),this._setDataVal(r),this._layout(),this._pauseEvent(t),!1}},_pauseEvent:function(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1},_mousemove:function(e){if(!this.options.enabled)return!1;var t=this._getPercentage(e);this._adjustPercentageForRangeSliders(t),this.percentage[this.dragged]=this.options.reversed?100-t:t,this._layout();var n=this._calculateValue(!0);return this.setValue(n,!0,!0),!1},_adjustPercentageForRangeSliders:function(e){this.options.range&&(0===this.dragged&&this.percentage[1]<e?(this.percentage[0]=this.percentage[1],this.dragged=1):1===this.dragged&&this.percentage[0]>e&&(this.percentage[1]=this.percentage[0],this.dragged=0))},_mouseup:function(){if(!this.options.enabled)return!1;this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),document.removeEventListener("mousemove",this.mousemove,!1),document.removeEventListener("mouseup",this.mouseup,!1),this.inDrag=!1,this.over===!1&&this._hideTooltip();var e=this._calculateValue(!0);return this._layout(),this._trigger("slideStop",e),this._setDataVal(e),!1},_calculateValue:function(e){var t;if(this.options.range?(t=[this.options.min,this.options.max],0!==this.percentage[0]&&(t[0]=this._toValue(this.percentage[0]),t[0]=this._applyPrecision(t[0])),100!==this.percentage[1]&&(t[1]=this._toValue(this.percentage[1]),t[1]=this._applyPrecision(t[1]))):(t=this._toValue(this.percentage[0]),t=parseFloat(t),t=this._applyPrecision(t)),e){for(var n=[t,1/0],i=0;i<this.options.ticks.length;i++){var o=Math.abs(this.options.ticks[i]-t);o<=n[1]&&(n=[this.options.ticks[i],o])}if(n[1]<=this.options.ticks_snap_bounds)return n[0]}return t},_applyPrecision:function(e){var t=this.options.precision||this._getNumDigitsAfterDecimalPlace(this.options.step);return this._applyToFixedAndParseFloat(e,t)},_getNumDigitsAfterDecimalPlace:function(e){var t=(""+e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0},_applyToFixedAndParseFloat:function(e,t){var n=e.toFixed(t);return parseFloat(n)},_getPercentage:function(e){!this.touchCapable||"touchstart"!==e.type&&"touchmove"!==e.type||(e=e.touches[0]);var t=e[this.mousePos],n=this.offset[this.stylePos],i=t-n,o=i/this.size*100;return o=Math.round(o/this.percentage[2])*this.percentage[2],Math.max(0,Math.min(100,o))},_validateInputValue:function(e){if("number"==typeof e)return e;if(Array.isArray(e))return this._validateArray(e),e;throw new Error(i.formatInvalidInputErrorMsg(e))},_validateArray:function(e){for(var t=0;t<e.length;t++){var n=e[t];if("number"!=typeof n)throw new Error(i.formatInvalidInputErrorMsg(n))}},_setDataVal:function(e){var t="value: '"+e+"'";this.element.setAttribute("data",t),this.element.setAttribute("value",e),this.element.value=e},_trigger:function(t,n){n=n||0===n?n:void 0;var i=this.eventToCallbackMap[t];if(i&&i.length)for(var o=0;o<i.length;o++){var r=i[o];r(n)}e&&this._triggerJQueryEvent(t,n)},_triggerJQueryEvent:function(e,t){var n={type:e,value:t};this.$element.trigger(n),this.$sliderElem.trigger(n)},_unbindJQueryEventHandlers:function(){this.$element.off(),this.$sliderElem.off()},_setText:function(e,t){"undefined"!=typeof e.innerText?e.innerText=t:"undefined"!=typeof e.textContent&&(e.textContent=t)},_removeClass:function(e,t){for(var n=t.split(" "),i=e.className,o=0;o<n.length;o++){var r=n[o],s=new RegExp("(?:\\s|^)"+r+"(?:\\s|$)");i=i.replace(s," ")}e.className=i.trim()},_addClass:function(e,t){for(var n=t.split(" "),i=e.className,o=0;o<n.length;o++){var r=n[o],s=new RegExp("(?:\\s|^)"+r+"(?:\\s|$)"),a=s.test(i);a||(i+=" "+r)}e.className=i.trim()},_offsetLeft:function(e){for(var t=e.offsetLeft;(e=e.offsetParent)&&!isNaN(e.offsetLeft);)t+=e.offsetLeft;return t},_offsetTop:function(e){for(var t=e.offsetTop;(e=e.offsetParent)&&!isNaN(e.offsetTop);)t+=e.offsetTop;return t},_offset:function(e){return{left:this._offsetLeft(e),top:this._offsetTop(e)}},_css:function(t,n,i){if(e)e.style(t,n,i);else{var o=n.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(e,t){return t.toUpperCase()});t.style[o]=i}},_toValue:function(e){return this.options.scale.toValue.apply(this,[e])},_toPercentage:function(e){return this.options.scale.toPercentage.apply(this,[e])}},e){var r=e.fn.slider?"bootstrapSlider":"slider";e.bridget(r,t)}}(e),t}),+function(e){"use strict";function t(t){var i=arguments[1];return this.each(function(){var o=e(this),r=o.data("bs.toggle"),s="object"==typeof t&&t;r||o.data("bs.toggle",r=new n(this,s)),"string"==typeof t&&r[t]&&r[t](i)})}var n=function(t,n){this.$element=e(t),this.options=e.extend({},this.defaults(),n),this.render()};n.VERSION="2.2.0",n.DEFAULTS={on:"On",off:"Off",onstyle:"primary",offstyle:"default",size:"normal",style:"",width:null,height:null},n.prototype.defaults=function(){return{on:this.$element.attr("data-on")||n.DEFAULTS.on,off:this.$element.attr("data-off")||n.DEFAULTS.off,onstyle:this.$element.attr("data-onstyle")||n.DEFAULTS.onstyle,offstyle:this.$element.attr("data-offstyle")||n.DEFAULTS.offstyle,size:this.$element.attr("data-size")||n.DEFAULTS.size,style:this.$element.attr("data-style")||n.DEFAULTS.style,width:this.$element.attr("data-width")||n.DEFAULTS.width,height:this.$element.attr("data-height")||n.DEFAULTS.height}},n.prototype.render=function(){this._onstyle="btn-"+this.options.onstyle,this._offstyle="btn-"+this.options.offstyle;var t="large"===this.options.size?"btn-lg":"small"===this.options.size?"btn-sm":"mini"===this.options.size?"btn-xs":"",n=e('<label class="btn">').html(this.options.on).addClass(this._onstyle+" "+t),i=e('<label class="btn">').html(this.options.off).addClass(this._offstyle+" "+t+" active"),o=e('<span class="toggle-handle btn btn-default">').addClass(t),r=e('<div class="toggle-group">').append(n,i,o),s=e('<div class="toggle btn" data-toggle="toggle">').addClass(this.$element.prop("checked")?this._onstyle:this._offstyle+" off").addClass(t).addClass(this.options.style);this.$element.wrap(s),e.extend(this,{$toggle:this.$element.parent(),$toggleOn:n,$toggleOff:i,$toggleGroup:r}),this.$toggle.append(r);var a=this.options.width||Math.max(n.outerWidth(),i.outerWidth())+o.outerWidth()/2,l=this.options.height||Math.max(n.outerHeight(),i.outerHeight());n.addClass("toggle-on"),i.addClass("toggle-off"),this.$toggle.css({width:a,height:l}),this.options.height&&(n.css("line-height",n.height()+"px"),i.css("line-height",i.height()+"px")),this.update(!0),this.trigger(!0)},n.prototype.toggle=function(){this.$element.prop("checked")?this.off():this.on()},n.prototype.on=function(e){return!this.$element.prop("disabled")&&(this.$toggle.removeClass(this._offstyle+" off").addClass(this._onstyle),this.$element.prop("checked",!0),void(e||this.trigger()))},n.prototype.off=function(e){return!this.$element.prop("disabled")&&(this.$toggle.removeClass(this._onstyle).addClass(this._offstyle+" off"),this.$element.prop("checked",!1),void(e||this.trigger()))},n.prototype.enable=function(){this.$toggle.removeAttr("disabled"),this.$element.prop("disabled",!1)},n.prototype.disable=function(){this.$toggle.attr("disabled","disabled"),this.$element.prop("disabled",!0)},n.prototype.update=function(e){this.$element.prop("disabled")?this.disable():this.enable(),this.$element.prop("checked")?this.on(e):this.off(e)},n.prototype.trigger=function(t){this.$element.off("change.bs.toggle"),t||this.$element.change(),this.$element.on("change.bs.toggle",e.proxy(function(){this.update()},this))},n.prototype.destroy=function(){this.$element.off("change.bs.toggle"),this.$toggleGroup.remove(),this.$element.removeData("bs.toggle"),this.$element.unwrap()};var i=e.fn.bootstrapToggle;e.fn.bootstrapToggle=t,e.fn.bootstrapToggle.Constructor=n,e.fn.toggle.noConflict=function(){return e.fn.bootstrapToggle=i,this},e(function(){e("input[type=checkbox][data-toggle^=toggle]").bootstrapToggle()}),e(document).on("click.bs.toggle","div[data-toggle^=toggle]",function(t){var n=e(this).find("input[type=checkbox]");n.bootstrapToggle("toggle"),t.preventDefault()})}(jQuery),!function(e){"use strict";function t(e,t){return e+".touchspin_"+t}function n(n,i){return e.map(n,function(e){return t(e,i)})}var i=0;e.fn.TouchSpin=function(t){if("destroy"===t)return void this.each(function(){var t=e(this),i=t.data();e(document).off(n(["mouseup","touchend","touchcancel","mousemove","touchmove","scroll","scrollstart"],i.spinnerid).join(" "))});var o={min:0,max:100,initval:"",step:1,decimals:0,stepinterval:100,forcestepdivisibility:"round",stepintervaldelay:500,verticalbuttons:!1,verticalupclass:"glyphicon glyphicon-chevron-up",verticaldownclass:"glyphicon glyphicon-chevron-down",prefix:"",postfix:"",prefix_extraclass:"",postfix_extraclass:"",booster:!0,boostat:10,maxboostedstep:!1,mousewheel:!0,buttondown_class:"btn btn-default",buttonup_class:"btn btn-default",buttondown_txt:"-",buttonup_txt:"+"},r={min:"min",max:"max",initval:"init-val",step:"step",decimals:"decimals",stepinterval:"step-interval",verticalbuttons:"vertical-buttons",verticalupclass:"vertical-up-class",verticaldownclass:"vertical-down-class",forcestepdivisibility:"force-step-divisibility",stepintervaldelay:"step-interval-delay",prefix:"prefix",postfix:"postfix",prefix_extraclass:"prefix-extra-class",postfix_extraclass:"postfix-extra-class",booster:"booster",boostat:"boostat",maxboostedstep:"max-boosted-step",mousewheel:"mouse-wheel",buttondown_class:"button-down-class",buttonup_class:"button-up-class",buttondown_txt:"button-down-txt",buttonup_txt:"button-up-txt"};return this.each(function(){function s(){if(!j.data("alreadyinitialized")){if(j.data("alreadyinitialized",!0),i+=1,j.data("spinnerid",i),!j.is("input"))return void console.log("Must be an input.");c(),a(),w(),h(),m(),g(),v(),y(),O.input.css("display","block")}}function a(){""!==S.initval&&""===j.val()&&j.val(S.initval)}function l(e){u(e),w();var t=O.input.val();""!==t&&(t=Number(O.input.val()),O.input.val(t.toFixed(S.decimals)))}function c(){S=e.extend({},o,M,d(),t)}function d(){var t={};return e.each(r,function(e,n){var i="bts-"+n;j.is("[data-"+i+"]")&&(t[e]=j.data(i))}),t}function u(t){S=e.extend({},S,t)}function h(){var e=j.val(),t=j.parent();""!==e&&(e=Number(e).toFixed(S.decimals)),j.data("initvalue",e).val(e),j.addClass("form-control"),t.hasClass("input-group")?p(t):f()}function p(t){t.addClass("bootstrap-touchspin");var n,i,o=j.prev(),r=j.next(),s='<span class="input-group-addon bootstrap-touchspin-prefix">'+S.prefix+"</span>",a='<span class="input-group-addon bootstrap-touchspin-postfix">'+S.postfix+"</span>";o.hasClass("input-group-btn")?(n='<button class="'+S.buttondown_class+' bootstrap-touchspin-down" type="button">'+S.buttondown_txt+"</button>",o.append(n)):(n='<span class="input-group-btn"><button class="'+S.buttondown_class+' bootstrap-touchspin-down" type="button">'+S.buttondown_txt+"</button></span>",e(n).insertBefore(j)),r.hasClass("input-group-btn")?(i='<button class="'+S.buttonup_class+' bootstrap-touchspin-up" type="button">'+S.buttonup_txt+"</button>",r.prepend(i)):(i='<span class="input-group-btn"><button class="'+S.buttonup_class+' bootstrap-touchspin-up" type="button">'+S.buttonup_txt+"</button></span>",e(i).insertAfter(j)),e(s).insertBefore(j),e(a).insertAfter(j),N=t}function f(){var t;t=S.verticalbuttons?'<div class="input-group bootstrap-touchspin"><span class="input-group-addon bootstrap-touchspin-prefix">'+S.prefix+'</span><span class="input-group-addon bootstrap-touchspin-postfix">'+S.postfix+'</span><span class="input-group-btn-vertical"><button class="'+S.buttondown_class+' bootstrap-touchspin-up" type="button"><i class="'+S.verticalupclass+'"></i></button><button class="'+S.buttonup_class+' bootstrap-touchspin-down" type="button"><i class="'+S.verticaldownclass+'"></i></button></span></div>':'<div class="input-group bootstrap-touchspin"><span class="input-group-btn"><button class="'+S.buttondown_class+' bootstrap-touchspin-down" type="button">'+S.buttondown_txt+'</button></span><span class="input-group-addon bootstrap-touchspin-prefix">'+S.prefix+'</span><span class="input-group-addon bootstrap-touchspin-postfix">'+S.postfix+'</span><span class="input-group-btn"><button class="'+S.buttonup_class+' bootstrap-touchspin-up" type="button">'+S.buttonup_txt+"</button></span></div>",N=e(t).insertBefore(j),e(".bootstrap-touchspin-prefix",N).after(j),j.hasClass("input-sm")?N.addClass("input-group-sm"):j.hasClass("input-lg")&&N.addClass("input-group-lg")}function m(){O={down:e(".bootstrap-touchspin-down",N),up:e(".bootstrap-touchspin-up",N),input:e("input",N),prefix:e(".bootstrap-touchspin-prefix",N).addClass(S.prefix_extraclass),postfix:e(".bootstrap-touchspin-postfix",N).addClass(S.postfix_extraclass)}}function g(){""===S.prefix&&O.prefix.hide(),""===S.postfix&&O.postfix.hide()}function v(){j.on("keydown",function(e){var t=e.keyCode||e.which;38===t?("up"!==L&&(_(),E()),e.preventDefault()):40===t&&("down"!==L&&(C(),T()),e.preventDefault())}),j.on("keyup",function(e){var t=e.keyCode||e.which;38===t?k():40===t&&k()}),j.on("blur",function(){w()}),O.down.on("keydown",function(e){var t=e.keyCode||e.which;(32===t||13===t)&&("down"!==L&&(C(),T()),e.preventDefault())}),O.down.on("keyup",function(e){var t=e.keyCode||e.which;(32===t||13===t)&&k()}),O.up.on("keydown",function(e){var t=e.keyCode||e.which;(32===t||13===t)&&("up"!==L&&(_(),E()),e.preventDefault())}),O.up.on("keyup",function(e){var t=e.keyCode||e.which;(32===t||13===t)&&k()}),O.down.on("mousedown.touchspin",function(e){O.down.off("touchstart.touchspin"),j.is(":disabled")||(C(),T(),e.preventDefault(),e.stopPropagation())}),O.down.on("touchstart.touchspin",function(e){O.down.off("mousedown.touchspin"),j.is(":disabled")||(C(),T(),e.preventDefault(),e.stopPropagation())}),O.up.on("mousedown.touchspin",function(e){O.up.off("touchstart.touchspin"),j.is(":disabled")||(_(),E(),e.preventDefault(),e.stopPropagation())}),O.up.on("touchstart.touchspin",function(e){O.up.off("mousedown.touchspin"),j.is(":disabled")||(_(),E(),e.preventDefault(),e.stopPropagation())}),O.up.on("mouseout touchleave touchend touchcancel",function(e){L&&(e.stopPropagation(),k())}),O.down.on("mouseout touchleave touchend touchcancel",function(e){L&&(e.stopPropagation(),k())}),O.down.on("mousemove touchmove",function(e){L&&(e.stopPropagation(),e.preventDefault())}),O.up.on("mousemove touchmove",function(e){L&&(e.stopPropagation(),e.preventDefault())}),e(document).on(n(["mouseup","touchend","touchcancel"],i).join(" "),function(e){L&&(e.preventDefault(),k())}),e(document).on(n(["mousemove","touchmove","scroll","scrollstart"],i).join(" "),function(e){L&&(e.preventDefault(),k())}),j.on("mousewheel DOMMouseScroll",function(e){if(S.mousewheel&&j.is(":focus")){var t=e.originalEvent.wheelDelta||-e.originalEvent.deltaY||-e.originalEvent.detail;e.stopPropagation(),e.preventDefault(),0>t?C():_()}})}function y(){j.on("touchspin.uponce",function(){k(),_()}),j.on("touchspin.downonce",function(){k(),C()}),j.on("touchspin.startupspin",function(){E()}),j.on("touchspin.startdownspin",function(){T()}),j.on("touchspin.stopspin",function(){k()}),j.on("touchspin.updatesettings",function(e,t){l(t)})}function b(e){switch(S.forcestepdivisibility){case"round":return(Math.round(e/S.step)*S.step).toFixed(S.decimals);case"floor":return(Math.floor(e/S.step)*S.step).toFixed(S.decimals);case"ceil":return(Math.ceil(e/S.step)*S.step).toFixed(S.decimals);default:return e}}function w(){var e,t,n;e=j.val(),""!==e&&(S.decimals>0&&"."===e||(t=parseFloat(e),isNaN(t)&&(t=0),n=t,t.toString()!==e&&(n=t),t<S.min&&(n=S.min),t>S.max&&(n=S.max),n=b(n),Number(e).toString()!==n.toString()&&(j.val(n),j.trigger("change"))))}function x(){if(S.booster){var e=Math.pow(2,Math.floor(P/S.boostat))*S.step;return S.maxboostedstep&&e>S.maxboostedstep&&(e=S.maxboostedstep,A=Math.round(A/e)*e),Math.max(S.step,e)}return S.step}function _(){w(),A=parseFloat(O.input.val()),isNaN(A)&&(A=0);var e=A,t=x();A+=t,A>S.max&&(A=S.max,j.trigger("touchspin.on.max"),k()),O.input.val(Number(A).toFixed(S.decimals)),e!==A&&j.trigger("change")}function C(){w(),A=parseFloat(O.input.val()),isNaN(A)&&(A=0);var e=A,t=x();A-=t,A<S.min&&(A=S.min,j.trigger("touchspin.on.min"),k()),O.input.val(A.toFixed(S.decimals)),e!==A&&j.trigger("change")}function T(){k(),P=0,L="down",j.trigger("touchspin.on.startspin"),j.trigger("touchspin.on.startdownspin"),D=setTimeout(function(){R=setInterval(function(){P++,C()},S.stepinterval)},S.stepintervaldelay)}function E(){k(),P=0,L="up",j.trigger("touchspin.on.startspin"),j.trigger("touchspin.on.startupspin"),I=setTimeout(function(){X=setInterval(function(){P++,_()},S.stepinterval)},S.stepintervaldelay)}function k(){switch(clearTimeout(D),clearTimeout(I),clearInterval(R),clearInterval(X),L){case"up":j.trigger("touchspin.on.stopupspin"),j.trigger("touchspin.on.stopspin");break;case"down":j.trigger("touchspin.on.stopdownspin"),j.trigger("touchspin.on.stopspin")}P=0,L=!1}var S,N,O,A,R,X,D,I,j=e(this),M=j.data(),P=0,L=!1;s()})}}(jQuery),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.ProgressBar=e()}}(function(){var e;return function t(e,n,i){function o(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[s]={exports:{}};e[s][0].call(d.exports,function(t){var n=e[s][1][t];return o(n?n:t)},d,d.exports,t,e,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,n,i){!function(t){"undefined"==typeof SHIFTY_DEBUG_NOW&&(SHIFTY_DEBUG_NOW=function(){return+new Date});var o=function(){"use strict";function o(){}function r(e,t){var n;for(n in e)Object.hasOwnProperty.call(e,n)&&t(n)}function s(e,t){return r(t,function(n){e[n]=t[n]}),e}function a(e,t){r(t,function(n){"undefined"==typeof e[n]&&(e[n]=t[n])})}function l(e,t,n,i,o,r,s){var a,l=(e-r)/o;for(a in t)t.hasOwnProperty(a)&&(t[a]=c(n[a],i[a],f[s[a]],l));return t}function c(e,t,n,i){return e+(t-e)*n(i)}function d(e,t){var n=p.prototype.filter,i=e._filterArgs;r(n,function(o){"undefined"!=typeof n[o][t]&&n[o][t].apply(e,i)})}function u(e,t,n,i,o,r,s,a,c){x=t+n,_=Math.min(w(),x),C=_>=x,e.isPlaying()&&!C?(c(e._timeoutHandler,y),d(e,"beforeTween"),l(_,i,o,r,n,t,s),d(e,"afterTween"),a(i)):C&&(a(r),e.stop(!0))}function h(e,t){var n={};return"string"==typeof t?r(e,function(e){n[e]=t}):r(e,function(e){n[e]||(n[e]=t[e]||g)}),n}function p(e,t){this._currentState=e||{},this._configured=!1,this._scheduleFunction=m,"undefined"!=typeof t&&this.setConfig(t)}var f,m,g="linear",v=500,y=1e3/60,b=Date.now?Date.now:function(){return+new Date},w=SHIFTY_DEBUG_NOW?SHIFTY_DEBUG_NOW:b;m="undefined"!=typeof window?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.mozCancelRequestAnimationFrame&&window.mozRequestAnimationFrame||setTimeout:setTimeout;var x,_,C;return p.prototype.tween=function(e){return this._isTweening?this:(void 0===e&&this._configured||this.setConfig(e),this._start(this.get()),this.resume())},p.prototype.setConfig=function(e){e=e||{},this._configured=!0,this._pausedAtTime=null,this._start=e.start||o,this._step=e.step||o,this._finish=e.finish||o,this._duration=e.duration||v,this._currentState=e.from||this.get(),this._originalState=this.get(),this._targetState=e.to||this.get(),this._timestamp=w();var t=this._currentState,n=this._targetState;return a(n,t),this._easing=h(t,e.easing||g),this._filterArgs=[t,this._originalState,n,this._easing],d(this,"tweenCreated"),this},p.prototype.get=function(){return s({},this._currentState)},p.prototype.set=function(e){this._currentState=e},p.prototype.pause=function(){return this._pausedAtTime=w(),this._isPaused=!0,this},p.prototype.resume=function(){this._isPaused&&(this._timestamp+=w()-this._pausedAtTime),this._isPaused=!1,this._isTweening=!0;var e=this;return this._timeoutHandler=function(){u(e,e._timestamp,e._duration,e._currentState,e._originalState,e._targetState,e._easing,e._step,e._scheduleFunction)},this._timeoutHandler(),this},p.prototype.stop=function(e){return this._isTweening=!1,this._isPaused=!1,this._timeoutHandler=o,e&&(s(this._currentState,this._targetState),d(this,"afterTweenEnd"),this._finish.call(this,this._currentState)),this},p.prototype.isPlaying=function(){return this._isTweening&&!this._isPaused},p.prototype.setScheduleFunction=function(e){this._scheduleFunction=e},p.prototype.dispose=function(){var e;for(e in this)this.hasOwnProperty(e)&&delete this[e]},p.prototype.filter={},p.prototype.formula={linear:function(e){return e}},f=p.prototype.formula,s(p,{now:w,each:r,tweenProps:l,tweenProp:c,applyFilter:d,shallowCopy:s,defaults:a,composeEasingObject:h}),"function"==typeof SHIFTY_DEBUG_NOW&&(t.timeoutHandler=u),"object"==typeof i?n.exports=p:"function"==typeof e&&e.amd?e(function(){return p}):"undefined"==typeof t.Tweenable&&(t.Tweenable=p),p}();!function(){o.shallowCopy(o.prototype.formula,{easeInQuad:function(e){return Math.pow(e,2)},easeOutQuad:function(e){return-(Math.pow(e-1,2)-1)},easeInOutQuad:function(e){return(e/=.5)<1?.5*Math.pow(e,2):-.5*((e-=2)*e-2)},easeInCubic:function(e){return Math.pow(e,3)},easeOutCubic:function(e){return Math.pow(e-1,3)+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)},easeInQuart:function(e){return Math.pow(e,4)},easeOutQuart:function(e){return-(Math.pow(e-1,4)-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},easeInQuint:function(e){return Math.pow(e,5)},easeOutQuint:function(e){return Math.pow(e-1,5)+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*Math.pow(e,5):.5*(Math.pow(e-2,5)+2)},easeInSine:function(e){return-Math.cos(e*(Math.PI/2))+1},easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:-Math.pow(2,-10*e)+1},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(-Math.pow(2,-10*--e)+2)},easeInCirc:function(e){return-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-Math.pow(e-1,2))},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeOutBounce:function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInBack:function(e){var t=1.70158;return e*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?.5*e*e*(((t*=1.525)+1)*e-t):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},elastic:function(e){return-1*Math.pow(4,-8*e)*Math.sin(2*(6*e-1)*Math.PI/2)+1},swingFromTo:function(e){var t=1.70158;return(e/=.5)<1?.5*e*e*(((t*=1.525)+1)*e-t):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},swingFrom:function(e){var t=1.70158;return e*e*((t+1)*e-t)},swingTo:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},bounce:function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bouncePast:function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?2-(7.5625*(e-=1.5/2.75)*e+.75):2.5/2.75>e?2-(7.5625*(e-=2.25/2.75)*e+.9375):2-(7.5625*(e-=2.625/2.75)*e+.984375)},easeFromTo:function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},easeFrom:function(e){return Math.pow(e,4)},easeTo:function(e){return Math.pow(e,.25)}})}(),function(){function e(e,t,n,i,o,r){function s(e){return((p*e+f)*e+m)*e}function a(e){return((g*e+v)*e+y)*e}function l(e){return(3*p*e+2*f)*e+m}function c(e){return 1/(200*e)}function d(e,t){return a(h(e,t))}function u(e){return e>=0?e:0-e}function h(e,t){var n,i,o,r,a,c;for(o=e,c=0;8>c;c++){if(r=s(o)-e,u(r)<t)return o;if(a=l(o),u(a)<1e-6)break;o-=r/a}if(n=0,i=1,o=e,n>o)return n;if(o>i)return i;for(;i>n;){if(r=s(o),u(r-e)<t)return o;e>r?n=o:i=o,o=.5*(i-n)+n}return o}var p=0,f=0,m=0,g=0,v=0,y=0;return m=3*t,f=3*(i-t)-m,p=1-m-f,y=3*n,v=3*(o-n)-y,g=1-y-v,d(e,c(r))}function t(t,n,i,o){return function(r){return e(r,t,n,i,o,1)}}o.setBezierFunction=function(e,n,i,r,s){var a=t(n,i,r,s);return a.x1=n,a.y1=i,a.x2=r,a.y2=s,o.prototype.formula[e]=a},o.unsetBezierFunction=function(e){delete o.prototype.formula[e]}}(),function(){function e(e,t,n,i,r){return o.tweenProps(i,t,e,n,1,0,r)}var t=new o;t._filterArgs=[],o.interpolate=function(n,i,r,s){var a=o.shallowCopy({},n),l=o.composeEasingObject(n,s||"linear");t.set({});var c=t._filterArgs;c.length=0,c[0]=a,c[1]=n,c[2]=i,c[3]=l,o.applyFilter(t,"tweenCreated"),o.applyFilter(t,"beforeTween");var d=e(n,a,i,r,l);return o.applyFilter(t,"afterTween"),d}}(),function(e){function t(e,t){S.length=0;var n,i=e.length;for(n=0;i>n;n++)S.push("_"+t+"_"+n);return S}function n(e){var t=e.match(x);return t?(1===t.length||e[0].match(w))&&t.unshift(""):t=["",""],t.join(k)}function i(t){e.each(t,function(e){var n=t[e];"string"==typeof n&&n.match(E)&&(t[e]=o(n))})}function o(e){return l(E,e,r)}function r(e){var t=s(e);return"rgb("+t[0]+","+t[1]+","+t[2]+")"}function s(e){return e=e.replace(/#/,""),3===e.length&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),N[0]=a(e.substr(0,2)),N[1]=a(e.substr(2,2)),N[2]=a(e.substr(4,2)),N}function a(e){return parseInt(e,16)}function l(e,t,n){var i=t.match(e),o=t.replace(e,k);if(i)for(var r,s=i.length,a=0;s>a;a++)r=i.shift(),o=o.replace(k,n(r));return o}function c(e){return l(C,e,d)}function d(e){for(var t=e.match(_),n=t.length,i=e.match(T)[0],o=0;n>o;o++)i+=parseInt(t[o],10)+",";return i=i.slice(0,-1)+")"}function u(i){var o={};return e.each(i,function(e){var r=i[e];if("string"==typeof r){var s=v(r);o[e]={formatString:n(r),chunkNames:t(s,e)}}}),o}function h(t,n){e.each(n,function(e){for(var i=t[e],o=v(i),r=o.length,s=0;r>s;s++)t[n[e].chunkNames[s]]=+o[s];delete t[e]})}function p(t,n){e.each(n,function(e){var i=t[e],o=f(t,n[e].chunkNames),r=m(o,n[e].chunkNames);i=g(n[e].formatString,r),t[e]=c(i)})}function f(e,t){for(var n,i={},o=t.length,r=0;o>r;r++)n=t[r],i[n]=e[n],delete e[n];return i}function m(e,t){O.length=0;for(var n=t.length,i=0;n>i;i++)O.push(e[t[i]]);return O}function g(e,t){for(var n=e,i=t.length,o=0;i>o;o++)n=n.replace(k,+t[o].toFixed(4));return n}function v(e){return e.match(_)}function y(t,n){e.each(n,function(e){for(var i=n[e],o=i.chunkNames,r=o.length,s=t[e].split(" "),a=s[s.length-1],l=0;r>l;l++)t[o[l]]=s[l]||a;delete t[e]})}function b(t,n){e.each(n,function(e){for(var i=n[e],o=i.chunkNames,r=o.length,s="",a=0;r>a;a++)s+=" "+t[o[a]],delete t[o[a]];t[e]=s.substr(1)})}var w=/(\d|\-|\.)/,x=/([^\-0-9\.]+)/g,_=/[0-9.\-]+/g,C=new RegExp("rgb\\("+_.source+/,\s*/.source+_.source+/,\s*/.source+_.source+"\\)","g"),T=/^.*\(/,E=/#([0-9]|[a-f]){3,6}/gi,k="VAL",S=[],N=[],O=[];e.prototype.filter.token={tweenCreated:function(e,t,n){i(e),i(t),i(n),this._tokenData=u(e)},beforeTween:function(e,t,n,i){y(i,this._tokenData),h(e,this._tokenData),h(t,this._tokenData),h(n,this._tokenData)},afterTween:function(e,t,n,i){p(e,this._tokenData),p(t,this._tokenData),p(n,this._tokenData),b(i,this._tokenData)}}}(o)}(this)},{}],2:[function(e,t){var n=e("./shape"),i=e("./utils"),o=function(){this._pathTemplate="M 50,50 m 0,-{radius} a {radius},{radius} 0 1 1 0,{2radius} a {radius},{radius} 0 1 1 0,-{2radius}",n.apply(this,arguments)};o.prototype=new n,o.prototype.constructor=o,o.prototype._pathString=function(e){var t=e.strokeWidth;e.trailWidth&&e.trailWidth>e.strokeWidth&&(t=e.trailWidth);var n=50-t/2;return i.render(this._pathTemplate,{radius:n,"2radius":2*n})},o.prototype._trailString=function(e){return this._pathString(e)},t.exports=o},{"./shape":6,"./utils":8}],3:[function(e,t){var n=e("./shape"),i=e("./utils"),o=function(){this._pathTemplate="M 0,{center} L 100,{center}",n.apply(this,arguments)};o.prototype=new n,o.prototype.constructor=o,o.prototype._initializeSvg=function(e,t){e.setAttribute("viewBox","0 0 100 "+t.strokeWidth),e.setAttribute("preserveAspectRatio","none")},o.prototype._pathString=function(e){return i.render(this._pathTemplate,{center:e.strokeWidth/2})},o.prototype._trailString=function(e){return this._pathString(e)},t.exports=o},{"./shape":6,"./utils":8}],4:[function(e,t){var n=e("./line"),i=e("./circle"),o=e("./square"),r=e("./path");t.exports={Line:n,Circle:i,Square:o,Path:r}},{"./circle":2,"./line":3,"./path":5,"./square":7}],5:[function(e,t){var n=e("shifty"),i=e("./utils"),o={easeIn:"easeInCubic",easeOut:"easeOutCubic",easeInOut:"easeInOutCubic"},r=function(e,t){t=i.extend({duration:800,easing:"linear",from:{},to:{},step:function(){}},t),this._path=e,this._opts=t,this._tweenable=null;var n=this._path.getTotalLength();this._path.style.strokeDasharray=n+" "+n,this.set(0)};r.prototype.value=function(){var e=this._getComputedDashOffset(),t=this._path.getTotalLength(),n=1-e/t;return parseFloat(n.toFixed(6),10)},r.prototype.set=function(e){this.stop(),this._path.style.strokeDashoffset=this._progressToOffset(e);var t=this._opts.step;if(i.isFunction(t)){var n=this._easing(this._opts.easing),o=this._calculateTo(e,n);t(o,this._opts.attachment||this)}},r.prototype.stop=function(){this._stopTween(),this._path.style.strokeDashoffset=this._getComputedDashOffset()},r.prototype.animate=function(e,t,o){t=t||{},i.isFunction(t)&&(o=t,t={});var r=i.extend({},t),s=i.extend({},this._opts);t=i.extend(s,t);var a=this._easing(t.easing),l=this._resolveFromAndTo(e,a,r);this.stop(),this._path.getBoundingClientRect();var c=this._getComputedDashOffset(),d=this._progressToOffset(e),u=this;this._tweenable=new n,this._tweenable.tween({from:i.extend({offset:c},l.from),to:i.extend({offset:d},l.to),duration:t.duration,easing:a,step:function(e){u._path.style.strokeDashoffset=e.offset,
t.step(e,t.attachment)},finish:function(){i.isFunction(o)&&o()}})},r.prototype._getComputedDashOffset=function(){var e=window.getComputedStyle(this._path,null);return parseFloat(e.getPropertyValue("stroke-dashoffset"),10)},r.prototype._progressToOffset=function(e){var t=this._path.getTotalLength();return t-e*t},r.prototype._resolveFromAndTo=function(e,t,n){return n.from&&n.to?{from:n.from,to:n.to}:{from:this._calculateFrom(t),to:this._calculateTo(e,t)}},r.prototype._calculateFrom=function(e){return n.interpolate(this._opts.from,this._opts.to,this.value(),e)},r.prototype._calculateTo=function(e,t){return n.interpolate(this._opts.from,this._opts.to,e,t)},r.prototype._stopTween=function(){null!==this._tweenable&&(this._tweenable.stop(),this._tweenable.dispose(),this._tweenable=null)},r.prototype._easing=function(e){return o.hasOwnProperty(e)?o[e]:e},t.exports=r},{"./utils":8,shifty:1}],6:[function(e,t){var n=e("./path"),i=e("./utils"),o="Object is destroyed",r=function s(e,t){if(!(this instanceof s))throw new Error("Constructor was called without new keyword");if(0!==arguments.length){this._opts=i.extend({color:"#555",strokeWidth:1,trailColor:null,trailWidth:null,fill:null,text:{autoStyle:!0,color:null,value:"",className:"progressbar-text"}},t,!0);var o,r=this._createSvgView(this._opts);if(o=i.isString(e)?document.querySelector(e):e,!o)throw new Error("Container does not exist: "+e);this._container=o,this._container.appendChild(r.svg),this.text=null,this._opts.text.value&&(this.text=this._createTextElement(this._opts,this._container),this._container.appendChild(this.text)),this.svg=r.svg,this.path=r.path,this.trail=r.trail;var a=i.extend({attachment:this},this._opts);this._progressPath=new n(r.path,a)}};r.prototype.animate=function(e,t,n){if(null===this._progressPath)throw new Error(o);this._progressPath.animate(e,t,n)},r.prototype.stop=function(){if(null===this._progressPath)throw new Error(o);void 0!==this._progressPath&&this._progressPath.stop()},r.prototype.destroy=function(){if(null===this._progressPath)throw new Error(o);this.stop(),this.svg.parentNode.removeChild(this.svg),this.svg=null,this.path=null,this.trail=null,this._progressPath=null,null!==this.text&&(this.text.parentNode.removeChild(this.text),this.text=null)},r.prototype.set=function(e){if(null===this._progressPath)throw new Error(o);this._progressPath.set(e)},r.prototype.value=function(){if(null===this._progressPath)throw new Error(o);return void 0===this._progressPath?0:this._progressPath.value()},r.prototype.setText=function(e){if(null===this._progressPath)throw new Error(o);null===this.text&&(this.text=this._createTextElement(this._opts,this._container),this._container.appendChild(this.text)),this.text.removeChild(this.text.firstChild),this.text.appendChild(document.createTextNode(e))},r.prototype._createSvgView=function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");this._initializeSvg(t,e);var n=null;(e.trailColor||e.trailWidth)&&(n=this._createTrail(e),t.appendChild(n));var i=this._createPath(e);return t.appendChild(i),{svg:t,path:i,trail:n}},r.prototype._initializeSvg=function(e){e.setAttribute("viewBox","0 0 100 100")},r.prototype._createPath=function(e){var t=this._pathString(e);return this._createPathElement(t,e)},r.prototype._createTrail=function(e){var t=this._trailString(e),n=i.extend({},e);return n.trailColor||(n.trailColor="#eee"),n.trailWidth||(n.trailWidth=n.strokeWidth),n.color=n.trailColor,n.strokeWidth=n.trailWidth,n.fill=null,this._createPathElement(t,n)},r.prototype._createPathElement=function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",e),n.setAttribute("stroke",t.color),n.setAttribute("stroke-width",t.strokeWidth),t.fill?n.setAttribute("fill",t.fill):n.setAttribute("fill-opacity","0"),n},r.prototype._createTextElement=function(e,t){var n=document.createElement("p");return n.appendChild(document.createTextNode(e.text.value)),e.text.autoStyle&&(t.style.position="relative",n.style.position="absolute",n.style.top="50%",n.style.left="50%",n.style.padding=0,n.style.margin=0,i.setStyle(n,"transform","translate(-50%, -50%)"),n.style.color=e.text.color?e.text.color:e.color),n.className=e.text.className,n},r.prototype._pathString=function(){throw new Error("Override this function for each progress bar")},r.prototype._trailString=function(){throw new Error("Override this function for each progress bar")},t.exports=r},{"./path":5,"./utils":8}],7:[function(e,t){var n=e("./shape"),i=e("./utils"),o=function(){this._pathTemplate="M 0,{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{strokeWidth}",this._trailTemplate="M {startMargin},{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{halfOfStrokeWidth}",n.apply(this,arguments)};o.prototype=new n,o.prototype.constructor=o,o.prototype._pathString=function(e){var t=100-e.strokeWidth/2;return i.render(this._pathTemplate,{width:t,strokeWidth:e.strokeWidth,halfOfStrokeWidth:e.strokeWidth/2})},o.prototype._trailString=function(e){var t=100-e.strokeWidth/2;return i.render(this._trailTemplate,{width:t,strokeWidth:e.strokeWidth,halfOfStrokeWidth:e.strokeWidth/2,startMargin:e.strokeWidth/2-e.trailWidth/2})},t.exports=o},{"./shape":6,"./utils":8}],8:[function(e,t){function n(e,t,i){e=e||{},t=t||{},i=i||!1;for(var o in t)if(t.hasOwnProperty(o)){var r=e[o],s=t[o];e[o]=i&&c(r)&&c(s)?n(r,s,i):s}return e}function i(e,t){var n=e;for(var i in t)if(t.hasOwnProperty(i)){var o=t[i],r="\\{"+i+"\\}",s=new RegExp(r,"g");n=n.replace(s,o)}return n}function o(e,t,n){for(var i=0;i<d.length;++i){var o=r(d[i]);e.style[o+r(t)]=n}e.style[t]=n}function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}function s(e){return"string"==typeof e||e instanceof String}function a(e){return"function"==typeof e}function l(e){return"[object Array]"===Object.prototype.toString.call(e)}function c(e){if(l(e))return!1;var t=typeof e;return"object"===t&&!!e}var d="webkit moz o ms".split(" ");t.exports={extend:n,render:i,setStyle:o,capitalize:r,isString:s,isFunction:a,isObject:c}},{}]},{},[4])(4)}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.JSZip=e()}}(function(){return function e(t,n,i){function o(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[s]={exports:{}};t[s][0].call(d.exports,function(e){var n=t[s][1][e];return o(n?n:e)},d,d.exports,e,t,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,t,n){"use strict";var i=e("./utils"),o=e("./support"),r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,o,s,a,l,c,d=[],u=0,h=e.length,p=h,f="string"!==i.getTypeOf(e);u<e.length;)p=h-u,f?(t=e[u++],n=u<h?e[u++]:0,o=u<h?e[u++]:0):(t=e.charCodeAt(u++),n=u<h?e.charCodeAt(u++):0,o=u<h?e.charCodeAt(u++):0),s=t>>2,a=(3&t)<<4|n>>4,l=p>1?(15&n)<<2|o>>6:64,c=p>2?63&o:64,d.push(r.charAt(s)+r.charAt(a)+r.charAt(l)+r.charAt(c));return d.join("")},n.decode=function(e){var t,n,i,s,a,l,c,d=0,u=0,h="data:";if(e.substr(h.length)===h)throw new Error("Invalid base64 input, it looks like a data url.");e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");var p=3*e.length/4;if(e.charAt(e.length-1)===r.charAt(64)&&p--,e.charAt(e.length-2)===r.charAt(64)&&p--,p%1!==0)throw new Error("Invalid base64 input, bad content length.");var f;for(f=o.uint8array?new Uint8Array(0|p):new Array(0|p);d<e.length;)s=r.indexOf(e.charAt(d++)),a=r.indexOf(e.charAt(d++)),l=r.indexOf(e.charAt(d++)),c=r.indexOf(e.charAt(d++)),t=s<<2|a>>4,n=(15&a)<<4|l>>2,i=(3&l)<<6|c,f[u++]=t,64!==l&&(f[u++]=n),64!==c&&(f[u++]=i);return f}},{"./support":30,"./utils":32}],2:[function(e,t,n){"use strict";function i(e,t,n,i,o){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=i,this.compressedContent=o}var o=e("./external"),r=e("./stream/DataWorker"),s=e("./stream/DataLengthProbe"),a=e("./stream/Crc32Probe"),s=e("./stream/DataLengthProbe");i.prototype={getContentWorker:function(){var e=new r(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),t=this;return e.on("end",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),e},getCompressedWorker:function(){return new r(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},i.createWorkerFrom=function(e,t,n){return e.pipe(new a).pipe(new s("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new s("compressedSize")).withStreamInfo("compression",t)},t.exports=i},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){"use strict";var i=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(e){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){"use strict";function i(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}function o(e,t,n,i){var o=a,r=i+n;e^=-1;for(var s=i;s<r;s++)e=e>>>8^o[255&(e^t[s])];return e^-1}function r(e,t,n,i){var o=a,r=i+n;e^=-1;for(var s=i;s<r;s++)e=e>>>8^o[255&(e^t.charCodeAt(s))];return e^-1}var s=e("./utils"),a=i();t.exports=function(e,t){if("undefined"==typeof e||!e.length)return 0;var n="string"!==s.getTypeOf(e);return n?o(0|t,e,e.length,0):r(0|t,e,e.length,0)}},{"./utils":32}],5:[function(e,t,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){"use strict";var i=null;i="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:i}},{lie:58}],7:[function(e,t,n){"use strict";function i(e,t){a.call(this,"FlateWorker/"+e),this._pako=new r[e]({raw:!0,level:t.level||-1}),this.meta={};var n=this;this._pako.onData=function(e){n.push({data:e,meta:n.meta})}}var o="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,r=e("pako"),s=e("./utils"),a=e("./stream/GenericWorker"),l=o?"uint8array":"array";n.magic="\b\0",s.inherits(i,a),i.prototype.processChunk=function(e){this.meta=e.meta,this._pako.push(s.transformTo(l,e.data),!1)},i.prototype.flush=function(){a.prototype.flush.call(this),this._pako.push([],!0)},i.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},n.compressWorker=function(e){return new i("Deflate",e)},n.uncompressWorker=function(){return new i("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:59}],8:[function(e,t,n){"use strict";function i(e,t,n,i){r.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=i,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}var o=e("../utils"),r=e("../stream/GenericWorker"),s=e("../utf8"),a=e("../crc32"),l=e("../signature"),c=function(e,t){var n,i="";for(n=0;n<t;n++)i+=String.fromCharCode(255&e),e>>>=8;return i},d=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16},u=function(e,t){return 63&(e||0)},h=function(e,t,n,i,r,h){var p,f,m=e.file,g=e.compression,v=h!==s.utf8encode,y=o.transformTo("string",h(m.name)),b=o.transformTo("string",s.utf8encode(m.name)),w=m.comment,x=o.transformTo("string",h(w)),_=o.transformTo("string",s.utf8encode(w)),C=b.length!==m.name.length,T=_.length!==w.length,E="",k="",S="",N=m.dir,O=m.date,A={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(A.crc32=e.crc32,A.compressedSize=e.compressedSize,A.uncompressedSize=e.uncompressedSize);var R=0;t&&(R|=8),v||!C&&!T||(R|=2048);var X=0,D=0;N&&(X|=16),"UNIX"===r?(D=798,X|=d(m.unixPermissions,N)):(D=20,X|=u(m.dosPermissions,N)),p=O.getUTCHours(),p<<=6,p|=O.getUTCMinutes(),p<<=5,p|=O.getUTCSeconds()/2,f=O.getUTCFullYear()-1980,f<<=4,f|=O.getUTCMonth()+1,f<<=5,f|=O.getUTCDate(),C&&(k=c(1,1)+c(a(y),4)+b,E+="up"+c(k.length,2)+k),T&&(S=c(1,1)+c(a(x),4)+_,E+="uc"+c(S.length,2)+S);var I="";I+="\n\0",I+=c(R,2),I+=g.magic,I+=c(p,2),I+=c(f,2),I+=c(A.crc32,4),I+=c(A.compressedSize,4),I+=c(A.uncompressedSize,4),I+=c(y.length,2),I+=c(E.length,2);var j=l.LOCAL_FILE_HEADER+I+y+E,M=l.CENTRAL_FILE_HEADER+c(D,2)+I+c(x.length,2)+"\0\0\0\0"+c(X,4)+c(i,4)+y+E+x;return{fileRecord:j,dirRecord:M}},p=function(e,t,n,i,r){var s="",a=o.transformTo("string",r(i));return s=l.CENTRAL_DIRECTORY_END+"\0\0\0\0"+c(e,2)+c(e,2)+c(t,4)+c(n,4)+c(a.length,2)+a},f=function(e){var t="";return t=l.DATA_DESCRIPTOR+c(e.crc32,4)+c(e.compressedSize,4)+c(e.uncompressedSize,4)};o.inherits(i,r),i.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,r.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-i-1))/n:100}}))},i.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=h(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},i.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=h(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:f(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},i.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,i=p(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},i.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},i.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on("error",function(e){t.error(e)}),this},i.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},i.prototype.error=function(e){var t=this._sources;if(!r.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},i.prototype.lock=function(){r.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=i},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){"use strict";var i=e("../compressions"),o=e("./ZipFileWorker"),r=function(e,t){var n=e||t,o=i[n];if(!o)throw new Error(n+" is not a valid compression method !");return o};n.generateWorker=function(e,t,n){var i=new o(t.streamFiles,n,t.platform,t.encodeFileName),s=0;try{e.forEach(function(e,n){s++;var o=r(n.options.compression,t.compression),a=n.options.compressionOptions||t.compressionOptions||{},l=n.dir,c=n.date;n._compressWorker(o,a).withStreamInfo("file",{name:e,dir:l,date:c,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(i)}),i.entriesCount=s}catch(a){i.error(a)}return i}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var e=new i;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}i.prototype=e("./object"),i.prototype.loadAsync=e("./load"),i.support=e("./support"),i.defaults=e("./defaults"),i.version="3.1.2",i.loadAsync=function(e,t){return(new i).loadAsync(e,t)},i.external=e("./external"),t.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){"use strict";function i(e){return new r.Promise(function(t,n){var i=e.decompressed.getContentWorker().pipe(new l);i.on("error",function(e){n(e)}).on("end",function(){i.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}var o=e("./utils"),r=e("./external"),s=e("./utf8"),o=e("./utils"),a=e("./zipEntries"),l=e("./stream/Crc32Probe"),c=e("./nodejsUtils");t.exports=function(e,t){var n=this;return t=o.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),c.isNode&&c.isStream(e)?r.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then(function(e){var n=new a(t);return n.load(e),n}).then(function(e){var n=[r.Promise.resolve(e)],o=e.files;if(t.checkCRC32)for(var s=0;s<o.length;s++)n.push(i(o[s]));return r.Promise.all(n)}).then(function(e){for(var i=e.shift(),o=i.files,r=0;r<o.length;r++){var s=o[r];n.file(s.fileNameStr,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:t.createFolders})}return i.zipComment.length&&(n.comment=i.zipComment),n})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){"use strict";function i(e,t){r.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}var o=e("../utils"),r=e("../stream/GenericWorker");o.inherits(i,r),i.prototype._bindStream=function(e){var t=this;this._stream=e,e.pause(),e.on("data",function(e){t.push({data:e,meta:{percent:0}})}).on("error",function(e){t.isPaused?this.generatedError=e:t.error(e)}).on("end",function(){t.isPaused?t._upstreamEnded=!0:t.end()})},i.prototype.pause=function(){return!!r.prototype.pause.call(this)&&(this._stream.pause(),!0)},i.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=i},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){"use strict";function i(e,t,n){o.call(this,t),this._helper=e;var i=this;e.on("data",function(e,t){i.push(e)||i._helper.pause(),n&&n(t)}).on("error",function(e){i.emit("error",e)}).on("end",function(){i.push(null)})}var o=e("readable-stream").Readable,r=e("util");r.inherits(i,o),i.prototype._read=function(){this._helper.resume()},t.exports=i},{"readable-stream":16,util:void 0}],14:[function(e,t,n){"use strict";t.exports={isNode:"undefined"!=typeof Buffer,newBuffer:function(e,t){return new Buffer(e,t)},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,n){"use strict";function i(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var o=e("./utf8"),r=e("./utils"),s=e("./stream/GenericWorker"),a=e("./stream/StreamHelper"),l=e("./defaults"),c=e("./compressedObject"),d=e("./zipObject"),u=e("./generate"),h=e("./nodejsUtils"),p=e("./nodejs/NodejsStreamInputAdapter"),f=function(e,t,n){var i,o=r.getTypeOf(t),a=r.extend(n||{},l);a.date=a.date||new Date,null!==a.compression&&(a.compression=a.compression.toUpperCase()),"string"==typeof a.unixPermissions&&(a.unixPermissions=parseInt(a.unixPermissions,8)),a.unixPermissions&&16384&a.unixPermissions&&(a.dir=!0),a.dosPermissions&&16&a.dosPermissions&&(a.dir=!0),a.dir&&(e=g(e)),a.createFolders&&(i=m(e))&&v.call(this,i,!0);var u="string"===o&&a.binary===!1&&a.base64===!1;n&&"undefined"!=typeof n.binary||(a.binary=!u);var f=t instanceof c&&0===t.uncompressedSize;(f||a.dir||!t||0===t.length)&&(a.base64=!1,a.binary=!0,t="",a.compression="STORE",o="string");var y=null;y=t instanceof c||t instanceof s?t:h.isNode&&h.isStream(t)?new p(e,t):r.prepareContent(e,t,a.binary,a.optimizedBinaryString,a.base64);var b=new d(e,y,a);this.files[e]=b},m=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},g=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},v=function(e,t){return t="undefined"!=typeof t?t:l.createFolders,e=g(e),this.files[e]||f.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]},y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,i;for(t in this.files)this.files.hasOwnProperty(t)&&(i=this.files[t],n=t.slice(this.root.length,t.length),n&&t.slice(0,this.root.length)===this.root&&e(n,i))},filter:function(e){var t=[];return this.forEach(function(n,i){e(n,i)&&t.push(i)}),t},file:function(e,t,n){if(1===arguments.length){if(i(e)){var o=e;return this.filter(function(e,t){return!t.dir&&o.test(e)})}var r=this.files[this.root+e];return r&&!r.dir?r:null}return e=this.root+e,f.call(this,e,t,n),this},folder:function(e){if(!e)return this;if(i(e))return this.filter(function(t,n){return n.dir&&e.test(t)});var t=this.root+e,n=v.call(this,t),o=this.clone();return o.root=n.name,o},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter(function(t,n){return n.name.slice(0,e.length)===e}),i=0;i<n.length;i++)delete this.files[n[i].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if(n=r.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode}),n.type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");r.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var i=n.comment||this.comment||"";t=u.generateWorker(this,n,i)}catch(l){t=new s("error"),t.error(l)}return new a(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return e=e||{},e.type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=y},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){"use strict";function i(e){o.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}var o=e("./DataReader"),r=e("../utils");r.inherits(i,o),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),o=e.charCodeAt(3),r=this.length-4;r>=0;--r)if(this.data[r]===t&&this.data[r+1]===n&&this.data[r+2]===i&&this.data[r+3]===o)return r-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),o=e.charCodeAt(3),r=this.readData(4);return t===r[0]&&n===r[1]&&i===r[2]&&o===r[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){"use strict";function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}var o=e("../utils");i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return o.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC((e>>25&127)+1980,(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=i},{"../utils":32}],19:[function(e,t,n){"use strict";function i(e){o.call(this,e)}var o=e("./Uint8ArrayReader"),r=e("../utils");r.inherits(i,o),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){"use strict";function i(e){o.call(this,e)}var o=e("./DataReader"),r=e("../utils");r.inherits(i,o),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){var t=this.readData(4);return e===t},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){"use strict";function i(e){o.call(this,e)}var o=e("./ArrayReader"),r=e("../utils");r.inherits(i,o),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){"use strict";var i=e("../utils"),o=e("../support"),r=e("./ArrayReader"),s=e("./StringReader"),a=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");t.exports=function(e){var t=i.getTypeOf(e);return i.checkSupport(t),"string"!==t||o.uint8array?"nodebuffer"===t?new a(e):o.uint8array?new l(i.transformTo("uint8array",e)):new r(i.transformTo("array",e)):new s(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){"use strict";n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\b"},{}],24:[function(e,t,n){"use strict";function i(e){o.call(this,"ConvertWorker to "+e),this.destType=e}var o=e("./GenericWorker"),r=e("../utils");r.inherits(i,o),i.prototype.processChunk=function(e){this.push({data:r.transformTo(this.destType,e.data),meta:e.meta})},t.exports=i},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){"use strict";function i(){o.call(this,"Crc32Probe")}var o=e("./GenericWorker"),r=e("../crc32"),s=e("../utils");s.inherits(i,o),i.prototype.processChunk=function(e){this.streamInfo.crc32=r(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=i},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){"use strict";function i(e){r.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}var o=e("../utils"),r=e("./GenericWorker");o.inherits(i,r),i.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}r.prototype.processChunk.call(this,e)},t.exports=i},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){"use strict";function i(e){r.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then(function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=o.getTypeOf(e),t.isPaused||t._tickAndRepeat()},function(e){t.error(e)})}var o=e("../utils"),r=e("./GenericWorker"),s=16384;o.inherits(i,r),i.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this.data=null},i.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},i.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},i.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=s,t=null,n=Math.min(this.max,this.index+e);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,n);break;case"uint8array":t=this.data.subarray(this.index,n);break;case"array":case"nodebuffer":t=this.data.slice(this.index,n)}return this.index=n,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=i},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){"use strict";function i(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.end()}),e.on("error",function(e){t.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var e=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;
return this.previous?this.previous+" -> "+e:e}},t.exports=i},{}],29:[function(e,t,n){"use strict";function i(e,t,n){switch(e){case"blob":return a.newBlob(a.transformTo("arraybuffer",t),n);case"base64":return d.encode(t);default:return a.transformTo(e,t)}}function o(e,t){var n,i=0,o=null,r=0;for(n=0;n<t.length;n++)r+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(o=new Uint8Array(r),n=0;n<t.length;n++)o.set(t[n],i),i+=t[n].length;return o;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}function r(e,t){return new h.Promise(function(n,r){var s=[],a=e._internalType,l=e._outputType,c=e._mimeType;e.on("data",function(e,n){s.push(e),t&&t(n)}).on("error",function(e){s=[],r(e)}).on("end",function(){try{var e=i(l,o(a,s),c);n(e)}catch(t){r(t)}s=[]}).resume()})}function s(e,t,n){var i=t;switch(t){case"blob":case"arraybuffer":i="uint8array";break;case"base64":i="string"}try{this._internalType=i,this._outputType=t,this._mimeType=n,a.checkSupport(i),this._worker=e.pipe(new l(i)),e.lock()}catch(o){this._worker=new c("error"),this._worker.error(o)}}var a=e("../utils"),l=e("./ConvertWorker"),c=e("./GenericWorker"),d=e("../base64"),u=e("../support"),h=e("../external"),p=null;if(u.nodestream)try{p=e("../nodejs/NodejsStreamOutputAdapter")}catch(f){}s.prototype={accumulate:function(e){return r(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,function(e){t.call(n,e.data,e.meta)}):this._worker.on(e,function(){a.delay(t,arguments,n)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(a.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new p(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=s},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var i=new ArrayBuffer(0);try{n.blob=0===new Blob([i],{type:"application/zip"}).size}catch(o){try{var r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,s=new r;s.append(i),n.blob=0===s.getBlob("application/zip").size}catch(o){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(o){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){"use strict";function i(){l.call(this,"utf-8 decode"),this.leftOver=null}function o(){l.call(this,"utf-8 encode")}for(var r=e("./utils"),s=e("./support"),a=e("./nodejsUtils"),l=e("./stream/GenericWorker"),c=new Array(256),d=0;d<256;d++)c[d]=d>=252?6:d>=248?5:d>=240?4:d>=224?3:d>=192?2:1;c[254]=c[254]=1;var u=function(e){var t,n,i,o,r,a=e.length,l=0;for(o=0;o<a;o++)n=e.charCodeAt(o),55296===(64512&n)&&o+1<a&&(i=e.charCodeAt(o+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),o++)),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=s.uint8array?new Uint8Array(l):new Array(l),r=0,o=0;r<l;o++)n=e.charCodeAt(o),55296===(64512&n)&&o+1<a&&(i=e.charCodeAt(o+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),o++)),n<128?t[r++]=n:n<2048?(t[r++]=192|n>>>6,t[r++]=128|63&n):n<65536?(t[r++]=224|n>>>12,t[r++]=128|n>>>6&63,t[r++]=128|63&n):(t[r++]=240|n>>>18,t[r++]=128|n>>>12&63,t[r++]=128|n>>>6&63,t[r++]=128|63&n);return t},h=function(e,t){var n;for(t=t||e.length,t>e.length&&(t=e.length),n=t-1;n>=0&&128===(192&e[n]);)n--;return n<0?t:0===n?t:n+c[e[n]]>t?n:t},p=function(e){var t,n,i,o,s=e.length,a=new Array(2*s);for(n=0,t=0;t<s;)if(i=e[t++],i<128)a[n++]=i;else if(o=c[i],o>4)a[n++]=65533,t+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&t<s;)i=i<<6|63&e[t++],o--;o>1?a[n++]=65533:i<65536?a[n++]=i:(i-=65536,a[n++]=55296|i>>10&1023,a[n++]=56320|1023&i)}return a.length!==n&&(a.subarray?a=a.subarray(0,n):a.length=n),r.applyFromCharCode(a)};n.utf8encode=function(e){return s.nodebuffer?a.newBuffer(e,"utf-8"):u(e)},n.utf8decode=function(e){return s.nodebuffer?r.transformTo("nodebuffer",e).toString("utf-8"):(e=r.transformTo(s.uint8array?"uint8array":"array",e),p(e))},r.inherits(i,l),i.prototype.processChunk=function(e){var t=r.transformTo(s.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var i=t;t=new Uint8Array(i.length+this.leftOver.length),t.set(this.leftOver,0),t.set(i,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var o=h(t),a=t;o!==t.length&&(s.uint8array?(a=t.subarray(0,o),this.leftOver=t.subarray(o,t.length)):(a=t.slice(0,o),this.leftOver=t.slice(o,t.length))),this.push({data:n.utf8decode(a),meta:e.meta})},i.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=i,r.inherits(o,l),o.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=o},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){"use strict";function i(e){var t=null;return t=l.uint8array?new Uint8Array(e.length):new Array(e.length),r(e,t)}function o(e){return e}function r(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}function s(e){var t=65536,i=n.getTypeOf(e),o=!0;if("uint8array"===i?o=p.applyCanBeUsed.uint8array:"nodebuffer"===i&&(o=p.applyCanBeUsed.nodebuffer),o)for(;t>1;)try{return p.stringifyByChunk(e,i,t)}catch(r){t=Math.floor(t/2)}return p.stringifyByChar(e)}function a(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}var l=e("./support"),c=e("./base64"),d=e("./nodejsUtils"),u=e("core-js/library/fn/set-immediate"),h=e("./external");n.newBlob=function(e,t){n.checkSupport("blob");try{return new Blob([e],{type:t})}catch(i){try{var o=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,r=new o;return r.append(e),r.getBlob(t)}catch(i){throw new Error("Bug : can't construct the Blob.")}}};var p={stringifyByChunk:function(e,t,n){var i=[],o=0,r=e.length;if(r<=n)return String.fromCharCode.apply(null,e);for(;o<r;)"array"===t||"nodebuffer"===t?i.push(String.fromCharCode.apply(null,e.slice(o,Math.min(o+n,r)))):i.push(String.fromCharCode.apply(null,e.subarray(o,Math.min(o+n,r)))),o+=n;return i.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return l.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return l.nodebuffer&&1===String.fromCharCode.apply(null,d.newBuffer(1)).length}catch(e){return!1}}()}};n.applyFromCharCode=s;var f={};f.string={string:o,array:function(e){return r(e,new Array(e.length))},arraybuffer:function(e){return f.string.uint8array(e).buffer},uint8array:function(e){return r(e,new Uint8Array(e.length))},nodebuffer:function(e){return r(e,d.newBuffer(e.length))}},f.array={string:s,array:o,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return d.newBuffer(e)}},f.arraybuffer={string:function(e){return s(new Uint8Array(e))},array:function(e){return a(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:o,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return d.newBuffer(new Uint8Array(e))}},f.uint8array={string:s,array:function(e){return a(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:o,nodebuffer:function(e){return d.newBuffer(e)}},f.nodebuffer={string:s,array:function(e){return a(e,new Array(e.length))},arraybuffer:function(e){return f.nodebuffer.uint8array(e).buffer},uint8array:function(e){return a(e,new Uint8Array(e.length))},nodebuffer:o},n.transformTo=function(e,t){if(t||(t=""),!e)return t;n.checkSupport(e);var i=n.getTypeOf(t),o=f[i][e](t);return o},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":l.nodebuffer&&d.isBuffer(e)?"nodebuffer":l.uint8array&&e instanceof Uint8Array?"uint8array":l.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){var t=l[e.toLowerCase()];if(!t)throw new Error(e+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,i="";for(n=0;n<(e||"").length;n++)t=e.charCodeAt(n),i+="\\x"+(t<16?"0":"")+t.toString(16).toUpperCase();return i},n.delay=function(e,t,n){u(function(){e.apply(n||null,t||[])})},n.inherits=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&"undefined"==typeof n[t]&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,o,r,s){var a=h.Promise.resolve(t).then(function(e){return l.blob&&e instanceof Blob&&"undefined"!=typeof FileReader?new h.Promise(function(t,n){var i=new FileReader;i.onload=function(e){t(e.target.result)},i.onerror=function(e){n(e.target.error)},i.readAsArrayBuffer(e)}):e});return a.then(function(t){var a=n.getTypeOf(t);return a?("arraybuffer"===a?t=n.transformTo("uint8array",t):"string"===a&&(s?t=c.decode(t):o&&r!==!0&&(t=i(t))),t):h.Promise.reject(new Error("The data of '"+e+"' is in an unsupported format !"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"core-js/library/fn/set-immediate":36}],33:[function(e,t,n){"use strict";function i(e){this.files=[],this.loadOptions=e}var o=e("./reader/readerFor"),r=e("./utils"),s=e("./signature"),a=e("./zipEntry"),l=(e("./utf8"),e("./support"));i.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug : unexpected signature ("+r.pretty(t)+", expected "+r.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var i=this.reader.readString(4),o=i===t;return this.reader.setIndex(n),o},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=l.uint8array?"uint8array":"array",n=r.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,i=this.zip64EndOfCentralSize-44,o=0;o<i;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)e=new a({zip64:this.zip64},this.loadOptions),e.readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(e<0){var t=!this.isSignature(0,s.LOCAL_FILE_HEADER);throw t?new Error("Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip : can't find end of central directory")}this.reader.setIndex(e);var n=e;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===r.MAX_VALUE_16BITS||this.diskWithCentralDirStart===r.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===r.MAX_VALUE_16BITS||this.centralDirRecords===r.MAX_VALUE_16BITS||this.centralDirSize===r.MAX_VALUE_32BITS||this.centralDirOffset===r.MAX_VALUE_32BITS){if(this.zip64=!0,e=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),e<0)throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip : can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;this.zip64&&(i+=20,i+=12+this.zip64EndOfCentralSize);var o=n-i;if(o>0)this.isSignature(n,s.CENTRAL_FILE_HEADER)||(this.reader.zero=o);else if(o<0)throw new Error("Corrupted zip: missing "+Math.abs(o)+" bytes.")},prepareReader:function(e){this.reader=o(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=i},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){"use strict";function i(e,t){this.options=e,this.loadOptions=t}var o=e("./reader/readerFor"),r=e("./utils"),s=e("./compressedObject"),a=e("./crc32"),l=e("./utf8"),c=e("./compressions"),d=e("./support"),u=0,h=3,p=function(e){for(var t in c)if(c.hasOwnProperty(t)&&c[t].magic===e)return c[t];return null};i.prototype={isEncrypted:function(){return 1===(1&this.bitFlag)},useUTF8:function(){return 2048===(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(t=p(this.compressionMethod),null===t)throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+r.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),e===u&&(this.dosPermissions=63&this.externalFileAttributes),e===h&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=o(this.extraFields[1].value);this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,n,i,o=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index<o;)t=e.readInt(2),n=e.readInt(2),i=e.readData(n),this.extraFields[t]={id:t,length:n,value:i}},handleUTF8:function(){var e=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=l.utf8decode(this.fileName),this.fileCommentStr=l.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=r.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var o=r.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=o(e.value);return 1!==t.readInt(1)?null:a(this.fileName)!==t.readInt(4)?null:l.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=o(e.value);return 1!==t.readInt(1)?null:a(this.fileComment)!==t.readInt(4)?null:l.utf8decode(t.readData(e.length-5))}return null}},t.exports=i},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){"use strict";var i=e("./stream/StreamHelper"),o=e("./stream/DataWorker"),r=e("./utf8"),s=e("./compressedObject"),a=e("./stream/GenericWorker"),l=function(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}};l.prototype={internalStream:function(e){var t=e.toLowerCase(),n="string"===t||"text"===t;"binarystring"!==t&&"text"!==t||(t="string");var o=this._decompressWorker(),s=!this._dataBinary;return s&&!n&&(o=o.pipe(new r.Utf8EncodeWorker)),!s&&n&&(o=o.pipe(new r.Utf8DecodeWorker)),new i(o,t,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof s&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new r.Utf8EncodeWorker)),s.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof a?this._data:new o(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],d=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},u=0;u<c.length;u++)l.prototype[c[u]]=d;t.exports=l},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,n){e("../modules/web.immediate"),t.exports=e("../modules/_core").setImmediate},{"../modules/_core":40,"../modules/web.immediate":56}],37:[function(e,t,n){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],38:[function(e,t,n){var i=e("./_is-object");t.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":51}],39:[function(e,t,n){var i={}.toString;t.exports=function(e){return i.call(e).slice(8,-1)}},{}],40:[function(e,t,n){var i=t.exports={version:"2.3.0"};"number"==typeof __e&&(__e=i)},{}],41:[function(e,t,n){var i=e("./_a-function");t.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,o){return e.call(t,n,i,o)}}return function(){return e.apply(t,arguments)}}},{"./_a-function":37}],42:[function(e,t,n){t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":45}],43:[function(e,t,n){var i=e("./_is-object"),o=e("./_global").document,r=i(o)&&i(o.createElement);t.exports=function(e){return r?o.createElement(e):{}}},{"./_global":46,"./_is-object":51}],44:[function(e,t,n){var i=e("./_global"),o=e("./_core"),r=e("./_ctx"),s=e("./_hide"),a="prototype",l=function(e,t,n){var c,d,u,h=e&l.F,p=e&l.G,f=e&l.S,m=e&l.P,g=e&l.B,v=e&l.W,y=p?o:o[t]||(o[t]={}),b=y[a],w=p?i:f?i[t]:(i[t]||{})[a];p&&(n=t);for(c in n)d=!h&&w&&void 0!==w[c],d&&c in y||(u=d?w[c]:n[c],y[c]=p&&"function"!=typeof w[c]?n[c]:g&&d?r(u,i):v&&w[c]==u?function(e){var t=function(t,n,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,i)}return e.apply(this,arguments)};return t[a]=e[a],t}(u):m&&"function"==typeof u?r(Function.call,u):u,m&&((y.virtual||(y.virtual={}))[c]=u,e&l.R&&b&&!b[c]&&s(b,c,u)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},{"./_core":40,"./_ctx":41,"./_global":46,"./_hide":47}],45:[function(e,t,n){t.exports=function(e){try{return!!e()}catch(t){return!0}}},{}],46:[function(e,t,n){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},{}],47:[function(e,t,n){var i=e("./_object-dp"),o=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},{"./_descriptors":42,"./_object-dp":52,"./_property-desc":53}],48:[function(e,t,n){t.exports=e("./_global").document&&document.documentElement},{"./_global":46}],49:[function(e,t,n){t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":42,"./_dom-create":43,"./_fails":45}],50:[function(e,t,n){t.exports=function(e,t,n){var i=void 0===n;switch(t.length){case 0:return i?e():e.call(n);case 1:return i?e(t[0]):e.call(n,t[0]);case 2:return i?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return i?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return i?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},{}],51:[function(e,t,n){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],52:[function(e,t,n){var i=e("./_an-object"),o=e("./_ie8-dom-define"),r=e("./_to-primitive"),s=Object.defineProperty;n.f=e("./_descriptors")?Object.defineProperty:function(e,t,n){if(i(e),t=r(t,!0),i(n),o)try{return s(e,t,n)}catch(a){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},{"./_an-object":38,"./_descriptors":42,"./_ie8-dom-define":49,"./_to-primitive":55}],53:[function(e,t,n){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],54:[function(e,t,n){var i,o,r,s=e("./_ctx"),a=e("./_invoke"),l=e("./_html"),c=e("./_dom-create"),d=e("./_global"),u=d.process,h=d.setImmediate,p=d.clearImmediate,f=d.MessageChannel,m=0,g={},v="onreadystatechange",y=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},b=function(e){y.call(e.data)};h&&p||(h=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++m]=function(){a("function"==typeof e?e:Function(e),t)},i(m),m},p=function(e){delete g[e]},"process"==e("./_cof")(u)?i=function(e){u.nextTick(s(y,e,1))}:f?(o=new f,r=o.port2,o.port1.onmessage=b,i=s(r.postMessage,r,1)):d.addEventListener&&"function"==typeof postMessage&&!d.importScripts?(i=function(e){d.postMessage(e+"","*")},d.addEventListener("message",b,!1)):i=v in c("script")?function(e){l.appendChild(c("script"))[v]=function(){l.removeChild(this),y.call(e)}}:function(e){setTimeout(s(y,e,1),0)}),t.exports={set:h,clear:p}},{"./_cof":39,"./_ctx":41,"./_dom-create":43,"./_global":46,"./_html":48,"./_invoke":50}],55:[function(e,t,n){var i=e("./_is-object");t.exports=function(e,t){if(!i(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!i(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!i(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!i(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":51}],56:[function(e,t,n){var i=e("./_export"),o=e("./_task");i(i.G+i.B,{setImmediate:o.set,clearImmediate:o.clear})},{"./_export":44,"./_task":54}],57:[function(e,t,n){(function(e){"use strict";function n(){d=!0;for(var e,t,n=u.length;n;){for(t=u,u=[],e=-1;++e<n;)t[e]();n=u.length}d=!1}function i(e){1!==u.push(e)||d||o()}var o,r=e.MutationObserver||e.WebKitMutationObserver;if(r){var s=0,a=new r(n),l=e.document.createTextNode("");a.observe(l,{characterData:!0}),o=function(){l.data=s=++s%2}}else if(e.setImmediate||"undefined"==typeof e.MessageChannel)o="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){n(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(n,0)};else{var c=new e.MessageChannel;c.port1.onmessage=n,o=function(){c.port2.postMessage(0)}}var d,u=[];t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],58:[function(e,t,n){"use strict";function i(){}function o(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,e!==i&&l(this,e)}function r(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function s(e,t,n){f(function(){var i;try{i=t(n)}catch(o){return m.reject(e,o)}i===e?m.reject(e,new TypeError("Cannot resolve promise with itself")):m.resolve(e,i)})}function a(e){var t=e&&e.then;if(e&&"object"==typeof e&&"function"==typeof t)return function(){t.apply(e,arguments)}}function l(e,t){function n(t){r||(r=!0,m.reject(e,t))}function i(t){r||(r=!0,m.resolve(e,t))}function o(){t(i,n)}var r=!1,s=c(o);"error"===s.status&&n(s.value)}function c(e,t){var n={};try{n.value=e(t),n.status="success"}catch(i){n.status="error",n.value=i}return n}function d(e){return e instanceof this?e:m.resolve(new this(i),e)}function u(e){var t=new this(i);return m.reject(t,e)}function h(e){function t(e,t){function i(e){s[t]=e,++a!==o||r||(r=!0,m.resolve(c,s))}n.resolve(e).then(i,function(e){r||(r=!0,m.reject(c,e))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var o=e.length,r=!1;if(!o)return this.resolve([]);for(var s=new Array(o),a=0,l=-1,c=new this(i);++l<o;)t(e[l],l);return c}function p(e){function t(e){n.resolve(e).then(function(e){r||(r=!0,m.resolve(a,e))},function(e){r||(r=!0,m.reject(a,e))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var o=e.length,r=!1;if(!o)return this.resolve([]);for(var s=-1,a=new this(i);++s<o;)t(e[s]);return a}var f=e("immediate"),m={},g=["REJECTED"],v=["FULFILLED"],y=["PENDING"];t.exports=o,o.prototype["catch"]=function(e){return this.then(null,e)},o.prototype.then=function(e,t){if("function"!=typeof e&&this.state===v||"function"!=typeof t&&this.state===g)return this;var n=new this.constructor(i);if(this.state!==y){var o=this.state===v?e:t;s(n,o,this.outcome)}else this.queue.push(new r(n,e,t));return n},r.prototype.callFulfilled=function(e){m.resolve(this.promise,e)},r.prototype.otherCallFulfilled=function(e){s(this.promise,this.onFulfilled,e)},r.prototype.callRejected=function(e){m.reject(this.promise,e)},r.prototype.otherCallRejected=function(e){s(this.promise,this.onRejected,e)},m.resolve=function(e,t){var n=c(a,t);if("error"===n.status)return m.reject(e,n.value);var i=n.value;if(i)l(e,i);else{e.state=v,e.outcome=t;for(var o=-1,r=e.queue.length;++o<r;)e.queue[o].callFulfilled(t)}return e},m.reject=function(e,t){e.state=g,e.outcome=t;for(var n=-1,i=e.queue.length;++n<i;)e.queue[n].callRejected(t);return e},o.resolve=d,o.reject=u,o.all=h,o.race=p},{immediate:57}],59:[function(e,t,n){"use strict";var i=e("./lib/utils/common").assign,o=e("./lib/deflate"),r=e("./lib/inflate"),s=e("./lib/zlib/constants"),a={};i(a,o,r,s),t.exports=a},{"./lib/deflate":60,"./lib/inflate":61,"./lib/utils/common":62,"./lib/zlib/constants":65}],60:[function(e,t,n){"use strict";function i(e){if(!(this instanceof i))return new i(e);this.options=l.assign({level:y,method:w,chunkSize:16384,windowBits:15,memLevel:8,strategy:b,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var n=a.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==m)throw new Error(d[n]);if(t.header&&a.deflateSetHeader(this.strm,t.header),t.dictionary){var o;if(o="string"==typeof t.dictionary?c.string2buf(t.dictionary):"[object ArrayBuffer]"===h.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=a.deflateSetDictionary(this.strm,o),n!==m)throw new Error(d[n]);this._dict_set=!0}}function o(e,t){var n=new i(t);if(n.push(e,!0),n.err)throw n.msg;return n.result}function r(e,t){return t=t||{},t.raw=!0,o(e,t)}function s(e,t){return t=t||{},t.gzip=!0,o(e,t)}var a=e("./zlib/deflate"),l=e("./utils/common"),c=e("./utils/strings"),d=e("./zlib/messages"),u=e("./zlib/zstream"),h=Object.prototype.toString,p=0,f=4,m=0,g=1,v=2,y=-1,b=0,w=8;i.prototype.push=function(e,t){var n,i,o=this.strm,r=this.options.chunkSize;if(this.ended)return!1;i=t===~~t?t:t===!0?f:p,"string"==typeof e?o.input=c.string2buf(e):"[object ArrayBuffer]"===h.call(e)?o.input=new Uint8Array(e):o.input=e,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new l.Buf8(r),o.next_out=0,o.avail_out=r),n=a.deflate(o,i),n!==g&&n!==m)return this.onEnd(n),this.ended=!0,!1;0!==o.avail_out&&(0!==o.avail_in||i!==f&&i!==v)||("string"===this.options.to?this.onData(c.buf2binstring(l.shrinkBuf(o.output,o.next_out))):this.onData(l.shrinkBuf(o.output,o.next_out)))}while((o.avail_in>0||0===o.avail_out)&&n!==g);return i===f?(n=a.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===m):i!==v||(this.onEnd(m),o.avail_out=0,!0)},i.prototype.onData=function(e){this.chunks.push(e)},i.prototype.onEnd=function(e){e===m&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=i,n.deflate=o,n.deflateRaw=r,n.gzip=s},{"./utils/common":62,"./utils/strings":63,"./zlib/deflate":67,"./zlib/messages":72,"./zlib/zstream":74}],61:[function(e,t,n){"use strict";function i(e){if(!(this instanceof i))return new i(e);this.options=a.assign({chunkSize:16384,windowBits:0,to:""
},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var n=s.inflateInit2(this.strm,t.windowBits);if(n!==c.Z_OK)throw new Error(d[n]);this.header=new h,s.inflateGetHeader(this.strm,this.header)}function o(e,t){var n=new i(t);if(n.push(e,!0),n.err)throw n.msg;return n.result}function r(e,t){return t=t||{},t.raw=!0,o(e,t)}var s=e("./zlib/inflate"),a=e("./utils/common"),l=e("./utils/strings"),c=e("./zlib/constants"),d=e("./zlib/messages"),u=e("./zlib/zstream"),h=e("./zlib/gzheader"),p=Object.prototype.toString;i.prototype.push=function(e,t){var n,i,o,r,d,u,h=this.strm,f=this.options.chunkSize,m=this.options.dictionary,g=!1;if(this.ended)return!1;i=t===~~t?t:t===!0?c.Z_FINISH:c.Z_NO_FLUSH,"string"==typeof e?h.input=l.binstring2buf(e):"[object ArrayBuffer]"===p.call(e)?h.input=new Uint8Array(e):h.input=e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new a.Buf8(f),h.next_out=0,h.avail_out=f),n=s.inflate(h,c.Z_NO_FLUSH),n===c.Z_NEED_DICT&&m&&(u="string"==typeof m?l.string2buf(m):"[object ArrayBuffer]"===p.call(m)?new Uint8Array(m):m,n=s.inflateSetDictionary(this.strm,u)),n===c.Z_BUF_ERROR&&g===!0&&(n=c.Z_OK,g=!1),n!==c.Z_STREAM_END&&n!==c.Z_OK)return this.onEnd(n),this.ended=!0,!1;h.next_out&&(0!==h.avail_out&&n!==c.Z_STREAM_END&&(0!==h.avail_in||i!==c.Z_FINISH&&i!==c.Z_SYNC_FLUSH)||("string"===this.options.to?(o=l.utf8border(h.output,h.next_out),r=h.next_out-o,d=l.buf2string(h.output,o),h.next_out=r,h.avail_out=f-r,r&&a.arraySet(h.output,h.output,o,r,0),this.onData(d)):this.onData(a.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(g=!0)}while((h.avail_in>0||0===h.avail_out)&&n!==c.Z_STREAM_END);return n===c.Z_STREAM_END&&(i=c.Z_FINISH),i===c.Z_FINISH?(n=s.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===c.Z_OK):i!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),h.avail_out=0,!0)},i.prototype.onData=function(e){this.chunks.push(e)},i.prototype.onEnd=function(e){e===c.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=i,n.inflate=o,n.inflateRaw=r,n.ungzip=o},{"./utils/common":62,"./utils/strings":63,"./zlib/constants":65,"./zlib/gzheader":68,"./zlib/inflate":70,"./zlib/messages":72,"./zlib/zstream":74}],62:[function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,n,i,o){if(t.subarray&&e.subarray)return void e.set(t.subarray(n,n+i),o);for(var r=0;r<i;r++)e[o+r]=t[n+r]},flattenChunks:function(e){var t,n,i,o,r,s;for(i=0,t=0,n=e.length;t<n;t++)i+=e[t].length;for(s=new Uint8Array(i),o=0,t=0,n=e.length;t<n;t++)r=e[t],s.set(r,o),o+=r.length;return s}},r={arraySet:function(e,t,n,i,o){for(var r=0;r<i;r++)e[o+r]=t[n+r]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,o)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,r))},n.setTyped(i)},{}],63:[function(e,t,n){"use strict";function i(e,t){if(t<65537&&(e.subarray&&s||!e.subarray&&r))return String.fromCharCode.apply(null,o.shrinkBuf(e,t));for(var n="",i=0;i<t;i++)n+=String.fromCharCode(e[i]);return n}var o=e("./common"),r=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(a){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(a){s=!1}for(var l=new o.Buf8(256),c=0;c<256;c++)l[c]=c>=252?6:c>=248?5:c>=240?4:c>=224?3:c>=192?2:1;l[254]=l[254]=1,n.string2buf=function(e){var t,n,i,r,s,a=e.length,l=0;for(r=0;r<a;r++)n=e.charCodeAt(r),55296===(64512&n)&&r+1<a&&(i=e.charCodeAt(r+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),r++)),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new o.Buf8(l),s=0,r=0;s<l;r++)n=e.charCodeAt(r),55296===(64512&n)&&r+1<a&&(i=e.charCodeAt(r+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),r++)),n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|63&n):n<65536?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|63&n):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|63&n);return t},n.buf2binstring=function(e){return i(e,e.length)},n.binstring2buf=function(e){for(var t=new o.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,o,r,s,a=t||e.length,c=new Array(2*a);for(o=0,n=0;n<a;)if(r=e[n++],r<128)c[o++]=r;else if(s=l[r],s>4)c[o++]=65533,n+=s-1;else{for(r&=2===s?31:3===s?15:7;s>1&&n<a;)r=r<<6|63&e[n++],s--;s>1?c[o++]=65533:r<65536?c[o++]=r:(r-=65536,c[o++]=55296|r>>10&1023,c[o++]=56320|1023&r)}return i(c,o)},n.utf8border=function(e,t){var n;for(t=t||e.length,t>e.length&&(t=e.length),n=t-1;n>=0&&128===(192&e[n]);)n--;return n<0?t:0===n?t:n+l[e[n]]>t?n:t}},{"./common":62}],64:[function(e,t,n){"use strict";function i(e,t,n,i){for(var o=65535&e|0,r=e>>>16&65535|0,s=0;0!==n;){s=n>2e3?2e3:n,n-=s;do o=o+t[i++]|0,r=r+o|0;while(--s);o%=65521,r%=65521}return o|r<<16|0}t.exports=i},{}],65:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],66:[function(e,t,n){"use strict";function i(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}function o(e,t,n,i){var o=r,s=i+n;e^=-1;for(var a=i;a<s;a++)e=e>>>8^o[255&(e^t[a])];return e^-1}var r=i();t.exports=o},{}],67:[function(e,t,n){"use strict";function i(e,t){return e.msg=I[t],t}function o(e){return(e<<1)-(e>4?9:0)}function r(e){for(var t=e.length;--t>=0;)e[t]=0}function s(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(A.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function a(e,t){R._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,s(e.strm)}function l(e,t){e.pending_buf[e.pending++]=t}function c(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function d(e,t,n,i){var o=e.avail_in;return o>i&&(o=i),0===o?0:(e.avail_in-=o,A.arraySet(t,e.input,e.next_in,o,n),1===e.state.wrap?e.adler=X(e.adler,t,o,n):2===e.state.wrap&&(e.adler=D(e.adler,t,o,n)),e.next_in+=o,e.total_in+=o,o)}function u(e,t){var n,i,o=e.max_chain_length,r=e.strstart,s=e.prev_length,a=e.nice_match,l=e.strstart>e.w_size-ue?e.strstart-(e.w_size-ue):0,c=e.window,d=e.w_mask,u=e.prev,h=e.strstart+de,p=c[r+s-1],f=c[r+s];e.prev_length>=e.good_match&&(o>>=2),a>e.lookahead&&(a=e.lookahead);do if(n=t,c[n+s]===f&&c[n+s-1]===p&&c[n]===c[r]&&c[++n]===c[r+1]){r+=2,n++;do;while(c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&r<h);if(i=de-(h-r),r=h-de,i>s){if(e.match_start=t,s=i,i>=a)break;p=c[r+s-1],f=c[r+s]}}while((t=u[t&d])>l&&0!==--o);return s<=e.lookahead?s:e.lookahead}function h(e){var t,n,i,o,r,s=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=s+(s-ue)){A.arraySet(e.window,e.window,s,s,0),e.match_start-=s,e.strstart-=s,e.block_start-=s,n=e.hash_size,t=n;do i=e.head[--t],e.head[t]=i>=s?i-s:0;while(--n);n=s,t=n;do i=e.prev[--t],e.prev[t]=i>=s?i-s:0;while(--n);o+=s}if(0===e.strm.avail_in)break;if(n=d(e.strm,e.window,e.strstart+e.lookahead,o),e.lookahead+=n,e.lookahead+e.insert>=ce)for(r=e.strstart-e.insert,e.ins_h=e.window[r],e.ins_h=(e.ins_h<<e.hash_shift^e.window[r+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[r+ce-1])&e.hash_mask,e.prev[r&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=r,r++,e.insert--,!(e.lookahead+e.insert<ce)););}while(e.lookahead<ue&&0!==e.strm.avail_in)}function p(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(h(e),0===e.lookahead&&t===j)return we;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,a(e,!1),0===e.strm.avail_out))return we;if(e.strstart-e.block_start>=e.w_size-ue&&(a(e,!1),0===e.strm.avail_out))return we}return e.insert=0,t===L?(a(e,!0),0===e.strm.avail_out?_e:Ce):e.strstart>e.block_start&&(a(e,!1),0===e.strm.avail_out)?we:we}function f(e,t){for(var n,i;;){if(e.lookahead<ue){if(h(e),e.lookahead<ue&&t===j)return we;if(0===e.lookahead)break}if(n=0,e.lookahead>=ce&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ce-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-ue&&(e.match_length=u(e,n)),e.match_length>=ce)if(i=R._tr_tally(e,e.strstart-e.match_start,e.match_length-ce),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=ce){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ce-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=R._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(a(e,!1),0===e.strm.avail_out))return we}return e.insert=e.strstart<ce-1?e.strstart:ce-1,t===L?(a(e,!0),0===e.strm.avail_out?_e:Ce):e.last_lit&&(a(e,!1),0===e.strm.avail_out)?we:xe}function m(e,t){for(var n,i,o;;){if(e.lookahead<ue){if(h(e),e.lookahead<ue&&t===j)return we;if(0===e.lookahead)break}if(n=0,e.lookahead>=ce&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ce-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=ce-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-ue&&(e.match_length=u(e,n),e.match_length<=5&&(e.strategy===V||e.match_length===ce&&e.strstart-e.match_start>4096)&&(e.match_length=ce-1)),e.prev_length>=ce&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-ce,i=R._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-ce),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=o&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ce-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(0!==--e.prev_length);if(e.match_available=0,e.match_length=ce-1,e.strstart++,i&&(a(e,!1),0===e.strm.avail_out))return we}else if(e.match_available){if(i=R._tr_tally(e,0,e.window[e.strstart-1]),i&&a(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return we}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=R._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<ce-1?e.strstart:ce-1,t===L?(a(e,!0),0===e.strm.avail_out?_e:Ce):e.last_lit&&(a(e,!1),0===e.strm.avail_out)?we:xe}function g(e,t){for(var n,i,o,r,s=e.window;;){if(e.lookahead<=de){if(h(e),e.lookahead<=de&&t===j)return we;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=ce&&e.strstart>0&&(o=e.strstart-1,i=s[o],i===s[++o]&&i===s[++o]&&i===s[++o])){r=e.strstart+de;do;while(i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&o<r);e.match_length=de-(r-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=ce?(n=R._tr_tally(e,1,e.match_length-ce),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=R._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(a(e,!1),0===e.strm.avail_out))return we}return e.insert=0,t===L?(a(e,!0),0===e.strm.avail_out?_e:Ce):e.last_lit&&(a(e,!1),0===e.strm.avail_out)?we:xe}function v(e,t){for(var n;;){if(0===e.lookahead&&(h(e),0===e.lookahead)){if(t===j)return we;break}if(e.match_length=0,n=R._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(a(e,!1),0===e.strm.avail_out))return we}return e.insert=0,t===L?(a(e,!0),0===e.strm.avail_out?_e:Ce):e.last_lit&&(a(e,!1),0===e.strm.avail_out)?we:xe}function y(e,t,n,i,o){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=o}function b(e){e.window_size=2*e.w_size,r(e.head),e.max_lazy_match=O[e.level].max_lazy,e.good_match=O[e.level].good_length,e.nice_match=O[e.level].nice_length,e.max_chain_length=O[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=ce-1,e.match_available=0,e.ins_h=0}function w(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=K,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new A.Buf16(2*ae),this.dyn_dtree=new A.Buf16(2*(2*re+1)),this.bl_tree=new A.Buf16(2*(2*se+1)),r(this.dyn_ltree),r(this.dyn_dtree),r(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new A.Buf16(le+1),this.heap=new A.Buf16(2*oe+1),r(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new A.Buf16(2*oe+1),r(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function x(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=Q,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?pe:ye,e.adler=2===t.wrap?0:1,t.last_flush=j,R._tr_init(t),z):i(e,H)}function _(e){var t=x(e);return t===z&&b(e.state),t}function C(e,t){return e&&e.state?2!==e.state.wrap?H:(e.state.gzhead=t,z):H}function T(e,t,n,o,r,s){if(!e)return H;var a=1;if(t===W&&(t=6),o<0?(a=0,o=-o):o>15&&(a=2,o-=16),r<1||r>J||n!==K||o<8||o>15||t<0||t>9||s<0||s>G)return i(e,H);8===o&&(o=9);var l=new w;return e.state=l,l.strm=e,l.wrap=a,l.gzhead=null,l.w_bits=o,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=r+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+ce-1)/ce),l.window=new A.Buf8(2*l.w_size),l.head=new A.Buf16(l.hash_size),l.prev=new A.Buf16(l.w_size),l.lit_bufsize=1<<r+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new A.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=s,l.method=n,_(e)}function E(e,t){return T(e,t,K,ee,te,Z)}function k(e,t){var n,a,d,u;if(!e||!e.state||t>$||t<0)return e?i(e,H):H;if(a=e.state,!e.output||!e.input&&0!==e.avail_in||a.status===be&&t!==L)return i(e,0===e.avail_out?U:H);if(a.strm=e,n=a.last_flush,a.last_flush=t,a.status===pe)if(2===a.wrap)e.adler=0,l(a,31),l(a,139),l(a,8),a.gzhead?(l(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),l(a,255&a.gzhead.time),l(a,a.gzhead.time>>8&255),l(a,a.gzhead.time>>16&255),l(a,a.gzhead.time>>24&255),l(a,9===a.level?2:a.strategy>=q||a.level<2?4:0),l(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(l(a,255&a.gzhead.extra.length),l(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(e.adler=D(e.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=fe):(l(a,0),l(a,0),l(a,0),l(a,0),l(a,0),l(a,9===a.level?2:a.strategy>=q||a.level<2?4:0),l(a,Te),a.status=ye);else{var h=K+(a.w_bits-8<<4)<<8,p=-1;p=a.strategy>=q||a.level<2?0:a.level<6?1:6===a.level?2:3,h|=p<<6,0!==a.strstart&&(h|=he),h+=31-h%31,a.status=ye,c(a,h),0!==a.strstart&&(c(a,e.adler>>>16),c(a,65535&e.adler)),e.adler=1}if(a.status===fe)if(a.gzhead.extra){for(d=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>d&&(e.adler=D(e.adler,a.pending_buf,a.pending-d,d)),s(e),d=a.pending,a.pending!==a.pending_buf_size));)l(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>d&&(e.adler=D(e.adler,a.pending_buf,a.pending-d,d)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=me)}else a.status=me;if(a.status===me)if(a.gzhead.name){d=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>d&&(e.adler=D(e.adler,a.pending_buf,a.pending-d,d)),s(e),d=a.pending,a.pending===a.pending_buf_size)){u=1;break}u=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,l(a,u)}while(0!==u);a.gzhead.hcrc&&a.pending>d&&(e.adler=D(e.adler,a.pending_buf,a.pending-d,d)),0===u&&(a.gzindex=0,a.status=ge)}else a.status=ge;if(a.status===ge)if(a.gzhead.comment){d=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>d&&(e.adler=D(e.adler,a.pending_buf,a.pending-d,d)),s(e),d=a.pending,a.pending===a.pending_buf_size)){u=1;break}u=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,l(a,u)}while(0!==u);a.gzhead.hcrc&&a.pending>d&&(e.adler=D(e.adler,a.pending_buf,a.pending-d,d)),0===u&&(a.status=ve)}else a.status=ve;if(a.status===ve&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&s(e),a.pending+2<=a.pending_buf_size&&(l(a,255&e.adler),l(a,e.adler>>8&255),e.adler=0,a.status=ye)):a.status=ye),0!==a.pending){if(s(e),0===e.avail_out)return a.last_flush=-1,z}else if(0===e.avail_in&&o(t)<=o(n)&&t!==L)return i(e,U);if(a.status===be&&0!==e.avail_in)return i(e,U);if(0!==e.avail_in||0!==a.lookahead||t!==j&&a.status!==be){var f=a.strategy===q?v(a,t):a.strategy===Y?g(a,t):O[a.level].func(a,t);if(f!==_e&&f!==Ce||(a.status=be),f===we||f===_e)return 0===e.avail_out&&(a.last_flush=-1),z;if(f===xe&&(t===M?R._tr_align(a):t!==$&&(R._tr_stored_block(a,0,0,!1),t===P&&(r(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),s(e),0===e.avail_out))return a.last_flush=-1,z}return t!==L?z:a.wrap<=0?F:(2===a.wrap?(l(a,255&e.adler),l(a,e.adler>>8&255),l(a,e.adler>>16&255),l(a,e.adler>>24&255),l(a,255&e.total_in),l(a,e.total_in>>8&255),l(a,e.total_in>>16&255),l(a,e.total_in>>24&255)):(c(a,e.adler>>>16),c(a,65535&e.adler)),s(e),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?z:F)}function S(e){var t;return e&&e.state?(t=e.state.status,t!==pe&&t!==fe&&t!==me&&t!==ge&&t!==ve&&t!==ye&&t!==be?i(e,H):(e.state=null,t===ye?i(e,B):z)):H}function N(e,t){var n,i,o,s,a,l,c,d,u=t.length;if(!e||!e.state)return H;if(n=e.state,s=n.wrap,2===s||1===s&&n.status!==pe||n.lookahead)return H;for(1===s&&(e.adler=X(e.adler,t,u,0)),n.wrap=0,u>=n.w_size&&(0===s&&(r(n.head),n.strstart=0,n.block_start=0,n.insert=0),d=new A.Buf8(n.w_size),A.arraySet(d,t,u-n.w_size,n.w_size,0),t=d,u=n.w_size),a=e.avail_in,l=e.next_in,c=e.input,e.avail_in=u,e.next_in=0,e.input=t,h(n);n.lookahead>=ce;){i=n.strstart,o=n.lookahead-(ce-1);do n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+ce-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++;while(--o);n.strstart=i,n.lookahead=ce-1,h(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=ce-1,n.match_available=0,e.next_in=l,e.input=c,e.avail_in=a,n.wrap=s,z}var O,A=e("../utils/common"),R=e("./trees"),X=e("./adler32"),D=e("./crc32"),I=e("./messages"),j=0,M=1,P=3,L=4,$=5,z=0,F=1,H=-2,B=-3,U=-5,W=-1,V=1,q=2,Y=3,G=4,Z=0,Q=2,K=8,J=9,ee=15,te=8,ne=29,ie=256,oe=ie+1+ne,re=30,se=19,ae=2*oe+1,le=15,ce=3,de=258,ue=de+ce+1,he=32,pe=42,fe=69,me=73,ge=91,ve=103,ye=113,be=666,we=1,xe=2,_e=3,Ce=4,Te=3;O=[new y(0,0,0,0,p),new y(4,4,8,4,f),new y(4,5,16,8,f),new y(4,6,32,32,f),new y(4,4,16,16,m),new y(8,16,32,32,m),new y(8,16,128,128,m),new y(8,32,128,256,m),new y(32,128,258,1024,m),new y(32,258,258,4096,m)],n.deflateInit=E,n.deflateInit2=T,n.deflateReset=_,n.deflateResetKeep=x,n.deflateSetHeader=C,n.deflate=k,n.deflateEnd=S,n.deflateSetDictionary=N,n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":62,"./adler32":64,"./crc32":66,"./messages":72,"./trees":73}],68:[function(e,t,n){"use strict";function i(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}t.exports=i},{}],69:[function(e,t,n){"use strict";var i=30,o=12;t.exports=function(e,t){var n,r,s,a,l,c,d,u,h,p,f,m,g,v,y,b,w,x,_,C,T,E,k,S,N;n=e.state,r=e.next_in,S=e.input,s=r+(e.avail_in-5),a=e.next_out,N=e.output,l=a-(t-e.avail_out),c=a+(e.avail_out-257),d=n.dmax,u=n.wsize,h=n.whave,p=n.wnext,f=n.window,m=n.hold,g=n.bits,v=n.lencode,y=n.distcode,b=(1<<n.lenbits)-1,w=(1<<n.distbits)-1;e:do{g<15&&(m+=S[r++]<<g,g+=8,m+=S[r++]<<g,g+=8),x=v[m&b];t:for(;;){if(_=x>>>24,m>>>=_,g-=_,_=x>>>16&255,0===_)N[a++]=65535&x;else{if(!(16&_)){if(0===(64&_)){x=v[(65535&x)+(m&(1<<_)-1)];continue t}if(32&_){n.mode=o;break e}e.msg="invalid literal/length code",n.mode=i;break e}C=65535&x,_&=15,_&&(g<_&&(m+=S[r++]<<g,g+=8),C+=m&(1<<_)-1,m>>>=_,g-=_),g<15&&(m+=S[r++]<<g,g+=8,m+=S[r++]<<g,g+=8),x=y[m&w];n:for(;;){if(_=x>>>24,m>>>=_,g-=_,_=x>>>16&255,!(16&_)){if(0===(64&_)){x=y[(65535&x)+(m&(1<<_)-1)];continue n}e.msg="invalid distance code",n.mode=i;break e}if(T=65535&x,_&=15,g<_&&(m+=S[r++]<<g,g+=8,g<_&&(m+=S[r++]<<g,g+=8)),T+=m&(1<<_)-1,T>d){e.msg="invalid distance too far back",n.mode=i;break e}if(m>>>=_,g-=_,_=a-l,T>_){if(_=T-_,_>h&&n.sane){e.msg="invalid distance too far back",n.mode=i;break e}if(E=0,k=f,0===p){if(E+=u-_,_<C){C-=_;do N[a++]=f[E++];while(--_);E=a-T,k=N}}else if(p<_){if(E+=u+p-_,_-=p,_<C){C-=_;do N[a++]=f[E++];while(--_);if(E=0,p<C){_=p,C-=_;do N[a++]=f[E++];while(--_);E=a-T,k=N}}}else if(E+=p-_,_<C){C-=_;do N[a++]=f[E++];while(--_);E=a-T,k=N}for(;C>2;)N[a++]=k[E++],N[a++]=k[E++],N[a++]=k[E++],C-=3;C&&(N[a++]=k[E++],C>1&&(N[a++]=k[E++]))}else{E=a-T;do N[a++]=N[E++],N[a++]=N[E++],N[a++]=N[E++],C-=3;while(C>2);C&&(N[a++]=N[E++],C>1&&(N[a++]=N[E++]))}break}}break}}while(r<s&&a<c);C=g>>3,r-=C,g-=C<<3,m&=(1<<g)-1,e.next_in=r,e.next_out=a,e.avail_in=r<s?5+(s-r):5-(r-s),e.avail_out=a<c?257+(c-a):257-(a-c),n.hold=m,n.bits=g}},{}],70:[function(e,t,n){"use strict";function i(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function o(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new y.Buf16(320),this.work=new y.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function r(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=P,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new y.Buf32(me),t.distcode=t.distdyn=new y.Buf32(ge),t.sane=1,t.back=-1,O):X}function s(e){var t;return e&&e.state?(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,r(e)):X}function a(e,t){var n,i;return e&&e.state?(i=e.state,t<0?(n=0,t=-t):(n=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15)?X:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,s(e))):X}function l(e,t){var n,i;return e?(i=new o,e.state=i,i.window=null,n=a(e,t),n!==O&&(e.state=null),n):X}function c(e){return l(e,ye)}function d(e){if(be){var t;for(g=new y.Buf32(512),v=new y.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(_(T,e.lens,0,288,g,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;_(E,e.lens,0,32,v,0,e.work,{bits:5}),be=!1}e.lencode=g,e.lenbits=9,e.distcode=v,e.distbits=5}function u(e,t,n,i){var o,r=e.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new y.Buf8(r.wsize)),i>=r.wsize?(y.arraySet(r.window,t,n-r.wsize,r.wsize,0),r.wnext=0,r.whave=r.wsize):(o=r.wsize-r.wnext,o>i&&(o=i),y.arraySet(r.window,t,n-i,o,r.wnext),i-=o,i?(y.arraySet(r.window,t,n-i,i,0),r.wnext=i,r.whave=r.wsize):(r.wnext+=o,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=o))),0}function h(e,t){var n,o,r,s,a,l,c,h,p,f,m,g,v,me,ge,ve,ye,be,we,xe,_e,Ce,Te,Ee,ke=0,Se=new y.Buf8(4),Ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return X;n=e.state,n.mode===Y&&(n.mode=G),a=e.next_out,r=e.output,c=e.avail_out,s=e.next_in,o=e.input,l=e.avail_in,h=n.hold,p=n.bits,f=l,m=c,Ce=O;e:for(;;)switch(n.mode){case P:if(0===n.wrap){n.mode=G;break}for(;p<16;){if(0===l)break e;l--,h+=o[s++]<<p,p+=8}if(2&n.wrap&&35615===h){n.check=0,Se[0]=255&h,Se[1]=h>>>8&255,n.check=w(n.check,Se,2,0),h=0,p=0,n.mode=L;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&h)<<8)+(h>>8))%31){e.msg="incorrect header check",n.mode=he;break}if((15&h)!==M){e.msg="unknown compression method",n.mode=he;break}if(h>>>=4,p-=4,_e=(15&h)+8,0===n.wbits)n.wbits=_e;else if(_e>n.wbits){e.msg="invalid window size",n.mode=he;break}n.dmax=1<<_e,e.adler=n.check=1,n.mode=512&h?V:Y,h=0,p=0;break;case L:for(;p<16;){if(0===l)break e;l--,h+=o[s++]<<p,p+=8}if(n.flags=h,(255&n.flags)!==M){e.msg="unknown compression method",n.mode=he;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=he;break}n.head&&(n.head.text=h>>8&1),512&n.flags&&(Se[0]=255&h,Se[1]=h>>>8&255,n.check=w(n.check,Se,2,0)),h=0,p=0,n.mode=$;case $:for(;p<32;){if(0===l)break e;l--,h+=o[s++]<<p,p+=8}n.head&&(n.head.time=h),512&n.flags&&(Se[0]=255&h,Se[1]=h>>>8&255,Se[2]=h>>>16&255,Se[3]=h>>>24&255,n.check=w(n.check,Se,4,0)),h=0,p=0,n.mode=z;case z:for(;p<16;){if(0===l)break e;l--,h+=o[s++]<<p,p+=8}n.head&&(n.head.xflags=255&h,n.head.os=h>>8),512&n.flags&&(Se[0]=255&h,Se[1]=h>>>8&255,n.check=w(n.check,Se,2,0)),h=0,p=0,n.mode=F;case F:if(1024&n.flags){for(;p<16;){if(0===l)break e;l--,h+=o[s++]<<p,p+=8}n.length=h,n.head&&(n.head.extra_len=h),512&n.flags&&(Se[0]=255&h,Se[1]=h>>>8&255,n.check=w(n.check,Se,2,0)),h=0,p=0}else n.head&&(n.head.extra=null);n.mode=H;case H:if(1024&n.flags&&(g=n.length,g>l&&(g=l),g&&(n.head&&(_e=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),y.arraySet(n.head.extra,o,s,g,_e)),512&n.flags&&(n.check=w(n.check,o,g,s)),l-=g,s+=g,n.length-=g),n.length))break e;n.length=0,n.mode=B;case B:if(2048&n.flags){if(0===l)break e;g=0;do _e=o[s+g++],n.head&&_e&&n.length<65536&&(n.head.name+=String.fromCharCode(_e));while(_e&&g<l);if(512&n.flags&&(n.check=w(n.check,o,g,s)),l-=g,s+=g,_e)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=U;case U:if(4096&n.flags){if(0===l)break e;g=0;do _e=o[s+g++],n.head&&_e&&n.length<65536&&(n.head.comment+=String.fromCharCode(_e));while(_e&&g<l);if(512&n.flags&&(n.check=w(n.check,o,g,s)),l-=g,s+=g,_e)break e}else n.head&&(n.head.comment=null);n.mode=W;case W:if(512&n.flags){for(;p<16;){if(0===l)break e;l--,h+=o[s++]<<p,p+=8}if(h!==(65535&n.check)){e.msg="header crc mismatch",n.mode=he;break}h=0,p=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Y;break;case V:for(;p<32;){if(0===l)break e;l--,h+=o[s++]<<p,p+=8}e.adler=n.check=i(h),h=0,p=0,n.mode=q;case q:if(0===n.havedict)return e.next_out=a,e.avail_out=c,e.next_in=s,e.avail_in=l,n.hold=h,n.bits=p,R;e.adler=n.check=1,n.mode=Y;case Y:if(t===S||t===N)break e;case G:if(n.last){h>>>=7&p,p-=7&p,n.mode=ce;break}for(;p<3;){if(0===l)break e;l--,h+=o[s++]<<p,p+=8}switch(n.last=1&h,h>>>=1,p-=1,3&h){case 0:n.mode=Z;break;case 1:if(d(n),n.mode=ne,t===N){h>>>=2,p-=2;break e}break;case 2:n.mode=J;break;case 3:e.msg="invalid block type",n.mode=he}h>>>=2,p-=2;break;case Z:for(h>>>=7&p,p-=7&p;p<32;){if(0===l)break e;l--,h+=o[s++]<<p,p+=8}if((65535&h)!==(h>>>16^65535)){e.msg="invalid stored block lengths",n.mode=he;break}if(n.length=65535&h,h=0,p=0,n.mode=Q,t===N)break e;case Q:n.mode=K;case K:if(g=n.length){if(g>l&&(g=l),g>c&&(g=c),0===g)break e;y.arraySet(r,o,s,g,a),l-=g,s+=g,c-=g,a+=g,n.length-=g;break}n.mode=Y;break;case J:for(;p<14;){if(0===l)break e;l--,h+=o[s++]<<p,p+=8}if(n.nlen=(31&h)+257,h>>>=5,p-=5,n.ndist=(31&h)+1,h>>>=5,p-=5,n.ncode=(15&h)+4,h>>>=4,p-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=he;break}n.have=0,n.mode=ee;case ee:for(;n.have<n.ncode;){for(;p<3;){if(0===l)break e;l--,h+=o[s++]<<p,p+=8}n.lens[Ne[n.have++]]=7&h,h>>>=3,p-=3}for(;n.have<19;)n.lens[Ne[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Te={bits:n.lenbits},Ce=_(C,n.lens,0,19,n.lencode,0,n.work,Te),n.lenbits=Te.bits,Ce){e.msg="invalid code lengths set",n.mode=he;break}n.have=0,n.mode=te;case te:for(;n.have<n.nlen+n.ndist;){for(;ke=n.lencode[h&(1<<n.lenbits)-1],ge=ke>>>24,ve=ke>>>16&255,ye=65535&ke,!(ge<=p);){if(0===l)break e;l--,h+=o[s++]<<p,p+=8}if(ye<16)h>>>=ge,p-=ge,n.lens[n.have++]=ye;else{if(16===ye){for(Ee=ge+2;p<Ee;){if(0===l)break e;l--,h+=o[s++]<<p,p+=8}if(h>>>=ge,p-=ge,0===n.have){e.msg="invalid bit length repeat",n.mode=he;break}_e=n.lens[n.have-1],g=3+(3&h),h>>>=2,p-=2}else if(17===ye){for(Ee=ge+3;p<Ee;){if(0===l)break e;l--,h+=o[s++]<<p,p+=8}h>>>=ge,p-=ge,_e=0,g=3+(7&h),h>>>=3,p-=3}else{for(Ee=ge+7;p<Ee;){if(0===l)break e;l--,h+=o[s++]<<p,p+=8}h>>>=ge,p-=ge,_e=0,g=11+(127&h),h>>>=7,p-=7}if(n.have+g>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=he;break}for(;g--;)n.lens[n.have++]=_e}}if(n.mode===he)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=he;break}if(n.lenbits=9,Te={bits:n.lenbits},Ce=_(T,n.lens,0,n.nlen,n.lencode,0,n.work,Te),n.lenbits=Te.bits,Ce){e.msg="invalid literal/lengths set",n.mode=he;break}if(n.distbits=6,n.distcode=n.distdyn,Te={bits:n.distbits},Ce=_(E,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Te),n.distbits=Te.bits,Ce){e.msg="invalid distances set",n.mode=he;break}if(n.mode=ne,t===N)break e;case ne:n.mode=ie;case ie:if(l>=6&&c>=258){e.next_out=a,e.avail_out=c,e.next_in=s,e.avail_in=l,n.hold=h,n.bits=p,x(e,m),a=e.next_out,r=e.output,c=e.avail_out,s=e.next_in,o=e.input,l=e.avail_in,h=n.hold,p=n.bits,n.mode===Y&&(n.back=-1);break}for(n.back=0;ke=n.lencode[h&(1<<n.lenbits)-1],ge=ke>>>24,ve=ke>>>16&255,ye=65535&ke,!(ge<=p);){if(0===l)break e;l--,h+=o[s++]<<p,p+=8}if(ve&&0===(240&ve)){for(be=ge,we=ve,xe=ye;ke=n.lencode[xe+((h&(1<<be+we)-1)>>be)],ge=ke>>>24,ve=ke>>>16&255,ye=65535&ke,!(be+ge<=p);){if(0===l)break e;l--,h+=o[s++]<<p,p+=8}h>>>=be,p-=be,n.back+=be}if(h>>>=ge,p-=ge,n.back+=ge,n.length=ye,0===ve){n.mode=le;break}if(32&ve){n.back=-1,n.mode=Y;break}if(64&ve){e.msg="invalid literal/length code",n.mode=he;break}n.extra=15&ve,n.mode=oe;case oe:if(n.extra){for(Ee=n.extra;p<Ee;){if(0===l)break e;l--,h+=o[s++]<<p,p+=8}n.length+=h&(1<<n.extra)-1,h>>>=n.extra,p-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=re;case re:for(;ke=n.distcode[h&(1<<n.distbits)-1],ge=ke>>>24,ve=ke>>>16&255,ye=65535&ke,!(ge<=p);){if(0===l)break e;l--,h+=o[s++]<<p,p+=8}if(0===(240&ve)){for(be=ge,we=ve,xe=ye;ke=n.distcode[xe+((h&(1<<be+we)-1)>>be)],ge=ke>>>24,ve=ke>>>16&255,ye=65535&ke,!(be+ge<=p);){if(0===l)break e;l--,h+=o[s++]<<p,p+=8}h>>>=be,p-=be,n.back+=be}if(h>>>=ge,p-=ge,n.back+=ge,64&ve){e.msg="invalid distance code",n.mode=he;break}n.offset=ye,n.extra=15&ve,n.mode=se;case se:if(n.extra){for(Ee=n.extra;p<Ee;){if(0===l)break e;
l--,h+=o[s++]<<p,p+=8}n.offset+=h&(1<<n.extra)-1,h>>>=n.extra,p-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=he;break}n.mode=ae;case ae:if(0===c)break e;if(g=m-c,n.offset>g){if(g=n.offset-g,g>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=he;break}g>n.wnext?(g-=n.wnext,v=n.wsize-g):v=n.wnext-g,g>n.length&&(g=n.length),me=n.window}else me=r,v=a-n.offset,g=n.length;g>c&&(g=c),c-=g,n.length-=g;do r[a++]=me[v++];while(--g);0===n.length&&(n.mode=ie);break;case le:if(0===c)break e;r[a++]=n.length,c--,n.mode=ie;break;case ce:if(n.wrap){for(;p<32;){if(0===l)break e;l--,h|=o[s++]<<p,p+=8}if(m-=c,e.total_out+=m,n.total+=m,m&&(e.adler=n.check=n.flags?w(n.check,r,m,a-m):b(n.check,r,m,a-m)),m=c,(n.flags?h:i(h))!==n.check){e.msg="incorrect data check",n.mode=he;break}h=0,p=0}n.mode=de;case de:if(n.wrap&&n.flags){for(;p<32;){if(0===l)break e;l--,h+=o[s++]<<p,p+=8}if(h!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=he;break}h=0,p=0}n.mode=ue;case ue:Ce=A;break e;case he:Ce=D;break e;case pe:return I;case fe:default:return X}return e.next_out=a,e.avail_out=c,e.next_in=s,e.avail_in=l,n.hold=h,n.bits=p,(n.wsize||m!==e.avail_out&&n.mode<he&&(n.mode<ce||t!==k))&&u(e,e.output,e.next_out,m-e.avail_out)?(n.mode=pe,I):(f-=e.avail_in,m-=e.avail_out,e.total_in+=f,e.total_out+=m,n.total+=m,n.wrap&&m&&(e.adler=n.check=n.flags?w(n.check,r,m,e.next_out-m):b(n.check,r,m,e.next_out-m)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Y?128:0)+(n.mode===ne||n.mode===Q?256:0),(0===f&&0===m||t===k)&&Ce===O&&(Ce=j),Ce)}function p(e){if(!e||!e.state)return X;var t=e.state;return t.window&&(t.window=null),e.state=null,O}function f(e,t){var n;return e&&e.state?(n=e.state,0===(2&n.wrap)?X:(n.head=t,t.done=!1,O)):X}function m(e,t){var n,i,o,r=t.length;return e&&e.state?(n=e.state,0!==n.wrap&&n.mode!==q?X:n.mode===q&&(i=1,i=b(i,t,r,0),i!==n.check)?D:(o=u(e,t,r,r))?(n.mode=pe,I):(n.havedict=1,O)):X}var g,v,y=e("../utils/common"),b=e("./adler32"),w=e("./crc32"),x=e("./inffast"),_=e("./inftrees"),C=0,T=1,E=2,k=4,S=5,N=6,O=0,A=1,R=2,X=-2,D=-3,I=-4,j=-5,M=8,P=1,L=2,$=3,z=4,F=5,H=6,B=7,U=8,W=9,V=10,q=11,Y=12,G=13,Z=14,Q=15,K=16,J=17,ee=18,te=19,ne=20,ie=21,oe=22,re=23,se=24,ae=25,le=26,ce=27,de=28,ue=29,he=30,pe=31,fe=32,me=852,ge=592,ve=15,ye=ve,be=!0;n.inflateReset=s,n.inflateReset2=a,n.inflateResetKeep=r,n.inflateInit=c,n.inflateInit2=l,n.inflate=h,n.inflateEnd=p,n.inflateGetHeader=f,n.inflateSetDictionary=m,n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":62,"./adler32":64,"./crc32":66,"./inffast":69,"./inftrees":71}],71:[function(e,t,n){"use strict";var i=e("../utils/common"),o=15,r=852,s=592,a=0,l=1,c=2,d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,f,m,g,v,y){var b,w,x,_,C,T,E,k,S,N=y.bits,O=0,A=0,R=0,X=0,D=0,I=0,j=0,M=0,P=0,L=0,$=null,z=0,F=new i.Buf16(o+1),H=new i.Buf16(o+1),B=null,U=0;for(O=0;O<=o;O++)F[O]=0;for(A=0;A<f;A++)F[t[n+A]]++;for(D=N,X=o;X>=1&&0===F[X];X--);if(D>X&&(D=X),0===X)return m[g++]=20971520,m[g++]=20971520,y.bits=1,0;for(R=1;R<X&&0===F[R];R++);for(D<R&&(D=R),M=1,O=1;O<=o;O++)if(M<<=1,M-=F[O],M<0)return-1;if(M>0&&(e===a||1!==X))return-1;for(H[1]=0,O=1;O<o;O++)H[O+1]=H[O]+F[O];for(A=0;A<f;A++)0!==t[n+A]&&(v[H[t[n+A]]++]=A);if(e===a?($=B=v,T=19):e===l?($=d,z-=257,B=u,U-=257,T=256):($=h,B=p,T=-1),L=0,A=0,O=R,C=g,I=D,j=0,x=-1,P=1<<D,_=P-1,e===l&&P>r||e===c&&P>s)return 1;for(var W=0;;){W++,E=O-j,v[A]<T?(k=0,S=v[A]):v[A]>T?(k=B[U+v[A]],S=$[z+v[A]]):(k=96,S=0),b=1<<O-j,w=1<<I,R=w;do w-=b,m[C+(L>>j)+w]=E<<24|k<<16|S|0;while(0!==w);for(b=1<<O-1;L&b;)b>>=1;if(0!==b?(L&=b-1,L+=b):L=0,A++,0===--F[O]){if(O===X)break;O=t[n+v[A]]}if(O>D&&(L&_)!==x){for(0===j&&(j=D),C+=R,I=O-j,M=1<<I;I+j<X&&(M-=F[I+j],!(M<=0));)I++,M<<=1;if(P+=1<<I,e===l&&P>r||e===c&&P>s)return 1;x=L&_,m[x]=D<<24|I<<16|C-g|0}}return 0!==L&&(m[C+L]=O-j<<24|64<<16|0),y.bits=D,0}},{"../utils/common":62}],72:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],73:[function(e,t,n){"use strict";function i(e){for(var t=e.length;--t>=0;)e[t]=0}function o(e,t,n,i,o){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=o,this.has_stree=e&&e.length}function r(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function s(e){return e<256?le[e]:le[256+(e>>>7)]}function a(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function l(e,t,n){e.bi_valid>G-n?(e.bi_buf|=t<<e.bi_valid&65535,a(e,e.bi_buf),e.bi_buf=t>>G-e.bi_valid,e.bi_valid+=n-G):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function c(e,t,n){l(e,n[2*t],n[2*t+1])}function d(e,t){var n=0;do n|=1&e,e>>>=1,n<<=1;while(--t>0);return n>>>1}function u(e){16===e.bi_valid?(a(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function h(e,t){var n,i,o,r,s,a,l=t.dyn_tree,c=t.max_code,d=t.stat_desc.static_tree,u=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,f=t.stat_desc.max_length,m=0;for(r=0;r<=Y;r++)e.bl_count[r]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<q;n++)i=e.heap[n],r=l[2*l[2*i+1]+1]+1,r>f&&(r=f,m++),l[2*i+1]=r,i>c||(e.bl_count[r]++,s=0,i>=p&&(s=h[i-p]),a=l[2*i],e.opt_len+=a*(r+s),u&&(e.static_len+=a*(d[2*i+1]+s)));if(0!==m){do{for(r=f-1;0===e.bl_count[r];)r--;e.bl_count[r]--,e.bl_count[r+1]+=2,e.bl_count[f]--,m-=2}while(m>0);for(r=f;0!==r;r--)for(i=e.bl_count[r];0!==i;)o=e.heap[--n],o>c||(l[2*o+1]!==r&&(e.opt_len+=(r-l[2*o+1])*l[2*o],l[2*o+1]=r),i--)}}function p(e,t,n){var i,o,r=new Array(Y+1),s=0;for(i=1;i<=Y;i++)r[i]=s=s+n[i-1]<<1;for(o=0;o<=t;o++){var a=e[2*o+1];0!==a&&(e[2*o]=d(r[a]++,a))}}function f(){var e,t,n,i,r,s=new Array(Y+1);for(n=0,i=0;i<H-1;i++)for(de[i]=n,e=0;e<1<<te[i];e++)ce[n++]=i;for(ce[n-1]=i,r=0,i=0;i<16;i++)for(ue[i]=r,e=0;e<1<<ne[i];e++)le[r++]=i;for(r>>=7;i<W;i++)for(ue[i]=r<<7,e=0;e<1<<ne[i]-7;e++)le[256+r++]=i;for(t=0;t<=Y;t++)s[t]=0;for(e=0;e<=143;)se[2*e+1]=8,e++,s[8]++;for(;e<=255;)se[2*e+1]=9,e++,s[9]++;for(;e<=279;)se[2*e+1]=7,e++,s[7]++;for(;e<=287;)se[2*e+1]=8,e++,s[8]++;for(p(se,U+1,s),e=0;e<W;e++)ae[2*e+1]=5,ae[2*e]=d(e,5);he=new o(se,te,B+1,U,Y),pe=new o(ae,ne,0,W,Y),fe=new o(new Array(0),ie,0,V,Z)}function m(e){var t;for(t=0;t<U;t++)e.dyn_ltree[2*t]=0;for(t=0;t<W;t++)e.dyn_dtree[2*t]=0;for(t=0;t<V;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*Q]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function g(e){e.bi_valid>8?a(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function v(e,t,n,i){g(e),i&&(a(e,n),a(e,~n)),X.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function y(e,t,n,i){var o=2*t,r=2*n;return e[o]<e[r]||e[o]===e[r]&&i[t]<=i[n]}function b(e,t,n){for(var i=e.heap[n],o=n<<1;o<=e.heap_len&&(o<e.heap_len&&y(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!y(t,i,e.heap[o],e.depth));)e.heap[n]=e.heap[o],n=o,o<<=1;e.heap[n]=i}function w(e,t,n){var i,o,r,a,d=0;if(0!==e.last_lit)do i=e.pending_buf[e.d_buf+2*d]<<8|e.pending_buf[e.d_buf+2*d+1],o=e.pending_buf[e.l_buf+d],d++,0===i?c(e,o,t):(r=ce[o],c(e,r+B+1,t),a=te[r],0!==a&&(o-=de[r],l(e,o,a)),i--,r=s(i),c(e,r,n),a=ne[r],0!==a&&(i-=ue[r],l(e,i,a)));while(d<e.last_lit);c(e,Q,t)}function x(e,t){var n,i,o,r=t.dyn_tree,s=t.stat_desc.static_tree,a=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=q,n=0;n<l;n++)0!==r[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):r[2*n+1]=0;for(;e.heap_len<2;)o=e.heap[++e.heap_len]=c<2?++c:0,r[2*o]=1,e.depth[o]=0,e.opt_len--,a&&(e.static_len-=s[2*o+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)b(e,r,n);o=l;do n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],b(e,r,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,r[2*o]=r[2*n]+r[2*i],e.depth[o]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,r[2*n+1]=r[2*i+1]=o,e.heap[1]=o++,b(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],h(e,t),p(r,c,e.bl_count)}function _(e,t,n){var i,o,r=-1,s=t[1],a=0,l=7,c=4;for(0===s&&(l=138,c=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)o=s,s=t[2*(i+1)+1],++a<l&&o===s||(a<c?e.bl_tree[2*o]+=a:0!==o?(o!==r&&e.bl_tree[2*o]++,e.bl_tree[2*K]++):a<=10?e.bl_tree[2*J]++:e.bl_tree[2*ee]++,a=0,r=o,0===s?(l=138,c=3):o===s?(l=6,c=3):(l=7,c=4))}function C(e,t,n){var i,o,r=-1,s=t[1],a=0,d=7,u=4;for(0===s&&(d=138,u=3),i=0;i<=n;i++)if(o=s,s=t[2*(i+1)+1],!(++a<d&&o===s)){if(a<u){do c(e,o,e.bl_tree);while(0!==--a)}else 0!==o?(o!==r&&(c(e,o,e.bl_tree),a--),c(e,K,e.bl_tree),l(e,a-3,2)):a<=10?(c(e,J,e.bl_tree),l(e,a-3,3)):(c(e,ee,e.bl_tree),l(e,a-11,7));a=0,r=o,0===s?(d=138,u=3):o===s?(d=6,u=3):(d=7,u=4)}}function T(e){var t;for(_(e,e.dyn_ltree,e.l_desc.max_code),_(e,e.dyn_dtree,e.d_desc.max_code),x(e,e.bl_desc),t=V-1;t>=3&&0===e.bl_tree[2*oe[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function E(e,t,n,i){var o;for(l(e,t-257,5),l(e,n-1,5),l(e,i-4,4),o=0;o<i;o++)l(e,e.bl_tree[2*oe[o]+1],3);C(e,e.dyn_ltree,t-1),C(e,e.dyn_dtree,n-1)}function k(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return I;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return j;for(t=32;t<B;t++)if(0!==e.dyn_ltree[2*t])return j;return I}function S(e){me||(f(),me=!0),e.l_desc=new r(e.dyn_ltree,he),e.d_desc=new r(e.dyn_dtree,pe),e.bl_desc=new r(e.bl_tree,fe),e.bi_buf=0,e.bi_valid=0,m(e)}function N(e,t,n,i){l(e,(P<<1)+(i?1:0),3),v(e,t,n,!0)}function O(e){l(e,L<<1,3),c(e,Q,se),u(e)}function A(e,t,n,i){var o,r,s=0;e.level>0?(e.strm.data_type===M&&(e.strm.data_type=k(e)),x(e,e.l_desc),x(e,e.d_desc),s=T(e),o=e.opt_len+3+7>>>3,r=e.static_len+3+7>>>3,r<=o&&(o=r)):o=r=n+5,n+4<=o&&t!==-1?N(e,t,n,i):e.strategy===D||r===o?(l(e,(L<<1)+(i?1:0),3),w(e,se,ae)):(l(e,($<<1)+(i?1:0),3),E(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),w(e,e.dyn_ltree,e.dyn_dtree)),m(e),i&&g(e)}function R(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(ce[n]+B+1)]++,e.dyn_dtree[2*s(t)]++),e.last_lit===e.lit_bufsize-1}var X=e("../utils/common"),D=4,I=0,j=1,M=2,P=0,L=1,$=2,z=3,F=258,H=29,B=256,U=B+1+H,W=30,V=19,q=2*U+1,Y=15,G=16,Z=7,Q=256,K=16,J=17,ee=18,te=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ne=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ie=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],oe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],re=512,se=new Array(2*(U+2));i(se);var ae=new Array(2*W);i(ae);var le=new Array(re);i(le);var ce=new Array(F-z+1);i(ce);var de=new Array(H);i(de);var ue=new Array(W);i(ue);var he,pe,fe,me=!1;n._tr_init=S,n._tr_stored_block=N,n._tr_flush_block=A,n._tr_tally=R,n._tr_align=O},{"../utils/common":62}],74:[function(e,t,n){"use strict";function i(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=i},{}]},{},[10])(10)}),!function(e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):"undefined"!=typeof window?window.JSZipUtils=e():"undefined"!=typeof global?global.JSZipUtils=e():"undefined"!=typeof self&&(self.JSZipUtils=e())}(function(){return function e(t,n,i){function o(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return o(n?n:e)},c,c.exports,e,t,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,t,n){"use strict";function i(){try{return new window.XMLHttpRequest}catch(e){}}function o(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}var r={};r._getBinaryFromXHR=function(e){return e.response||e.responseText};var s=window.ActiveXObject?function(){return i()||o()}:i;r.getBinaryContent=function(e,t){try{var n=s();n.open("GET",e,!0),console.log("path",e);var i=CTX.getQueryVariable(e,"fileName");i||(i=e.substr(e.lastIndexOf("/")+1)),"responseType"in n&&(n.responseType="arraybuffer"),n.overrideMimeType&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.onreadystatechange=function(i){var o,s;if(4===n.readyState)if(200===n.status||0===n.status){o=null,s=null;try{o=r._getBinaryFromXHR(n),console.log("getBinaryContent arrayBuffer",o," bytes:",o.byteLength.toLocaleString())}catch(a){s=new Error(a)}t(s,o)}else t(new Error("Ajax error for "+e+" : "+this.status+" "+this.statusText),null)},n.onprogress=function(e){if(e.lengthComputable){if(i){var t=n.loaded/n.total;$(".file-list [data-url='"+i+"'] .progress-status").css("background","#5F00FF"),$(".file-list [data-url='"+i+"'] .progress-status").css("width",150*t+"px"),$(".file-list [data-url='"+i+"'] .progress-status").css("height","10px")}setCirclebar(e)}},n.onload=function(e){$(".file-list").length>0&&setTimeout(function(){$(".file-list [data-url='"+i+"']").remove()},800),0===$(".file-list").children().length&&$(".loadingInfoPanel").empty()},n.send()}catch(o){t(new Error(o),null)}},t.exports=r},{}]},{},[1])(1)});var saveAs=saveAs||"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(e){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var t=e.document,n=function(){return e.URL||e.webkitURL||e},i=t.createElementNS("http://www.w3.org/1999/xhtml","a"),o="download"in i,r=function(n){var i=t.createEvent("MouseEvents");i.initMouseEvent("click",!0,!1,e,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(i)},s=e.webkitRequestFileSystem,a=e.requestFileSystem||s||e.mozRequestFileSystem,l=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},c="application/octet-stream",d=0,u=500,h=function(t){var i=function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()};e.chrome?i():setTimeout(i,u)},p=function(e,t,n){t=[].concat(t);for(var i=t.length;i--;){var o=e["on"+t[i]];if("function"==typeof o)try{o.call(e,n||e)}catch(r){l(r)}}},f=function(t,l){var u,f,m,g=this,v=t.type,y=!1,b=function(){p(g,"writestart progress write writeend".split(" "))},w=function(){if((y||!u)&&(u=n().createObjectURL(t)),f)f.location.href=u;else{var i=e.open(u,"_blank");void 0==i&&"undefined"!=typeof safari&&(e.location.href=u)}g.readyState=g.DONE,b(),h(u)},x=function(e){return function(){return g.readyState!==g.DONE?e.apply(this,arguments):void 0}},_={create:!0,exclusive:!1};return g.readyState=g.INIT,l||(l="download"),o?(u=n().createObjectURL(t),i.href=u,i.download=l,r(i),g.readyState=g.DONE,b(),void h(u)):(/^\s*(?:text\/(?:plain|xml)|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)&&(t=new Blob(["\ufeff",t],{type:t.type})),e.chrome&&v&&v!==c&&(m=t.slice||t.webkitSlice,t=m.call(t,0,t.size,c),y=!0),s&&"download"!==l&&(l+=".download"),(v===c||s)&&(f=e),a?(d+=t.size,void a(e.TEMPORARY,d,x(function(e){e.root.getDirectory("saved",_,x(function(e){var n=function(){e.getFile(l,_,x(function(e){e.createWriter(x(function(n){n.onwriteend=function(t){f.location.href=e.toURL(),g.readyState=g.DONE,p(g,"writeend",t),h(e)},n.onerror=function(){var e=n.error;e.code!==e.ABORT_ERR&&w()},"writestart progress write abort".split(" ").forEach(function(e){n["on"+e]=g["on"+e]}),n.write(t),g.abort=function(){n.abort(),g.readyState=g.DONE},g.readyState=g.WRITING}),w)}),w)};e.getFile(l,{create:!1},x(function(e){e.remove(),n()}),x(function(e){e.code===e.NOT_FOUND_ERR?n():w()}))}),w)}),w)):void w())},m=f.prototype,g=function(e,t){return new f(e,t)};return m.abort=function(){var e=this;e.readyState=e.DONE,p(e,"abort")},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,g}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);if("undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!=define.amd&&define([],function(){return saveAs}),!function(e,t,n,i){"use strict";var o="treeview",r={};r.settings={injectStyle:!0,levels:2,expandIcon:"glyphicon glyphicon-plus",collapseIcon:"glyphicon glyphicon-minus",emptyIcon:"glyphicon",nodeIcon:"",selectedIcon:"",checkedIcon:"glyphicon glyphicon-check",uncheckedIcon:"glyphicon glyphicon-unchecked",color:i,backColor:i,borderColor:i,onhoverColor:"#F5F5F5",selectedColor:"#FFFFFF",selectedBackColor:"#428bca",searchResultColor:"#D9534F",searchResultBackColor:i,enableLinks:!1,highlightSelected:!0,highlightSearchResults:!0,showBorder:!0,showIcon:!0,showCheckbox:!1,showTags:!1,multiSelect:!1,onNodeChecked:i,onNodeCollapsed:i,onNodeDisabled:i,onNodeEnabled:i,onNodeExpanded:i,onNodeSelected:i,onNodeUnchecked:i,onNodeUnselected:i,onSearchComplete:i,onSearchCleared:i},r.options={silent:!1,ignoreChildren:!1},r.searchOptions={ignoreCase:!0,exactMatch:!1,revealResults:!0};var s=function(t,n){return this.$element=e(t),this.elementId=t.id,this.styleId=this.elementId+"-style",this.init(n),{options:this.options,init:e.proxy(this.init,this),remove:e.proxy(this.remove,this),getNode:e.proxy(this.getNode,this),getParent:e.proxy(this.getParent,this),getSiblings:e.proxy(this.getSiblings,this),getSelected:e.proxy(this.getSelected,this),getUnselected:e.proxy(this.getUnselected,this),getExpanded:e.proxy(this.getExpanded,this),getCollapsed:e.proxy(this.getCollapsed,this),getChecked:e.proxy(this.getChecked,this),getUnchecked:e.proxy(this.getUnchecked,this),getDisabled:e.proxy(this.getDisabled,this),getEnabled:e.proxy(this.getEnabled,this),selectNode:e.proxy(this.selectNode,this),unselectNode:e.proxy(this.unselectNode,this),toggleNodeSelected:e.proxy(this.toggleNodeSelected,this),collapseAll:e.proxy(this.collapseAll,this),collapseNode:e.proxy(this.collapseNode,this),expandAll:e.proxy(this.expandAll,this),expandNode:e.proxy(this.expandNode,this),toggleNodeExpanded:e.proxy(this.toggleNodeExpanded,this),revealNode:e.proxy(this.revealNode,this),checkAll:e.proxy(this.checkAll,this),checkNode:e.proxy(this.checkNode,this),uncheckAll:e.proxy(this.uncheckAll,this),uncheckNode:e.proxy(this.uncheckNode,this),toggleNodeChecked:e.proxy(this.toggleNodeChecked,this),disableAll:e.proxy(this.disableAll,this),disableNode:e.proxy(this.disableNode,this),enableAll:e.proxy(this.enableAll,this),enableNode:e.proxy(this.enableNode,this),toggleNodeDisabled:e.proxy(this.toggleNodeDisabled,this),search:e.proxy(this.search,this),clearSearch:e.proxy(this.clearSearch,this)}};s.prototype.init=function(t){this.tree=[],this.nodes=[],t.data&&("string"==typeof t.data&&(t.data=e.parseJSON(t.data)),this.tree=e.extend(!0,[],t.data),delete t.data),this.options=e.extend({},r.settings,t),this.destroy(),this.subscribeEvents(),this.setInitialStates({nodes:this.tree},0),this.render()},s.prototype.remove=function(){this.destroy(),e.removeData(this,o),e("#"+this.styleId).remove()},s.prototype.destroy=function(){this.initialized&&(this.$wrapper.remove(),this.$wrapper=null,this.unsubscribeEvents(),this.initialized=!1)},s.prototype.unsubscribeEvents=function(){this.$element.off("click"),this.$element.off("nodeChecked"),this.$element.off("nodeCollapsed"),this.$element.off("nodeDisabled"),this.$element.off("nodeEnabled"),this.$element.off("nodeExpanded"),this.$element.off("nodeSelected"),this.$element.off("nodeUnchecked"),this.$element.off("nodeUnselected"),this.$element.off("searchComplete"),this.$element.off("searchCleared")},s.prototype.subscribeEvents=function(){this.unsubscribeEvents(),this.$element.on("click",e.proxy(this.clickHandler,this)),"function"==typeof this.options.onNodeChecked&&this.$element.on("nodeChecked",this.options.onNodeChecked),"function"==typeof this.options.onNodeCollapsed&&this.$element.on("nodeCollapsed",this.options.onNodeCollapsed),"function"==typeof this.options.onNodeDisabled&&this.$element.on("nodeDisabled",this.options.onNodeDisabled),"function"==typeof this.options.onNodeEnabled&&this.$element.on("nodeEnabled",this.options.onNodeEnabled),"function"==typeof this.options.onNodeExpanded&&this.$element.on("nodeExpanded",this.options.onNodeExpanded),"function"==typeof this.options.onNodeSelected&&this.$element.on("nodeSelected",this.options.onNodeSelected),"function"==typeof this.options.onNodeUnchecked&&this.$element.on("nodeUnchecked",this.options.onNodeUnchecked),"function"==typeof this.options.onNodeUnselected&&this.$element.on("nodeUnselected",this.options.onNodeUnselected),"function"==typeof this.options.onSearchComplete&&this.$element.on("searchComplete",this.options.onSearchComplete),"function"==typeof this.options.onSearchCleared&&this.$element.on("searchCleared",this.options.onSearchCleared)},s.prototype.setInitialStates=function(t,n){if(t.nodes){n+=1;var i=t,o=this;e.each(t.nodes,function(e,t){t.nodeId=o.nodes.length,t.parentId=i.nodeId,t.hasOwnProperty("selectable")||(t.selectable=!0),t.state=t.state||{},t.state.hasOwnProperty("checked")||(t.state.checked=!1),t.state.hasOwnProperty("disabled")||(t.state.disabled=!1),t.state.hasOwnProperty("expanded")||(!t.state.disabled&&n<o.options.levels&&t.nodes&&t.nodes.length>0?t.state.expanded=!0:t.state.expanded=!1),t.state.hasOwnProperty("selected")||(t.state.selected=!1),o.nodes.push(t),t.nodes&&o.setInitialStates(t,n)})}},s.prototype.clickHandler=function(t){this.options.enableLinks||t.preventDefault();var n=e(t.target),i=this.findNode(n);if(i&&!i.state.disabled){var o=n.attr("class")?n.attr("class").split(" "):[];-1!==o.indexOf("expand-icon")?(this.toggleExpandedState(i,r.options),this.render()):-1!==o.indexOf("check-icon")?(this.toggleCheckedState(i,r.options),this.render()):(i.selectable?this.toggleSelectedState(i,r.options):this.toggleExpandedState(i,r.options),this.render())}},s.prototype.findNode=function(e){var t=e.closest("li.list-group-item").attr("data-nodeid"),n=this.nodes[t];return n||console.log("Error: node does not exist"),n},s.prototype.toggleExpandedState=function(e,t){e&&this.setExpandedState(e,!e.state.expanded,t)},s.prototype.setExpandedState=function(t,n,i){n!==t.state.expanded&&(n&&t.nodes?(t.state.expanded=!0,i.silent||this.$element.trigger("nodeExpanded",e.extend(!0,{},t))):n||(t.state.expanded=!1,i.silent||this.$element.trigger("nodeCollapsed",e.extend(!0,{},t)),t.nodes&&!i.ignoreChildren&&e.each(t.nodes,e.proxy(function(e,t){this.setExpandedState(t,!1,i)},this))))},s.prototype.toggleSelectedState=function(e,t){e&&this.setSelectedState(e,!e.state.selected,t)},s.prototype.setSelectedState=function(t,n,i){n!==t.state.selected&&(n?(this.options.multiSelect||e.each(this.findNodes("true","g","state.selected"),e.proxy(function(e,t){this.setSelectedState(t,!1,i)},this)),t.state.selected=!0,i.silent||this.$element.trigger("nodeSelected",e.extend(!0,{},t))):(t.state.selected=!1,i.silent||this.$element.trigger("nodeUnselected",e.extend(!0,{},t))))},s.prototype.toggleCheckedState=function(e,t){e&&this.setCheckedState(e,!e.state.checked,t)},s.prototype.setCheckedState=function(t,n,i){n!==t.state.checked&&(n?(t.state.checked=!0,i.silent||this.$element.trigger("nodeChecked",e.extend(!0,{},t))):(t.state.checked=!1,i.silent||this.$element.trigger("nodeUnchecked",e.extend(!0,{},t))))},s.prototype.setDisabledState=function(t,n,i){n!==t.state.disabled&&(n?(t.state.disabled=!0,this.setExpandedState(t,!1,i),this.setSelectedState(t,!1,i),this.setCheckedState(t,!1,i),i.silent||this.$element.trigger("nodeDisabled",e.extend(!0,{},t))):(t.state.disabled=!1,i.silent||this.$element.trigger("nodeEnabled",e.extend(!0,{},t))))},s.prototype.render=function(){this.initialized||(this.$element.addClass(o),this.$wrapper=e(this.template.list),this.injectStyle(),this.initialized=!0),this.$element.empty().append(this.$wrapper.empty()),this.buildTree(this.tree,0)},s.prototype.buildTree=function(t,n){if(t){n+=1;var i=this;e.each(t,function(t,o){for(var r=e(i.template.item).addClass("node-"+i.elementId).addClass(o.state.checked?"node-checked":"").addClass(o.state.disabled?"node-disabled":"").addClass(o.state.selected?"node-selected":"").addClass(o.searchResult?"search-result":"").attr("data-nodeid",o.nodeId).attr("style",i.buildStyleOverride(o)),s=0;n-1>s;s++)r.append(i.template.indent);var a=[];if(o.nodes?(a.push("expand-icon"),a.push(o.state.expanded?i.options.collapseIcon:i.options.expandIcon)):a.push(i.options.emptyIcon),r.append(e(i.template.icon).addClass(a.join(" "))),i.options.showIcon){var a=["node-icon"];a.push(o.icon||i.options.nodeIcon),o.state.selected&&(a.pop(),a.push(o.selectedIcon||i.options.selectedIcon||o.icon||i.options.nodeIcon)),r.append(e(i.template.icon).addClass(a.join(" ")))}if(i.options.showCheckbox){var a=["check-icon"];a.push(o.state.checked?i.options.checkedIcon:i.options.uncheckedIcon),r.append(e(i.template.icon).addClass(a.join(" ")))}return r.append(i.options.enableLinks?e(i.template.link).attr("href",o.href).append(o.text):o.text),i.options.showTags&&o.tags&&e.each(o.tags,function(t,n){r.append(e(i.template.badge).append(n))}),i.$wrapper.append(r),o.nodes&&o.state.expanded&&!o.state.disabled?i.buildTree(o.nodes,n):void 0})}},s.prototype.buildStyleOverride=function(e){if(e.state.disabled)return"";var t=e.color,n=e.backColor;return this.options.highlightSelected&&e.state.selected&&(this.options.selectedColor&&(t=this.options.selectedColor),this.options.selectedBackColor&&(n=this.options.selectedBackColor)),this.options.highlightSearchResults&&e.searchResult&&!e.state.disabled&&(this.options.searchResultColor&&(t=this.options.searchResultColor),this.options.searchResultBackColor&&(n=this.options.searchResultBackColor)),"color:"+t+";background-color:"+n+";"},s.prototype.injectStyle=function(){this.options.injectStyle&&!n.getElementById(this.styleId)&&e('<style type="text/css" id="'+this.styleId+'"> '+this.buildStyle()+" </style>").appendTo("head")},s.prototype.buildStyle=function(){var e=".node-"+this.elementId+"{";return this.options.color&&(e+="color:"+this.options.color+";"),this.options.backColor&&(e+="background-color:"+this.options.backColor+";"),this.options.showBorder?this.options.borderColor&&(e+="border:1px solid "+this.options.borderColor+";"):e+="border:none;",e+="}",this.options.onhoverColor&&(e+=".node-"+this.elementId+":not(.node-disabled):hover{background-color:"+this.options.onhoverColor+";}"),this.css+e},s.prototype.template={list:'<ul class="list-group"></ul>',item:'<li class="list-group-item"></li>',indent:'<span class="indent"></span>',icon:'<span class="icon"></span>',link:'<a href="#" style="color:inherit;"></a>',badge:'<span class="badge"></span>'},s.prototype.css=".treeview .list-group-item{cursor:pointer}.treeview span.indent{margin-left:10px;margin-right:10px}.treeview span.icon{width:12px;margin-right:5px}.treeview .node-disabled{color:silver;cursor:not-allowed}",s.prototype.getNode=function(e){return this.nodes[e]},s.prototype.getParent=function(e){var t=this.identifyNode(e);return this.nodes[t.parentId]},s.prototype.getSiblings=function(e){var t=this.identifyNode(e),n=this.getParent(t),i=n?n.nodes:this.tree;return i.filter(function(e){return e.nodeId!==t.nodeId})},s.prototype.getSelected=function(){return this.findNodes("true","g","state.selected")},s.prototype.getUnselected=function(){return this.findNodes("false","g","state.selected")},s.prototype.getExpanded=function(){return this.findNodes("true","g","state.expanded")},s.prototype.getCollapsed=function(){return this.findNodes("false","g","state.expanded")},s.prototype.getChecked=function(){return this.findNodes("true","g","state.checked")},s.prototype.getUnchecked=function(){return this.findNodes("false","g","state.checked")},s.prototype.getDisabled=function(){return this.findNodes("true","g","state.disabled")},s.prototype.getEnabled=function(){return this.findNodes("false","g","state.disabled")},s.prototype.selectNode=function(t,n){this.forEachIdentifier(t,n,e.proxy(function(e,t){this.setSelectedState(e,!0,t)},this)),this.render()},s.prototype.unselectNode=function(t,n){this.forEachIdentifier(t,n,e.proxy(function(e,t){this.setSelectedState(e,!1,t)},this)),this.render()},s.prototype.toggleNodeSelected=function(t,n){this.forEachIdentifier(t,n,e.proxy(function(e,t){this.toggleSelectedState(e,t)},this)),this.render()},s.prototype.collapseAll=function(t){var n=this.findNodes("true","g","state.expanded");this.forEachIdentifier(n,t,e.proxy(function(e,t){this.setExpandedState(e,!1,t)},this)),this.render()},s.prototype.collapseNode=function(t,n){this.forEachIdentifier(t,n,e.proxy(function(e,t){this.setExpandedState(e,!1,t)},this)),this.render()},s.prototype.expandAll=function(t){if(t=e.extend({},r.options,t),t&&t.levels)this.expandLevels(this.tree,t.levels,t);else{var n=this.findNodes("false","g","state.expanded");this.forEachIdentifier(n,t,e.proxy(function(e,t){this.setExpandedState(e,!0,t)},this))}this.render()},s.prototype.expandNode=function(t,n){this.forEachIdentifier(t,n,e.proxy(function(e,t){this.setExpandedState(e,!0,t),e.nodes&&t&&t.levels&&this.expandLevels(e.nodes,t.levels-1,t)},this)),this.render()},s.prototype.expandLevels=function(t,n,i){i=e.extend({},r.options,i),e.each(t,e.proxy(function(e,t){this.setExpandedState(t,n>0,i),t.nodes&&this.expandLevels(t.nodes,n-1,i)},this))},s.prototype.revealNode=function(t,n){this.forEachIdentifier(t,n,e.proxy(function(e,t){for(var n=this.getParent(e);n;)this.setExpandedState(n,!0,t),n=this.getParent(n)},this)),this.render()},s.prototype.toggleNodeExpanded=function(t,n){this.forEachIdentifier(t,n,e.proxy(function(e,t){this.toggleExpandedState(e,t)},this)),this.render()},s.prototype.checkAll=function(t){var n=this.findNodes("false","g","state.checked");this.forEachIdentifier(n,t,e.proxy(function(e,t){this.setCheckedState(e,!0,t)},this)),this.render()},s.prototype.checkNode=function(t,n){this.forEachIdentifier(t,n,e.proxy(function(e,t){this.setCheckedState(e,!0,t)},this)),this.render()},s.prototype.uncheckAll=function(t){var n=this.findNodes("true","g","state.checked");this.forEachIdentifier(n,t,e.proxy(function(e,t){this.setCheckedState(e,!1,t)},this)),this.render()},s.prototype.uncheckNode=function(t,n){this.forEachIdentifier(t,n,e.proxy(function(e,t){this.setCheckedState(e,!1,t)},this)),this.render()},s.prototype.toggleNodeChecked=function(t,n){this.forEachIdentifier(t,n,e.proxy(function(e,t){this.toggleCheckedState(e,t)},this)),this.render()},s.prototype.disableAll=function(t){var n=this.findNodes("false","g","state.disabled");this.forEachIdentifier(n,t,e.proxy(function(e,t){this.setDisabledState(e,!0,t)},this)),this.render()},s.prototype.disableNode=function(t,n){this.forEachIdentifier(t,n,e.proxy(function(e,t){this.setDisabledState(e,!0,t)},this)),this.render()},s.prototype.enableAll=function(t){var n=this.findNodes("true","g","state.disabled");this.forEachIdentifier(n,t,e.proxy(function(e,t){this.setDisabledState(e,!1,t)},this)),this.render()},s.prototype.enableNode=function(t,n){this.forEachIdentifier(t,n,e.proxy(function(e,t){this.setDisabledState(e,!1,t)},this)),this.render()},s.prototype.toggleNodeDisabled=function(t,n){this.forEachIdentifier(t,n,e.proxy(function(e,t){this.setDisabledState(e,!e.state.disabled,t)},this)),this.render()},s.prototype.forEachIdentifier=function(t,n,i){n=e.extend({},r.options,n),t instanceof Array||(t=[t]),e.each(t,e.proxy(function(e,t){i(this.identifyNode(t),n)},this))},s.prototype.identifyNode=function(e){return"number"==typeof e?this.nodes[e]:e},s.prototype.search=function(t,n){n=e.extend({},r.searchOptions,n),this.clearSearch({render:!1
});var i=[];if(t&&t.length>0){n.exactMatch&&(t="^"+t+"$");var o="g";n.ignoreCase&&(o+="i"),i=this.findNodes(t,o),e.each(i,function(e,t){t.searchResult=!0})}return n.revealResults?this.revealNode(i):this.render(),this.$element.trigger("searchComplete",e.extend(!0,{},i)),i},s.prototype.clearSearch=function(t){t=e.extend({},{render:!0},t);var n=e.each(this.findNodes("true","g","searchResult"),function(e,t){t.searchResult=!1});t.render&&this.render(),this.$element.trigger("searchCleared",e.extend(!0,{},n))},s.prototype.findNodes=function(t,n,i){n=n||"g",i=i||"text";var o=this;return e.grep(this.nodes,function(e){var r=o.getNodeValue(e,i);return"string"==typeof r?r.match(new RegExp(t,n)):void 0})},s.prototype.getNodeValue=function(e,t){var n=t.indexOf(".");if(n>0){var o=e[t.substring(0,n)],r=t.substring(n+1,t.length);return this.getNodeValue(o,r)}return e.hasOwnProperty(t)?e[t].toString():i};var a=function(e){t.console&&t.console.error(e)};e.fn[o]=function(t,n){var i;return this.each(function(){var r=e.data(this,o);"string"==typeof t?r?e.isFunction(r[t])&&"_"!==t.charAt(0)?(n instanceof Array||(n=[n]),i=r[t].apply(r,n)):a("No such method : "+t):a("Not initialized, can not call method : "+t):"boolean"==typeof t?i=r:e.data(this,o,new s(this,e.extend(!0,{},t)))}),i||this}}(jQuery,window,document),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.InfiniteTree=t():e.InfiniteTree=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=6)}([function(e,t,n){var i,o;!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(i){var o=typeof i;if("string"===o||"number"===o)e.push(i);else if(Array.isArray(i))e.push(n.apply(null,i));else if("object"===o)for(var s in i)r.call(i,s)&&i[s]&&e.push(s)}}return e.join(" ")}var r={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=n:(i=[],o=function(){return n}.apply(t,i),!(void 0!==o&&(e.exports=o)))}()},function(e,t,n){"use strict";function i(e){var t=""+e,n=o.exec(t);if(!n)return t;var i,r="",s=0,a=0;for(s=n.index;s<t.length;s++){switch(t.charCodeAt(s)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 39:i="&#39;";break;case 60:i="&lt;";break;case 62:i="&gt;";break;default:continue}a!==s&&(r+=t.substring(a,s)),a=s+1,r+=i}return a!==s?r+t.substring(a,s):r}var o=/["'&<>]/;e.exports=i},function(e,t,n){"use strict";t.__esModule=!0;var i=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(e),r=0;r<n.length;r++){var s=n[r];if(void 0!==s&&null!==s)for(var a in s)s.hasOwnProperty(a)&&(o[a]=s[a])}return o};t["default"]=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=n(2),s=i(r),a=function(){function e(t){o(this,e),this.id=null,this.parent=null,this.children=[],this.state={},(0,s["default"])(this,t),this.children=this.children||[]}return e.prototype.contains=function(t){for(;t instanceof e&&t!==this;){if(t.parent===this)return!0;t=t.parent}return!1},e.prototype.getChildAt=function(e){var t=null;return this.children.length>0&&e>=0&&e<this.children.length&&(t=this.children[e]),t},e.prototype.getChildren=function(){return this.children},e.prototype.getFirstChild=function(){var e=null;return this.children.length>0&&(e=this.children[0]),e},e.prototype.getLastChild=function(){var e=null;return this.children.length>0&&(e=this.children[this.children.length-1]),e},e.prototype.getNextSibling=function(){var e=null;if(this.parent){var t=this.parent.children.indexOf(this);t>=0&&t<this.parent.children.length-1&&(e=this.parent.children[t+1])}return e},e.prototype.getParent=function(){return this.parent},e.prototype.getPreviousSibling=function(){var e=null;if(this.parent){var t=this.parent.children.indexOf(this);t>0&&t<this.parent.children.length&&(e=this.parent.children[t-1])}return e},e.prototype.hasChildren=function(){return this.children.length>0},e.prototype.isLastChild=function(){var e=this.getNextSibling();return!e},e}();t["default"]=a},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},c=n(11),d=i(c),u=n(0),h=i(u),p=n(9),f=i(p),m=n(10),g=i(m),v=n(15),y=i(v),b=n(13),w=n(7),x=i(w),_=n(8),C=n(5),T=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(console&&console.error){var i="[InfiniteTree]";console.error.apply(console,[i].concat(t))}},E=function(e){return!!e&&(e instanceof b.Node||(T("The node must be a Node object."),!1))},k=function(e){return Object.assign(e||new b.Node,{parent:null,children:[],state:{depth:-1,open:!0,path:"",prefixMask:"",total:0}})},S=function(e){function t(n,i){o(this,t);var s=r(this,e.call(this));return s.options={autoOpen:!1,droppable:!1,el:null,layout:"div",loadNodes:null,noDataClass:"infinite-tree-no-data",noDataText:"No data",nodeIdAttr:"data-id",rowRenderer:_.defaultRowRenderer,selectable:!0,shouldSelectNode:null,togglerClass:"infinite-tree-toggler"},s.state={openNodes:[],rootNode:k(),selectedNode:null},s.clusterize=null,s.nodeTable=new x["default"],s.nodes=[],s.rows=[],s.scrollElement=null,s.contentElement=null,s.draggableTarget=null,s.droppableTarget=null,s.contentListener={click:function(e){e=e||window.event;var t=e.stopPropagation;e.stopPropagation=function(){e.cancelBubble=!0,t&&t.call(e)},setTimeout(function(){if(e.cancelBubble!==!0&&(s.emit("click",e),e.cancelBubble!==!0)){var t=null,n=!1;for(e.target?t=e.target!==e.currentTarget?e.target:null:e.srcElement&&(t=e.srcElement);t&&t.parentElement!==s.contentElement;)(0,g["default"])(t).has(s.options.togglerClass)&&(n=!0),t=t.parentElement;if(t&&!t.hasAttribute("disabled")){var i=t.getAttribute(s.options.nodeIdAttr),o=s.getNodeById(i);if(o)return n?void s.toggleNode(o):void 0}}},0)},dblclick:function(e){s.emit("doubleClick",e)},keydown:function(e){s.emit("keyDown",e)},keyup:function(e){s.emit("keyUp",e)},dragstart:function(e){e=e||window.event,s.draggableTarget=e.target||e.srcElement},dragend:function(e){e=e||window.event;var t=s.options.droppable.hoverClass,n=void 0===t?"":t;s.draggableTarget=null,s.droppableTarget&&((0,g["default"])(s.droppableTarget).remove(n),s.droppableTarget=null)},dragenter:function(e){e=e||window.event;var t=null;for(e.target?t=e.target!==e.currentTarget?e.target:null:e.srcElement&&(t=e.srcElement);t&&t.parentElement!==s.contentElement;)t=t.parentElement;if(t&&s.droppableTarget!==t){var n=s.options.droppable,i=n.accept,o=n.hoverClass,r=void 0===o?"":o;(0,g["default"])(s.droppableTarget).remove(r),s.droppableTarget=null;var a=!0;if("function"==typeof i){var l=t.getAttribute(s.options.nodeIdAttr),c=s.getNodeById(l);a=!!i.call(s,e,{type:"dragenter",draggableTarget:s.draggableTarget,droppableTarget:t,node:c})}a&&((0,g["default"])(t).add(r),s.droppableTarget=t)}},dragover:function(e){e=e||window.event,(0,C.preventDefault)(e)},drop:function a(e){if(e=e||window.event,(0,C.preventDefault)(e),s.draggableTarget&&s.droppableTarget){var t=s.options.droppable,n=t.accept,a=t.drop,i=t.hoverClass,o=void 0===i?"":i,r=s.droppableTarget.getAttribute(s.options.nodeIdAttr),l=s.getNodeById(r),c=!0;"function"==typeof n&&(c=!!n.call(s,e,{type:"drop",draggableTarget:s.draggableTarget,droppableTarget:s.droppableTarget,node:l})),c&&"function"==typeof a&&a.call(s,e,{draggableTarget:s.draggableTarget,droppableTarget:s.droppableTarget,node:l}),(0,g["default"])(s.droppableTarget).remove(o),s.droppableTarget=null}}},i=(0,y["default"])(n)?l({},i,{el:n}):n,s.options=l({},s.options,i),s.options.el?(s.create(),i.data&&s.loadData(i.data),s):(console.error("Failed to initialize infinite-tree: el is not specified.",i),r(s))}return s(t,e),t.prototype.create=function(){var e=this;this.options.el||T("The element option is not specified.");var t=null;if(this.scrollElement=document.createElement("div"),"table"===this.options.layout){var n=document.createElement("table");n.className=(0,h["default"])("infinite-tree","infinite-tree-table");var i=document.createElement("tbody");n.appendChild(i),this.scrollElement.appendChild(n),this.contentElement=i,t="tr"}else{var o=document.createElement("div");this.scrollElement.appendChild(o),this.contentElement=o,t="div"}this.scrollElement.className=(0,h["default"])("infinite-tree","infinite-tree-scroll"),this.contentElement.className=(0,h["default"])("infinite-tree","infinite-tree-content"),this.options.el.appendChild(this.scrollElement),this.clusterize=new f["default"]({tag:t,rows:[],scrollElem:this.scrollElement,contentElem:this.contentElement,no_data_text:this.options.noDataText,no_data_class:this.options.noDataClass,callbacks:{clusterWillChange:function(){e.emit("clusterWillChange")},clusterChanged:function(){e.emit("clusterDidChange")}}}),(0,C.addEventListener)(this.contentElement,"click",this.contentListener.click),(0,C.addEventListener)(this.contentElement,"dblclick",this.contentListener.dblclick),(0,C.addEventListener)(this.contentElement,"keydown",this.contentListener.keydown),(0,C.addEventListener)(this.contentElement,"keyup",this.contentListener.keyup),this.options.droppable&&((0,C.addEventListener)(document,"dragstart",this.contentListener.dragstart),(0,C.addEventListener)(document,"dragend",this.contentListener.dragend),(0,C.addEventListener)(this.contentElement,"dragenter",this.contentListener.dragenter),(0,C.addEventListener)(this.contentElement,"dragleave",this.contentListener.dragleave),(0,C.addEventListener)(this.contentElement,"dragover",this.contentListener.dragover),(0,C.addEventListener)(this.contentElement,"drop",this.contentListener.drop))},t.prototype.destroy=function(){for((0,C.removeEventListener)(this.contentElement,"click",this.contentListener.click),(0,C.removeEventListener)(this.contentElement,"dblclick",this.contentListener.dblclick),(0,C.removeEventListener)(this.contentElement,"keydown",this.contentListener.keydown),(0,C.removeEventListener)(this.contentElement,"keyup",this.contentListener.keyup),this.options.droppable&&((0,C.removeEventListener)(document,"dragstart",this.contentListener.dragstart),(0,C.removeEventListener)(document,"dragend",this.contentListener.dragend),(0,C.removeEventListener)(this.contentElement,"dragenter",this.contentListener.dragenter),(0,C.removeEventListener)(this.contentElement,"dragleave",this.contentListener.dragleave),(0,C.removeEventListener)(this.contentElement,"dragover",this.contentListener.dragover),(0,C.removeEventListener)(this.contentElement,"drop",this.contentListener.drop)),this.clear(),this.clusterize&&(this.clusterize.destroy(!0),this.clusterize=null);this.contentElement.firstChild;)this.contentElement.removeChild(this.contentElement.firstChild);for(;this.scrollElement.firstChild;)this.scrollElement.removeChild(this.scrollElement.firstChild);if(this.options.el)for(var e=this.options.el;e.firstChild;)e.removeChild(e.firstChild);this.contentElement=null,this.scrollElement=null},t.prototype.addChildNodes=function(e,t,n){var i=this;if(e=[].concat(e||[]),0===e.length)return!1;if("object"===("undefined"==typeof t?"undefined":a(t))?(n=t||this.state.rootNode,t=n.children.length):n=n||this.state.rootNode,!E(n))return!1;"number"!=typeof t&&(t=n.children.length),e.forEach(function(e){e.parent=n}),n.children.splice.apply(n.children,[t,0].concat(e)),t=n.children.indexOf(e[0]);var o=n.state.total,r=(0,b.flatten)(n.children,{openNodes:this.state.openNodes}),s=r.map(function(e){return i.options.rowRenderer(e,i.options)});if(n===this.state.rootNode)this.nodes=r,this.rows=s;else{var l=this.nodes.indexOf(n);l>=0&&(this.nodes.splice.apply(this.nodes,[l+1,o].concat(r)),this.rows.splice.apply(this.rows,[l+1,o].concat(s)),this.rows[l]=this.options.rowRenderer(n,this.options))}return n.children.slice(t).forEach(function(e){i.flattenNode(e).forEach(function(e){void 0!==e.id&&i.nodeTable.set(e.id,e)})}),this.update(),!0},t.prototype.appendChildNode=function(e,t){if(t=t||this.state.rootNode,!E(t))return!1;var n=t.children.length,i=[].concat(e||[]);return this.addChildNodes(i,n,t)},t.prototype.clear=function(){this.clusterize.clear(),this.nodeTable.clear(),this.nodes=[],this.rows=[],this.state.openNodes=[],this.state.rootNode=k(this.state.rootNode),this.state.selectedNode=null},t.prototype.closeNode=function(e,t){var n=l({},t),i=n.silent,o=void 0!==i&&i;if(!E(e))return!1;this.emit("willCloseNode",e);var r=this.nodes.indexOf(e);if(r<0)return T("Invalid node index"),!1;if(this.state.openNodes.indexOf(e)<0)return!1;if(this.state.selectedNode&&this.state.selectedNode!==e){var s=this.nodes.indexOf(this.state.selectedNode),a=r+1,c=r+e.state.total;a<=s&&s<=c&&this.selectNode(e,t)}e.state.open=!1;var d=this.state.openNodes.filter(function(e){return e.hasChildren()&&e.state.open});this.state.openNodes=d;for(var u=e.state.total,h=e;null!==h;h=h.parent)h.state.total=h.state.total-u;return this.nodes.splice(r+1,u),this.rows.splice(r+1,u),this.rows[r]=this.options.rowRenderer(e,this.options),o||this.emit("closeNode",e),this.update(),!0},t.prototype.flattenChildNodes=function(e){if(e=e||this.state.rootNode,!E(e))return[];for(var t=[],n=e.getFirstChild();n;)if(t.push(n),n.hasChildren())n=n.getFirstChild();else{for(;null===n.getNextSibling()&&n.parent!==e;)n=n.getParent();n=n.getNextSibling()}return t},t.prototype.flattenNode=function(e){return E(e)?[e].concat(this.flattenChildNodes(e)):[]},t.prototype.getChildNodes=function(e){return e=e||this.state.rootNode,E(e)?e.children:[]},t.prototype.getNodeById=function(e){var t=this.nodeTable.get(e);if(!t){if(t=this.nodes.filter(function(t){return t.id===e})[0],!t)return null;this.nodeTable.set(t.id,t)}return t},t.prototype.getNodeFromPoint=function(e,t){for(var n=document.elementFromPoint(e,t);n&&n.parentElement!==this.contentElement;)n=n.parentElement;if(!n)return null;var i=n.getAttribute(this.options.nodeIdAttr),o=this.getNodeById(i);return o},t.prototype.getOpenNodes=function(){return this.state.openNodes.slice()},t.prototype.getRootNode=function(){return this.state.rootNode},t.prototype.getSelectedNode=function(){return this.state.selectedNode},t.prototype.getSelectedIndex=function(){return this.nodes.indexOf(this.state.selectedNode)},t.prototype.insertNodeAfter=function(e,t){if(!E(t))return!1;var n=t.getParent(),i=n.children.indexOf(t)+1,o=[].concat(e||[]);return this.addChildNodes(o,i,n)},t.prototype.insertNodeBefore=function(e,t){if(!E(t))return!1;var n=t.getParent(),i=n.children.indexOf(t),o=[].concat(e||[]);return this.addChildNodes(o,i,n)},t.prototype.loadData=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.nodes=(0,b.flatten)(t,{openAllNodes:this.options.autoOpen}),this.nodeTable.clear(),this.state.openNodes=this.nodes.filter(function(e){return e.hasChildren()&&e.state.open}),this.state.selectedNode=null;var n=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&null!==e.parent;)e=e.parent;return e}(this.nodes.length>0?this.nodes[0]:null);this.state.rootNode=n||k(this.state.rootNode),this.flattenChildNodes(this.state.rootNode).forEach(function(t){void 0!==t.id&&e.nodeTable.set(t.id,t)}),this.rows=this.nodes.map(function(t){return e.options.rowRenderer(t,e.options)}),this.update()},t.prototype.moveNodeTo=function(e,t,n){if(!E(e)||!E(t))return!1;for(var i=t;null!==i;i=i.parent)if(i===e)return T("Cannot move an ancestor node (id="+e.id+") to the specified parent node (id="+t.id+")."),!1;return this.removeNode(e)&&this.addChildNodes(e,n,t)},t.prototype.openNode=function(e,t){var n=this,i=l({},t),o=i.silent,r=void 0!==o&&o;if(!E(e))return!1;this.emit("willOpenNode",e);var s=this.nodes.indexOf(e);if(s<0)return T("Invalid node index"),!1;if(this.state.openNodes.indexOf(e)>=0)return!1;if(!e.hasChildren()&&e.loadOnDemand)return"function"==typeof this.options.loadNodes&&(e.state.loading!==!0&&(e.state.loading=!0,this.rows[s]=this.options.rowRenderer(e,this.options),this.update(),this.options.loadNodes(e,function(i,o){console.log("a"),e.state.loading=!1,n.rows[s]=n.options.rowRenderer(e,n.options),n.update(),i||o&&(o=[].concat(o||[]),0!==o.length&&(o.forEach(function(t){n.appendChildNode(t,e)}),e.hasChildren()&&n.openNode(e,t)))}),!0));e.state.open=!0;var a=[e].concat(this.state.openNodes);this.state.openNodes=a;var c=(0,b.flatten)(e.children,{openNodes:this.state.openNodes}),d=c.map(function(e){return n.options.rowRenderer(e,n.options)});return this.nodes.splice.apply(this.nodes,[s+1,0].concat(c)),this.rows.splice.apply(this.rows,[s+1,0].concat(d)),this.rows[s]=this.options.rowRenderer(e,this.options),c.length>0&&!this.nodeTable.get(c[0])&&c.forEach(function(e){void 0!==e.id&&n.nodeTable.set(e.id,e)}),r||this.emit("openNode",e),this.update(),!0},t.prototype.removeChildNodes=function(e,t){var n=this;if(!E(e))return!1;if(0===e.children.length)return!1;if(e===this.state.rootNode)return this.clear(),!0;var i=this.nodes.indexOf(e);if(i>=0&&this.state.selectedNode){var o=this.nodes.indexOf(this.state.selectedNode),r=i+1,s=i+e.state.total;r<=o&&o<=s&&(e===this.state.rootNode?this.selectNode(null,t):this.selectNode(e,t))}for(var a=this.flattenChildNodes(e),l=e.state.total,c=e;null!==c;c=c.parent)c.state.total=c.state.total-l;return e.children=[],e.state.open=e.state.open&&e.children.length>0,i>=0&&(this.nodes.splice(i+1,l),this.rows.splice(i+1,l),this.rows[i]=this.options.rowRenderer(e,this.options)),this.state.openNodes=this.state.openNodes.filter(function(e){return a.indexOf(e)<0&&e.hasChildren()&&e.state.open}),a.forEach(function(e){n.nodeTable.unset(e.id)}),this.update(),!0},t.prototype.removeNode=function(e,t){var n=this;if(!E(e))return!1;var i=e.parent;if(!i)return!1;var o=this.nodes.indexOf(e),r=this.nodes.indexOf(i);if(o>=0&&this.state.selectedNode){var s=this.nodes.indexOf(this.state.selectedNode),a=o,l=o+e.state.total+1;if(a<=s&&s<=l){var c=e.getNextSibling()||e.getPreviousSibling()||e.getParent();c===this.state.rootNode?this.selectNode(null,t):this.selectNode(c,t)}}for(var d=this.flattenNode(e),u=e.state.total+1,h=i;null!==h;h=h.parent)h.state.total=h.state.total-u;return i.children.splice(i.children.indexOf(e),1),i.state.open=i.state.open&&i.children.length>0,o>=0&&(this.nodes.splice(o,u),this.rows.splice(o,u)),r>=0&&(this.rows[r]=this.options.rowRenderer(i,this.options)),this.state.openNodes=this.state.openNodes.filter(function(e){return d.indexOf(e)<0&&e.hasChildren()&&e.state.open}),d.forEach(function(e){n.nodeTable.unset(e.id)}),this.update(),!0},t.prototype.scrollToNode=function(e){if(!E(e))return!1;var t=this.nodes.indexOf(e);if(t<0)return!1;if(!this.contentElement)return!1;for(var n=this.contentElement.firstChild;n;){var i=n.className||"";if(i.indexOf("clusterize-extra-row")<0&&n.offsetHeight>0)break;n=n.nextSibling}var o=n&&n.offsetHeight||0;o>0&&this.scrollTop(t*o);var r="["+this.options.nodeIdAttr+'="'+e.id+'"]',s=this.contentElement.querySelector(r);return s&&this.scrollTop(s.offsetTop),!0},t.prototype.scrollTop=function(e){return this.scrollElement?(void 0!==e&&(this.scrollElement.scrollTop=Number(e)),this.scrollElement.scrollTop):0},t.prototype.selectNode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1],n=this.options,i=n.selectable,o=n.shouldSelectNode,r=l({},t),s=r.autoScroll,a=void 0===s||s,c=r.silent,d=void 0!==c&&c;if(this.emit("willSelectNode",e),!i)return!1;if("function"==typeof o&&!o(e))return!1;if(e===this.state.rootNode)return!1;if(null===e){if(this.state.selectedNode){var u=this.state.selectedNode,h=this.nodes.indexOf(this.state.selectedNode);return u.state.selected=!1,this.rows[h]=this.options.rowRenderer(u,this.options),this.state.selectedNode=null,d||this.emit("selectNode",null),this.update(),!0}return!1}if(!E(e))return!1;var p=this.nodes.indexOf(e);if(p<0)return T("Invalid node index"),!1;if(this.state.selectedNode!==e&&(e.state.selected=!0,this.rows[p]=this.options.rowRenderer(e,this.options)),this.state.selectedNode){var f=this.state.selectedNode,m=this.nodes.indexOf(this.state.selectedNode);f.state.selected=!1,this.rows[m]=this.options.rowRenderer(f,this.options)}if(this.state.selectedNode!==e){if(this.state.selectedNode=e,d||this.emit("selectNode",e),a){var g="["+this.options.nodeIdAttr+'="'+e.id+'"]',v=this.contentElement.querySelector(g);if(v){var y=v.offsetTop||0,b=v.offsetHeight||0;y<this.scrollElement.scrollTop&&(this.scrollElement.scrollTop=y),y+b>=this.scrollElement.scrollTop+this.scrollElement.clientHeight&&(this.scrollElement.scrollTop+=b)}}}else this.state.selectedNode=null,d||this.emit("selectNode",e);return this.update(),!0},t.prototype.swapNodes=function(e,t){if(!E(e)||!E(e.parent))return!1;if(!E(t)||!E(t.parent))return!1;for(var n=e.parent,i=t.parent,o=n;null!==o;o=o.parent)if(o===t)return T("Cannot swap two nodes with one being an ancestor of the other."),!1;for(var r=i;null!==r;r=r.parent)if(r===e)return T("Cannot swap two nodes with one being an ancestor of the other."),!1;var s=n.children.indexOf(e),a=i.children.indexOf(t);return this.moveNodeTo(e,i,a)&&this.moveNodeTo(t,n,s)},t.prototype.toggleNode=function(e,t){return!!E(e)&&(this.state.openNodes.indexOf(e)>=0?this.closeNode(e,t):this.openNode(e,t))},t.prototype.toString=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=function n(e){var t="[";if(e&&e.children)for(var i=function(i){var o=[];t+="{",Object.keys(e).forEach(function(t){var r=e[t];if("parent"!==t)return"children"===t?void o.push('"'+t+'":'+n(e.children[i])):void("string"==typeof r||"object"===("undefined"==typeof r?"undefined":a(r))?o.push('"'+t+'":'+JSON.stringify(r)):o.push('"'+t+'":'+r))}),t+=o.join(","),t=t+"}"+(i===e.children.length-1?"":",")},o=0;o<e.children.length;++o)i(o);return t+="]"};return e||(e=this.state.rootNode),t(e)},t.prototype.update=function(){this.emit("contentWillUpdate"),this.clusterize.update(this.rows),this.emit("contentDidUpdate")},t.prototype.updateNode=function(e,t,n){if(E(e)){t=l({},t),void 0!==t.id&&null!==t.id&&(this.nodeTable.unset(e.id),this.nodeTable.set(t.id,e),e.id=t.id),delete t.id,delete t.children,delete t.parent,delete t.state,e=Object.assign(e,t);var i=this.nodes.indexOf(e);if(i>=0){var o=l({},n),r=o.shallowRendering,s=void 0!==r&&r;if(this.rows[i]=this.options.rowRenderer(e,this.options),!s)for(var a=i+1,c=i+e.state.total,d=a;d<=c;++d)this.rows[d]=this.options.rowRenderer(this.nodes[d],this.options)}}},t}(d["default"].EventEmitter);t["default"]=S},function(e,t,n){"use strict";t.__esModule=!0;var i=function(e){"undefined"!=typeof e.preventDefault?e.preventDefault():e.returnValue=!1},o=function(e){"undefined"!=typeof e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},r=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},s=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)};t.preventDefault=i,t.stopPropagation=o,t.addEventListener=r,t.removeEventListener=s},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var o=n(4),r=i(o);e.exports=r["default"]},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=function(){function e(){i(this,e),this.data={}}return e.prototype.clear=function(){this.data={}},e.prototype.get=function(e){return this.data[e]},e.prototype.has=function(e){return void 0!==this.data[e]},e.prototype.set=function(e,t){return this.data[e]=t,t},e.prototype.unset=function(e){void 0!==this.data[e]&&delete this.data[e]},e}();t["default"]=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.defaultRowRenderer=void 0;var o=n(0),r=i(o),s=n(1),a=i(s),l=n(14),c=i(l),d=function(e,t){var n=e.id,i=e.name,o=e.loadOnDemand,s=void 0!==o&&o,l=e.children,d=e.state,u=t.droppable,h=d.depth,p=d.open,f=d.path,m=d.total,g=d.selected,v=void 0!==g&&g,y=Object.keys(l).length,b=e.hasChildren(),w="";!b&&s&&(w=""),b&&p&&(w=""),b&&!p&&(w="");var x=(0,c["default"])("a",{"class":function(){return!b&&s?(0,r["default"])(t.togglerClass,"infinite-tree-closed"):b&&p?(0,r["default"])(t.togglerClass):b&&!p?(0,r["default"])(t.togglerClass,"infinite-tree-closed"):""}()},w),_=(0,c["default"])("span",{"class":(0,r["default"])("infinite-tree-title")},(0,a["default"])(i)),C=(0,c["default"])("div",{"class":"infinite-tree-node",style:"margin-left: "+18*h+"px"},x+_);return(0,c["default"])("div",{"data-id":n,"data-expanded":b&&p,"data-depth":h,"data-path":f,"data-selected":v,"data-children":y,"data-total":m,"class":(0,r["default"])("infinite-tree-item",{"infinite-tree-selected":v}),droppable:u},C)};t.defaultRowRenderer=d},function(e,t,n){!function(t,n){e.exports=n()}("Clusterize",function(){"use strict";function e(e,t,n){return t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)}function t(e,t,n){return t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)}function n(e){return"[object Array]"===Object.prototype.toString.call(e)}function i(e,t){return window.getComputedStyle?window.getComputedStyle(t)[e]:t.currentStyle[e]}var o=function(){for(var e=3,t=document.createElement("b"),n=t.all||[];t.innerHTML="<!--[if gt IE "+ ++e+"]><i><![endif]-->",n[0];);return e>4?e:document.documentMode}(),r=navigator.platform.toLowerCase().indexOf("mac")+1,s=function(i){if(!(this instanceof s))return new s(i);var o=this,a={rows_in_block:50,blocks_in_cluster:4,tag:null,show_no_data_row:!0,no_data_class:"clusterize-no-data",no_data_text:"No data",keep_parity:!0,callbacks:{}};o.options={};for(var l,c=["rows_in_block","blocks_in_cluster","show_no_data_row","no_data_class","no_data_text","keep_parity","tag","callbacks"],d=0;l=c[d];d++)o.options[l]="undefined"!=typeof i[l]&&null!=i[l]?i[l]:a[l];for(var u,h=["scroll","content"],d=0;u=h[d];d++)if(o[u+"_elem"]=i[u+"Id"]?document.getElementById(i[u+"Id"]):i[u+"Elem"],!o[u+"_elem"])throw new Error("Error! Could not find "+u+" element");o.content_elem.hasAttribute("tabindex")||o.content_elem.setAttribute("tabindex",0);var p=n(i.rows)?i.rows:o.fetchMarkup(),f={},m=o.scroll_elem.scrollTop;o.insertToDOM(p,f),o.scroll_elem.scrollTop=m;var g=!1,v=0,y=!1,b=function(){r&&(y||(o.content_elem.style.pointerEvents="none"),y=!0,clearTimeout(v),v=setTimeout(function(){o.content_elem.style.pointerEvents="auto",y=!1},50)),g!=(g=o.getClusterNum())&&o.insertToDOM(p,f),o.options.callbacks.scrollingProgress&&o.options.callbacks.scrollingProgress(o.getScrollProgress())},w=0,x=function(){clearTimeout(w),w=setTimeout(o.refresh,100)};e("scroll",o.scroll_elem,b),e("resize",window,x),o.destroy=function(e){t("scroll",o.scroll_elem,b),t("resize",window,x),o.html((e?o.generateEmptyRow():p).join(""))},o.refresh=function(e){(o.getRowsHeight(p)||e)&&o.update(p)},o.update=function(e){p=n(e)?e:[];var t=o.scroll_elem.scrollTop;p.length*o.options.item_height<t&&(o.scroll_elem.scrollTop=0,g=0),o.insertToDOM(p,f),o.scroll_elem.scrollTop=t},o.clear=function(){o.update([])},o.getRowsAmount=function(){return p.length},o.getScrollProgress=function(){return this.options.scroll_top/(p.length*this.options.item_height)*100||0};var _=function(e,t){var i=n(t)?t:[];i.length&&(p="append"==e?p.concat(i):i.concat(p),o.insertToDOM(p,f))};o.append=function(e){_("append",e)},o.prepend=function(e){_("prepend",e)}};return s.prototype={constructor:s,fetchMarkup:function(){for(var e=[],t=this.getChildNodes(this.content_elem);t.length;)e.push(t.shift().outerHTML);return e},exploreEnvironment:function(e,t){var n=this.options;n.content_tag=this.content_elem.tagName.toLowerCase(),e.length&&(o&&o<=9&&!n.tag&&(n.tag=e[0].match(/<([^>\s\/]*)/)[1].toLowerCase()),this.content_elem.children.length<=1&&(t.data=this.html(e[0]+e[0]+e[0])),n.tag||(n.tag=this.content_elem.children[0].tagName.toLowerCase()),this.getRowsHeight(e))},getRowsHeight:function(e){var t=this.options,n=t.item_height;if(t.cluster_height=0,e.length){var o=this.content_elem.children,r=o[Math.floor(o.length/2)];if(t.item_height=r.offsetHeight,"tr"==t.tag&&"collapse"!=i("borderCollapse",this.content_elem)&&(t.item_height+=parseInt(i("borderSpacing",this.content_elem),10)||0),"tr"!=t.tag){var s=parseInt(i("marginTop",r),10)||0,a=parseInt(i("marginBottom",r),10)||0;t.item_height+=Math.max(s,a)}return t.block_height=t.item_height*t.rows_in_block,t.rows_in_cluster=t.blocks_in_cluster*t.rows_in_block,t.cluster_height=t.blocks_in_cluster*t.block_height,n!=t.item_height}},getClusterNum:function(){return this.options.scroll_top=this.scroll_elem.scrollTop,Math.floor(this.options.scroll_top/(this.options.cluster_height-this.options.block_height))||0},generateEmptyRow:function(){var e=this.options;if(!e.tag||!e.show_no_data_row)return[];var t,n=document.createElement(e.tag),i=document.createTextNode(e.no_data_text);return n.className=e.no_data_class,"tr"==e.tag&&(t=document.createElement("td"),t.colSpan=100,t.appendChild(i)),n.appendChild(t||i),[n.outerHTML]},generate:function(e,t){var n=this.options,i=e.length;if(i<n.rows_in_block)return{top_offset:0,bottom_offset:0,rows_above:0,rows:i?e:this.generateEmptyRow()};var o=Math.max((n.rows_in_cluster-n.rows_in_block)*t,0),r=o+n.rows_in_cluster,s=Math.max(o*n.item_height,0),a=Math.max((i-r)*n.item_height,0),l=[],c=o;s<1&&c++;for(var d=o;d<r;d++)e[d]&&l.push(e[d]);return{top_offset:s,bottom_offset:a,rows_above:c,rows:l}},renderExtraTag:function(e,t){var n=document.createElement(this.options.tag),i="clusterize-";return n.className=[i+"extra-row",i+e].join(" "),t&&(n.style.height=t+"px"),n.outerHTML},insertToDOM:function(e,t){this.options.cluster_height||this.exploreEnvironment(e,t);var n=this.generate(e,this.getClusterNum()),i=n.rows.join(""),o=this.checkChanges("data",i,t),r=this.checkChanges("top",n.top_offset,t),s=this.checkChanges("bottom",n.bottom_offset,t),a=this.options.callbacks,l=[];o||r?(n.top_offset&&(this.options.keep_parity&&l.push(this.renderExtraTag("keep-parity")),l.push(this.renderExtraTag("top-space",n.top_offset))),l.push(i),n.bottom_offset&&l.push(this.renderExtraTag("bottom-space",n.bottom_offset)),a.clusterWillChange&&a.clusterWillChange(),this.html(l.join("")),"ol"==this.options.content_tag&&this.content_elem.setAttribute("start",n.rows_above),a.clusterChanged&&a.clusterChanged()):s&&(this.content_elem.lastChild.style.height=n.bottom_offset+"px")},html:function(e){var t=this.content_elem;if(o&&o<=9&&"tr"==this.options.tag){var n,i=document.createElement("div");for(i.innerHTML="<table><tbody>"+e+"</tbody></table>";n=t.lastChild;)t.removeChild(n);
for(var r=this.getChildNodes(i.firstChild.firstChild);r.length;)t.appendChild(r.shift())}else t.innerHTML=e},getChildNodes:function(e){for(var t=e.children,n=[],i=0,o=t.length;i<o;i++)n.push(t[i]);return n},checkChanges:function(e,t,n){var i=t!=n[e];return n[e]=t,i}},s})},function(e,t){function n(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}function i(e){if(!(this instanceof i))return new i(e);e||(e={}),e.nodeType&&(e={el:e}),this.opts=e,this.el=e.el||document.body,"object"!=typeof this.el&&(this.el=document.querySelector(this.el))}e.exports=function(e){return new i(e)},i.prototype.add=function(e){var t=this.el;if(t){if(""===t.className)return t.className=e;var i=t.className.split(" ");return n(i,e)>-1?i:(i.push(e),t.className=i.join(" "),i)}},i.prototype.remove=function(e){var t=this.el;if(t&&""!==t.className){var i=t.className.split(" "),o=n(i,e);return o>-1&&i.splice(o,1),t.className=i.join(" "),i}},i.prototype.has=function(e){var t=this.el;if(t){var i=t.className.split(" ");return n(i,e)>-1}},i.prototype.toggle=function(e){var t=this.el;t&&(this.has(e)?this.remove(e):this.add(e))}},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function o(e){return"number"==typeof e}function r(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!o(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,o,a,l,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var d=new Error('Uncaught, unspecified "error" event. ('+t+")");throw d.context=t,d}if(n=this._events[e],s(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(r(n))for(a=Array.prototype.slice.call(arguments,1),c=n.slice(),o=c.length,l=0;l<o;l++)c[l].apply(this,a);return!0},n.prototype.addListener=function(e,t){var o;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?r(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,r(this._events[e])&&!this._events[e].warned&&(o=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,o&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),o||(o=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var o=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,o,s,a;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],s=n.length,o=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(r(n)){for(a=s;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){o=a;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],i(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=n(2),r=i(o),s=n(3),a=i(s),l=function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=[].concat(e);var c=[],n=[],i={lastChild:{}};t.openAllNodes=!!t.openAllNodes,t.openNodes=t.openNodes||[],t.throwOnError=!!t.throwOnError;var o=e.length>0?e[0]:null,s=o?o.parent:null;!s||s instanceof a["default"]||(s=new a["default"](s));var l=s||new a["default"]({parent:null,children:e,state:{depth:-1,open:!0,path:"",prefixMask:"",total:0}});if(l===s)for(var d=l.state.total||0,u=l;u;){var h=u.state,p=h.path,f=h.total,m=void 0===f?0:f;if(u.isLastChild()&&p&&(i.lastChild[p]=!0),u.state.total=m-d,u.state.total<0){if(t.throwOnError)throw new Error("The node might have been corrupted: id="+JSON.stringify(u.id)+", state="+JSON.stringify(u.state));console&&console.log("Error: The node might have been corrupted: id=%s, parent=%s, children=%s, state=%s",JSON.stringify(u.id),u.parent,u.children,JSON.stringify(u.state))}u=u.parent}for(n.push([l,l.state.depth,0]);n.length>0;)for(var g=n.pop(),v=g[0],y=g[1],b=g[2],w=function(){var e=v.children[b];e instanceof a["default"]||(e=new a["default"](e)),e.parent=v,e.children=e.children||[],e.parent.children[b]=e;var o=v.state.path+"."+b,s=e.hasChildren()&&function(){var n=t.openAllNodes,i=t.openNodes;return!!n||(i.indexOf(e)>=0||(i.indexOf(e.id)>=0||!!e.state.open))}(),l=function(e){for(var t="";e.length>0;)e=e.replace(/\.\d+$/,""),t=!e||i.lastChild[e]?"0"+t:"1"+t;return t}(o);e.isLastChild()&&(i.lastChild[o]=!0),e.state=(0,r["default"])({},e.state,{depth:y+1,open:s,path:o,prefixMask:l,total:0});for(var d=!0,u=e;null!==u.parent;){if(u.parent.state.open===!1){d=!1;break}u=u.parent}if(d){c.push(e);for(var h=e;null!==h.parent;)h.parent.state.total++,h=h.parent}++b,e.hasChildren()&&(n.push([v,y,b]),b=0,y+=1,v=e)};b<v.children.length;)w();return c};t["default"]=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.Node=t.flatten=void 0;var o=n(12),r=i(o),s=n(3),a=i(s);t.flatten=r["default"],t.Node=a["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},s=n(1),a=i(s),l=["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];e.exports=function(e,t,n){"object"===("undefined"==typeof e?"undefined":r(e))&&(n=t,t=e,e="div");var i=l.indexOf((""+e).toLowerCase())>=0,s="<"+e;return t=o({},t),Object.keys(t).forEach(function(e){var n=t[e];"string"==typeof n?(n=(0,a["default"])(""+n),s+=" "+e+'="'+n+'"'):n&&(s+=" "+e)}),s+=i?">":void 0!==n?">"+n+"</"+e+">":"/>"}},function(e,t){function n(e){return!(!e||"object"!=typeof e)&&("object"==typeof window&&"object"==typeof window.Node?e instanceof window.Node:"number"==typeof e.nodeType&&"string"==typeof e.nodeName)}e.exports=n}])}),"function"!=typeof addEvent){var addEvent=function(e,t,n,i){var o="addEventListener",r="on"+t,s=e,a=t,l=n,c=i;return e[o]&&!i?e[o](t,n,!1):(e._evts||(e._evts={}),e._evts[t]||(e._evts[t]=e[r]?{b:e[r]}:{},e[r]=new Function("e",'var r=true,o=this,a=o._evts["'+t+'"],i;for(i in a){o._f=a[i];r=o._f(e||window.event)!=false&&r;o._f=null}return r'),"unload"!=t&&addEvent(window,"unload",function(){removeEvent(s,a,l,c)})),n._i||(n._i=addEvent._i++),void(e._evts[t][n._i]=n))};addEvent._i=1;var removeEvent=function(e,t,n,i){var o="removeEventListener";return e[o]&&!i?e[o](t,n,!1):void(e._evts&&e._evts[t]&&n._i&&delete e._evts[t][n._i])}}if(DragResize.prototype.apply=function(e){var t=this;addEvent(e,"mousedown",function(e){t.mouseDown(e)}),addEvent(e,"mousemove",function(e){t.mouseMove(e)}),addEvent(e,"mouseup",function(e){t.mouseUp(e)}),addEvent(e,"touchstart",function(e){t.mouseDown(e)}),addEvent(e,"touchmove",function(e){t.mouseMove(e)}),addEvent(e,"touchend",function(e){t.mouseUp(e)})},DragResize.prototype.select=function(newElement){with(this){if(!document.getElementById||!enabled)return;if(newElement&&newElement!=element&&enabled){element=newElement,element.style.zIndex=++zIndex,this.resizeHandleSet&&this.resizeHandleSet(element,!0);var eCS=element.currentStyle||window.getComputedStyle(element,null);eCS.right&&(element.style.left=element.offsetLeft+"px",element.style.right=""),eCS.bottom&&(element.style.top=element.offsetTop+"px",element.style.bottom=""),elmX=parseInt(element.style.left),elmY=parseInt(element.style.top),elmW=element.clientWidth||element.offsetWidth,elmH=element.clientHeight||element.offsetHeight,ondragfocus&&this.ondragfocus()}}},DragResize.prototype.deselect=function(delHandles){with(this){if(!document.getElementById||!enabled)return;delHandles&&(ondragblur&&this.ondragblur(),this.resizeHandleSet&&this.resizeHandleSet(element,!1),element=null),handle=null,mOffX=0,mOffY=0}},DragResize.prototype.mouseDown=function(e){with(this){if(!document.getElementById||!enabled)return!0;e.touches&&e.touches.length&&this.mouseMove(e);for(var elm=e.target||e.srcElement,newElement=null,newHandle=null,hRE=new RegExp(myName+"-([trmbl]{2})","");elm;){if(elm.className&&(newHandle||!hRE.test(elm.className)&&!isHandle(elm)||(newHandle=elm),isElement(elm))){newElement=elm;break}elm=elm.parentNode}element&&element!=newElement&&allowBlur&&deselect(!0),!newElement||element&&newElement!=element||(newHandle&&cancelEvent(e),select(newElement,newHandle),handle=newHandle,handle&&ondragstart&&this.ondragstart(hRE.test(handle.className)))}},DragResize.prototype.mouseMove=function(e){with(this){if(!document.getElementById||!enabled)return!0;var mt=e.touches&&e.touches.length?e.touches[0]:e;mouseX=mt.pageX||mt.clientX+document.documentElement.scrollLeft,mouseY=mt.pageY||mt.clientY+document.documentElement.scrollTop;var diffX=mouseX-lastMouseX+mOffX,diffY=mouseY-lastMouseY+mOffY;if(mOffX=mOffY=0,lastMouseX=mouseX,lastMouseY=mouseY,!handle)return!0;var isResize=!1;if(this.resizeHandleDrag&&this.resizeHandleDrag(diffX,diffY))isResize=!0;else{var dX=diffX,dY=diffY;elmX+dX<minLeft?mOffX=dX-(diffX=minLeft-elmX):elmX+elmW+dX>maxLeft&&(mOffX=dX-(diffX=maxLeft-elmX-elmW)),elmY+dY<minTop?mOffY=dY-(diffY=minTop-elmY):elmY+elmH+dY>maxTop&&(mOffY=dY-(diffY=maxTop-elmY-elmH)),elmX+=diffX,elmY+=diffY}if(element.style.left=Math.round(elmX/gridX)*gridX+"px",element.style.top=Math.round(elmY/gridY)*gridY+"px",isResize&&(element.style.width=Math.round(elmW/gridX)*gridX+"px",element.style.height=Math.round(elmH/gridY)*gridY+"px"),window.opera&&document.documentElement){var oDF=document.getElementById("op-drag-fix");if(!oDF){var oDF=document.createElement("input");oDF.id="op-drag-fix",oDF.style.display="none",document.body.appendChild(oDF)}oDF.focus()}ondragmove&&this.ondragmove(isResize),cancelEvent(e)}},DragResize.prototype.mouseUp=function(e){with(this){if(!document.getElementById||!enabled)return;var hRE=new RegExp(myName+"-([trmbl]{2})","");handle&&ondragend&&this.ondragend(hRE.test(handle.className)),deselect(!1)}},DragResize.prototype.resizeHandleSet=function(elm,show){with(this){if(!elm._handle_tr)for(var h=0;h<handles.length;h++){var hDiv=document.createElement("div");hDiv.className=myName+" "+myName+"-"+handles[h],elm["_handle_"+handles[h]]=elm.appendChild(hDiv)}for(var h=0;h<handles.length;h++)elm["_handle_"+handles[h]].style.visibility=show?"inherit":"hidden"}},DragResize.prototype.resizeHandleDrag=function(diffX,diffY){with(this){var hClass=handle&&handle.className&&handle.className.match(new RegExp(myName+"-([tmblr]{2})"))?RegExp.$1:"",dY=diffY,dX=diffX,processed=!1;return hClass.indexOf("t")>=0&&(elmH-dY<minHeight?mOffY=dY-(diffY=elmH-minHeight):elmY+dY<minTop&&(mOffY=dY-(diffY=minTop-elmY)),elmY+=diffY,elmH-=diffY,processed=!0),hClass.indexOf("b")>=0&&(elmH+dY<minHeight?mOffY=dY-(diffY=minHeight-elmH):elmY+elmH+dY>maxTop&&(mOffY=dY-(diffY=maxTop-elmY-elmH)),elmH+=diffY,processed=!0),hClass.indexOf("l")>=0&&(elmW-dX<minWidth?mOffX=dX-(diffX=elmW-minWidth):elmX+dX<minLeft&&(mOffX=dX-(diffX=minLeft-elmX)),elmX+=diffX,elmW-=diffX,processed=!0),hClass.indexOf("r")>=0&&(elmW+dX<minWidth?mOffX=dX-(diffX=minWidth-elmW):elmX+elmW+dX>maxLeft&&(mOffX=dX-(diffX=maxLeft-elmX-elmW)),elmW+=diffX,processed=!0),processed}},function(){var e=void 0!==document.createElement("textarea").style.resize,t=function(n,i){if(!n)return e?"native":"polyfill";if(n.length)for(var o=n.length;o--;)t(n[o],i);else{if("TEXTAREA"===n.tagName&&(n=n.parentNode),n.className+=" resize-polyfill-wrapper",e&&!i)return;var r=new DragResize("resize-polyfill",{handles:["br"],minWidth:50,minHeight:50,allowBlur:!1});r.isElement=function(e){return e===n},r.isHandle=function(e){return!1},r.ondragfocus=function(){},r.ondragstart=function(e){},r.ondragmove=function(e){},r.ondragend=function(e){},r.ondragblur=function(){};var s=n.children[0];s&&"TEXTAREA"===s.tagName?(n.style.width=s.offsetWidth+"px",n.style.height=s.offsetHeight+"px",s.style.resize="none"):n.style.resize="none",r.apply(document),r.select(n),n.className+=" resize-polyfill-polyfilled"}};if("undefined"!=typeof module?module.exports=t:window.resizeHandlerPolyfill=t,"undefined"!=typeof window){var n='.resize-polyfill-wrapper {position: relative;top: auto !important;left: auto !important;}\n.resize-polyfill-polyfilled textarea {width: 100%;height: 100%;}\n.resize-polyfill-br {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAALUlEQVR42mNgwAH279//H4QZyFYAAv///5fBqQurCQQVEHQMVjaMAQQc2BQAABXMU79BvB5bAAAAAElFTkSuQmCC") no-repeat center center;border: 2px solid transparent;bottom: 0px;cursor: se-resize;height: 8px;position: absolute;right: 0px;width: 8px;}',i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.styleSheet?o.styleSheet.cssText=n:o.appendChild(document.createTextNode(n)),i.appendChild(o)}}(),!CTX)var CTX={visibilityEnable:{points:!0,lines:!0,surfaces:!0},initView:null,initRender:{},initBox:[],twoPoints:[],focusedNode:[],selectedObjects:[],loadedFiles:[],devMode:!1,inBoxSelection:!1,inCrosshairSelection:!1,FOCUS_MESH_RENDER_ORDER:100,ColorCodes:{normal:0,selected:1,focused:2,selectedFocused:3},pickObjects:[],pickScene:null,pickMode:"",pickDebug:!1,focusedObject:null,treeNodeMap:{},EditType:{VOLUME:0,SURFACE:1,ELEMENT:2,EDGE:3,NODE:4}};$(document).ready(function(){function e(){S=document.getElementById("container");var e=S.offsetWidth,t=S.offsetHeight;O=new THREE.CombinedCamera(e,t,45,.01,2e3,(-1e4),1e4),O.position.z=3e3,O.toOrthographic(!1),CTX.camera=O,X=new THREE.OrthographicCamera(-e/2,e/2,t/2,-t/2,(-100),100),j=new THREE.TrackballControls(O,S),j.rotateSpeed=15,j.zoomSpeed=1.2,j.panSpeed=.8,j.noZoom=!1,j.noPan=!1,j.staticMoving=!0,j.keys=[65,83,68],j.addEventListener("change",s),CTX.controls=j,A=new THREE.Scene,CTX.scene=A;var o=new THREE.Object3D;o.name="mesh",CTX.mesh=o;var r=new THREE.Object3D;r.name="geometry",CTX.geometry=r;var a=new THREE.AmbientLight(4210752);A.add(a);var c=new THREE.DirectionalLight(16777215,1);c.position.set(0,0,1),O.add(c),A.add(O);var d=new THREE.LineBasicMaterial({color:15911777}),u=new THREE.Geometry;u.vertices.push(new THREE.Vector3((-10),0,0),new THREE.Vector3(0,10,0));var h=new THREE.Line(u,d);h.name="normalObject",h.visible=!1,CTX.normalObject=h,A.add(h),CTX.axisOrigin=new THREE.AxisHelper(10),CTX.axisOrigin.name="axis-origin",A.add(CTX.axisOrigin),hudScene=new THREE.Scene,n(hudScene),D=new THREE.Scene,I=new THREE.WebGLRenderTarget(e,t),I.texture.generateMipmaps=!1,CTX.pickScene=D,CTX.pickObjects=[];R=new THREE.WebGLRenderer({antialias:!0,preserveDrawingBuffer:!0}),R.setPixelRatio(window.devicePixelRatio),R.setSize(e,t),R.setClearColor(new THREE.Color(.97,.97,1,0)),R.autoClear=!1,R.gammaInput=!0,R.gammaOutput=!0,R.clippingPlanes=F,S.appendChild(R.domElement),window.addEventListener("resize",i,!1),l();var p="",p="/data/p3d/turbine.p3d.zip";b?(p=b,CTX.devMode=!1):CTX.devMode=!0;var f=p.substring(p.lastIndexOf(".")+1,p.length);if("prj"===f){var m="";"_.prj"===p?(m=parent&&parent.sendEditorPortlet?parent.sendEditorPortlet("loadProject"):'{"geometryGroup":{"entity":[],"name":[],"url":[]},"camera":{"position":{"z":0,"y":0,"x":0}},"meshGroup":{"name":[],"url":[]}}',CTX.loadProjectFromJson(m)):CTX.loadProjectFromFile(p)}else{var g={};"obj"===f||"dat"===f?(g.geometryGroup={},g.geometryGroup.name=[p]):(g.meshGroup={},g.meshGroup.name=[p]),"zip"!==f&&CTX.initSceneTree(g,f),CTX.loadDataFromFile(p)}}function t(e){var t=document.createElement("canvas"),n=64,i=64;t.width=n,t.height=i,t.style.border="1px solid #000";var o=(t.width/2,t.height/2,t.getContext("2d"));o.beginPath(),o.font="50px Arial",o.fillStyle="rgba(0, 0, 0, 1)",o.textAlign="center",o.fillText(e,n/2,50);var r=new THREE.Texture(t);return r.needsUpdate=!0,r}function n(e){var n=CTX.axisHUD;if(!n){n=new THREE.AxisHelper(30),n.name="axis-hud",CTX.axisHUD=n,e.add(n);var i=["X","Y","Z"];i.forEach(function(e){var i=t(e),o=new THREE.SpriteMaterial({map:i});o.transparent=!0,o.polygonOffset=!0,o.depthTest=!0;var r=new THREE.Sprite(o);n.add(r);var s=(n.position,14),a=25;"X"===e?r.position.set(a,0,0):"Y"===e?r.position.set(0,a,0):r.position.set(0,0,a),r.scale.set(s,s,s)})}var o=S.offsetWidth,r=S.offsetHeight,s=o/2-50,a=r/2-50;new THREE.Vector3(s,a,0);n.position.x=s,n.position.y=a,n.position.z=5}function i(){var e=S.offsetWidth,t=S.offsetHeight;O.setSize(e,t),X.left=-e/2,X.right=e/2,X.top=t/2,X.bottom=-t/2,X.updateProjectionMatrix(),n(),R.setSize(e,t),I.setSize(e,t),j.handleResize()}function o(){$(".save").click(function(){function e(e){for(var t=e.split(","),n=t[0].match(/:(.*?);/)[1],i=atob(t[1]),o=i.length,r=new Uint8Array(o);o--;)r[o]=i.charCodeAt(o);return new Blob([r],{type:n})}function t(e,t){var n=new FileReader;n.onload=function(e){var n=t.replace(".","_")?t+".png":"capture.png",i={fname:n,data:e.target.result};return parent.uploadBlob(i)},n.readAsDataURL(e)}var n=$("canvas")[0],i=n.toDataURL(),o=e(i),r=$("#mesh-title").text().trim();r=r.substring(r.lastIndexOf("/")+1,r.length),saveAs(o,r+".png"),t(o,r)});var e=function(){var e=this.checked,t=this.dataset.type;H[t]=e,CTX.onMeshVisibilty()};$(".visibility-enable").change(e),$(".visibility-enable[data-type=points]")[0].checked=H.points,$(".visibility-enable[data-type=lines]")[0].checked=H.lines,$(".visibility-enable[data-type=surfaces]")[0].checked=H.surfaces;var t=function(){var e=this.checked,t=this.dataset.axis;z[t]=e;var n=[];for(var i in L)z[i]&&n.push(L[i]);0==n.length&&(n=F),R.clippingPlanes=n,e?$(".clip-slider[data-axis="+t+"]").slider("enable"):$(".clip-slider[data-axis="+t+"]").slider("disable")},n=function(){var e=Number($(this).val()),t=this.dataset.axis,n=CTX.sceneRadius,i=L[t];i.constant=e*n,console.log(t,e,e*n)};$(".clip-enable").change(t),$(".clip-slider").on("slide",n).slider({tooltip:"always",enabled:!1}).data("slider")}function r(){requestAnimationFrame(r),j.update(),s(),N&&N.update()}function s(){var e=(.001*Date.now(),CTX.camera),t=CTX.controls;if(e.position&&t.target){var n=CTX.axisHUD;n.rotation.copy(e.rotation),R.clear(),R.render(CTX.scene,CTX.camera),CTX.pickDebug&&(R.clear(),R.render(CTX.pickScene,CTX.camera)),R.clearDepth(),R.render(hudScene,X);var i=""+e.position.x.toFixed(3)+","+e.position.y.toFixed(3)+","+e.position.z.toFixed(3),o=""+t.target.x.toFixed(3)+","+t.target.y.toFixed(3)+","+t.target.z.toFixed(3);B.val(i),U.val(o)}}function a(){function e(e){e.length>0&&(e.forEach(function(e){e.focused=!1,CTX.setObjectFocused(e)}),CTX.focusedNode=[])}$(document).on("keydown",function(e){$(".modal").hasClass("in")||(66==e.keyCode&&(CTX.inBoxSelection?CTX.changeBoxSelectionMode(!1):(CTX.inRulerSelection&&CTX.changeRulerSelectionMode(!1),CTX.changeBoxSelectionMode(!0))),82===e.keyCode&&(CTX.inRulerSelection?CTX.changeRulerSelectionMode(!1):(CTX.inBoxSelection&&CTX.changeBoxSelectionMode(!1),CTX.changeRulerSelectionMode(!0))),80==e.keyCode&&(CTX.pickDebug=!CTX.pickDebug,console.log("pick debug: ",CTX.pickDebug)),83==e.keyCode&&CTX.changeCrosshairSelectionMode(!0))}),$(document).on("click",function(){var e=$(".has-drop");e.removeClass("active")}),$(".has-drop").on("click",function(e){e.stopPropagation(),$(this).toggleClass("active")}),$("ul.drop li").on("click",function(e){e.stopPropagation(),$(".has-drop").removeClass("active");var t=$(this).find("a");$("ul.drop li a").removeClass("selected"),t.addClass("selected");var n=$(this).closest(".has-drop"),i=t.text();n.find(".ctx-label").text(i)}),$("#OrthographicListBoxItem, #PerspectiveListBoxItem").on("click",function(){var e=$(this).attr("name");CTX.changeCameraMode(e)}),$("#RenderSurfaces, #RenderSurfacesWithWireframes, #RenderWireframes").on("click",function(){var e=$(this).attr("id").toUpperCase();CTX.changeRenderMode(e)}),$("#PickVolumes, #PickSurfaces, #PickEdges, #PickNodes").on("click",function(){var e=$(this).attr("id");CTX.changePickMode(e)}),$("#SelectionDropdownMenu ul.drop li, #HideSelectionButton, #UnhideAllButton").on("click",function(){var e=$(this).find("a").attr("name");if(e||(e=$(this).attr("name")),"selectAll"===e||"invertSelection"==e){var t=CTX.collectTopoNodes();if("selectAll"==e){CTX.selectedObjects=[];for(var n=0,i=t.length;n<i;n++){var o=t[n];o.selected=!0,CTX.setObjectFocused(o),CTX.updateItemQuick(o,"select"),CTX.selectedObjects.push(o)}}else if("invertSelection"==e)for(var n=0,i=t.length;n<i;n++){var o=t[n];o.selected=!o.selected,CTX.setObjectFocused(o),CTX.updateItemQuick(o,"select"),o.selected&&CTX.selectedObjects.push(o)}}else if("hideSelection"===e||"clearSelection"==e){var t=CTX.selectedObjects;if("hideSelection"==e){for(var n=0,i=t.length;n<i;n++){var o=t[n];o.selected=!1,o.visible=!1,CTX.setObjectFocused(o),CTX.updateItemQuick(o,"select")}CTX.selectedObjects=[]}else if("clearSelection"===e){for(var t=CTX.selectedObjects,n=0,i=t.length;n<i;n++){var o=t[n];o.selected=!1,CTX.setObjectFocused(o),CTX.updateItemQuick(o,"select")}CTX.selectedObjects=[]}}else if("clearSelection"===e)CTX.unselectAllObjects();else if("invertSelection"===e)CTX.invertSelectObjects();else if("showAll"==e||"invertVisibility"==e){var t=CTX.collectTopoNodes();if("showAll"==e)for(var n=0,i=t.length;n<i;n++){var o=t[n];o.visible=!0,CTX.setObjectFocused(o),CTX.updateItemQuick(o,"select")}else if("invertVisibility"==e)for(var n=0,i=t.length;n<i;n++){var o=t[n];o.visible=!o.visible,CTX.setObjectFocused(o),CTX.updateItemQuick(o,"select")}}CTX.sceneTree.update()}),$(".single-icon-toggle-group").on("click",".single-icon-btn",function(){var e=$(this).attr("id");if("BoxSelectButton"===e)CTX.inBoxSelection?CTX.changeBoxSelectionMode(!1):CTX.changeBoxSelectionMode(!0),CTX.changeRulerSelectionMode(!1);else if("RulerSelectButton"===e)CTX.inRulerSelection?CTX.changeRulerSelectionMode(!1):CTX.changeRulerSelectionMode(!0),CTX.changeBoxSelectionMode(!1);else{var t=$(this).parent();t.children().each(function(){$(this).removeClass("active")}),$(this).addClass("active")}}),$("#treeview").on("mousemove",function(t){if($(t.target).hasClass("infinite-tree-title")===!1)return void(CTX.focusedNode.length>0&&e(CTX.focusedNode));var n=CTX.sceneTree,i=CTX.pickMode,o=(CTX.scene,$(t.target)),r=o.closest(".infinite-tree-item"),s=r.attr("data-id"),a=n.getNodeById(s);if(e(CTX.focusedNode),"PickVolumes"===i&&a.hasChildren()===!1)return void console.warn("cannot focus each topological data in volume pick mode");var l=a.topoData;if(l&&l.volumes)for(var c=0,d=l.volumes.length;c<d;c++){var u=l.volumes[c];u.focused=!0,CTX.setObjectFocused(u),CTX.focusedNode.push(u)}var h=a.topoNode;h&&(h.focused=!0,CTX.setObjectFocused(h),CTX.focusedNode.push(h))}),$("#treeview").on("click",".infinite-tree-checker",function(e){function t(e,i){var o=CTX.pickMode;if(e.visible=i,n.updateNode(e,{},{shallowRendering:!0}),e.topoNode){var r=e.topoNode.partObject;e.topoNode.visible=i,r.applyObjectState(e.topoNode)}else if(e.topoData&&0!==e.parent.state.depth){var s=[];if("PickSurfaces"===o)s=e.topoData.surfaces;else if("PickEdges"===o)s=e.topoData.edges;else if("PickNodes"===o)s=e.topoData.cons;else{if("PickVolumes"!==o)return void console.error("cannot find mode");s=e.topoData.volumes}if(!s||0===s.length)return;for(var a=0,l=s.length;a<l;++a){var c=s[a];c.visible=e.visible,c.partObject.applyObjectState(c)}}else{var d=e.name;"Geometries"===d?d="geometry":"Meshes"===d&&(d="mesh");var u=CTX.scene.getObjectByName(d);u.visible=i}var h=e.getChildren();h.length>0&&h.forEach(function(e){t(e,i)})}e.stopPropagation();var n=CTX.sceneTree,i=(CTX.pickMode,CTX.scene,$(this).closest(".infinite-tree-item")),o=i.attr("data-id"),r=n.getNodeById(o);if(r.visible=!r.visible,r.state.selected=!1,n.updateNode(r,{},{shallowRendering:!0}),r.hasChildren()===!1){var s=r.topoNode;s.visible=!s.visible;var a=(r.parent,s.partObject);if(a.applyObjectState(s),r.visible)r.parent.visible=!0,n.updateNode(r.parent,{},{shallowRendering:!0});else{for(var l=r.parent.getChildren(),c=!1,d=0;d<l.length;++d){var u=l[d];u.visible===!0&&(c=!0)}c===!1&&(r.parent.visible=!1,n.updateNode(r.parent,{},{shallowRendering:!0}))}}else t(r,r.visible);n.update()}),$("#SceneTreeButton").on("click",function(){f()}),$("#ZoomInButton").on("click",function(){var e=CTX.controls;e.setZoomValue(-.05),e.update()}),$("#ZoomOutButton").on("click",function(){var e=CTX.controls;e.setZoomValue(.05),e.update()}),$("#RefreshButton").on("click",function(){var e=CTX.camera,t=CTX.controls,n=CTX.prjSetting,i=(new THREE.Box3).setFromObject(CTX.geometry),o=i.getCenter(),r=o.clone();r.z=2*CTX.sceneRadius,n?(n.camera.position?e.position.copy(n.camera.position):e.position.copy(r),n.camera.center?t.target.copy(n.camera.center):t.target.copy(o)):(e.position.copy(r),t.target.copy(o)),CTX.camera.up.set(0,1,0),CTX.camera.updateProjectionMatrix(),CTX.camera.setOrthoSize(2*CTX.sceneRadius)}),$("#CrosshairButton").on("click",function(){CTX.changeCrosshairSelectionMode(!0)}),$("#OrientationDropdown ul.drop li").on("click",function(){var e=CTX.camera,t=CTX.controls,n=$(this).find("a").attr("name"),i=t.target,o=CTX.sceneRadius;switch("top"===n||"bottom"===n?e.up.set(1,0,0):e.up.set(0,1,0),n){case"top":e.position.set(i.x,i.y+o,i.z);break;case"bottom":e.position.set(i.x,i.y-o,i.z);break;case"left":e.position.set(i.x-o,i.y,i.z);break;case"right":e.position.set(i.x+o,i.y,i.z);break;case"front":e.position.set(i.x,i.y,i.z+o);break;case"back":e.position.set(i.x,i.y,i.z-o)}}),$("#submitButton").on("click",function(){}),$(".modal-footer #closeButton").on("click",function(){$("#CreateSetModal").modal("hide"),$("#ErrorDialogBox").modal("hide")}),$(".open-modal").on("click",function(e){})}function l(){$(".mesh-select").change(function(){var e=this.options[this.selectedIndex].value;console.log(e),$("#mesh-progress").html(""),$("#mesh-title").html(""),$("#mesh-info").html(""),loadDataFromFile("/data/"+e),H.points=!0,H.lines=!0,H.surfaces=!0,v.hasOwnProperty("points")&&(H.points=v.points),v.hasOwnProperty("surfaces")&&(H.surfaces=v.surfaces),$(".visibility-enable[data-type=points]")[0].checked=H.points,$(".visibility-enable[data-type=lines]")[0].checked=H.lines,$(".visibility-enable[data-type=surfaces]")[0].checked=H.surfaces,R.clippingPlanes=F,L.x.constant=0,L.y.constant=0,L.z.constant=0,z.x=!1,z.y=!1,z.z=!1,$(".clip-enable").each(function(e){this.checked=!1}),$(".clip-slider").slider("disable")}),$(".full-screen").click(function(){if(THREEx.FullScreen.activated())THREEx.FullScreen.cancel();else{var e=$("iframe",parent.document)[1];THREEx.FullScreen.request(e)}}),$(".general-controls .control.help").on("click",function(){$(".overlay.help").removeClass("hiddenOverlay")}),$(".general-controls .control.settings").on("click",function(e){p()}),$("#container").on("mousedown touchstart",function(e){$.contains($(".control-menu.settings-menu")[0],e.target)===!1&&$(".general-controls .control.settings").removeClass("active")}),$(".control-menu-list .setting").click(function(){var e,t=$(this).attr("data-setting"),n=$(this).find(".setting-value").attr("data-value");$(".control-menu.settings-menu").is(".detail")||$(".control-menu.settings-menu").addClass("detail"),"shadingStyle"===t?e='<div class="setting-list-header">       <a class="back control-menu-back">Back</a>       <span class="setting-list-header-help">Key</span>   </div>    <ul class="setting-list" data-setting="shadingStyle">        <li class="setting-item" data-value="defaultmat">Default<span class="shortcut" title="Keyboard shortcut"><kbd>1</kbd></span></li><li class="setting-item " data-value="shadeless">Shadeless<span class="shortcut" title="Keyboard shortcut"><kbd>2</kbd></span></li><li class="setting-item " data-value="matcap">MatCap<span class="shortcut" title="Keyboard shortcut"><kbd>3</kbd></span></li>  <li class="setting-item " data-value="demo">Demo Mode<span class="shortcut" title="Keyboard shortcut"><kbd>4</kbd></span></li>  </ul>    <p class="wireframe-title wireframe-setting-group">Wireframe <span class="shortcut" title="Keyboard shortcut"><kbd>5</kbd></span></p>    <div class="wireframe-colors wireframe-setting-group">        <a class="colors-none active" data-setting="wireframeEnable" data-value="0" title="Off"></a><!--        --><a class="colors-black" data-setting="wireframeColor" data-value="000000" title="Black"></a><!--        --><a class="colors-white" data-setting="wireframeColor" data-value="ffffff" title="White"></a><!--        --><a class="colors-red" data-setting="wireframeColor" data-value="ff507f" title="Red"></a><!--        --><a class="colors-blue" data-setting="wireframeColor" data-value="4d9cff" title="Blue"></a><!--        --><a class="colors-green" data-setting="wireframeColor" data-value="2d9e84" title="Green"></a><!--        --><a class="colors-yellow" data-setting="wireframeColor" data-value="ebc712" title="Yellow"></a>    </div>':"annotationsVisible"===t?e='<a class="control-menu-back back">Back</a>   <ul class="setting-list" data-setting="annotationsVisible" data-setting-type="bool">       <li class="setting-item" data-value="true">Visible<span class="shortcut" title="Keyboard shortcut"></span></li><li class="setting-item " data-value="false">Hidden<span class="shortcut" title="Keyboard shortcut"></span></li>   </ul>':"viewpointsVisible"===t?e='<a class="control-menu-back back">Back</a>   <ul class="setting-list" data-setting="viewpointsVisible" data-setting-type="bool">       <li class="setting-item" data-value="true">Visible<span class="shortcut" title="Keyboard shortcut"></span></li><li class="setting-item " data-value="false">Hidden<span class="shortcut" title="Keyboard shortcut"></span></li>   </ul>':"cycleMode"===t||"speed"===t||("viewerMode"===t?e=document.location.href.indexOf("3dcrafts.net")>-1&&CTX.mobileCheck()===!1?'<a class="control-menu-back back">Back</a>   <ul class="setting-list" data-setting="viewerMode" data-setting-type="string">       <li class="setting-item" data-value="0">Orbit<span class="shortcut" title="Keyboard shortcut"></span></li><li class="setting-item " data-value="1">First Person<span class="shortcut" title="Keyboard shortcut"></span></li>   </ul>':'<a class="control-menu-back back">Back</a>   <ul class="setting-list" data-setting="viewerMode" data-setting-type="string">       <li class="setting-item" data-value="0">Orbit<span class="shortcut" title="Keyboard shortcut"></span></li><li class="setting-item " data-value="1">First Person<span class="shortcut" title="Keyboard shortcut"></span></li><li class="setting-item " data-value="2">Gyroscope<span class="shortcut" title="Keyboard shortcut"></span></li>  </ul>':"textureQuality"===t&&(e='<a class="control-menu-back back">Back</a>   <ul class="setting-list" data-setting="textureQuality" data-setting-type="string">       <li class="setting-item " data-value="0">LD<span class="shortcut" title="Keyboard shortcut"></span></li><li class="setting-item selected" data-value="1">HD<span class="shortcut" title="Keyboard shortcut"></span></li>   </ul>')),
$(".control-menu-pane").append(e),$("[data-setting="+t+"] .setting-item[data-value="+n+"]").addClass("selected")}),$("body").on("click",".control-menu-back",function(){$(".control-menu.settings-menu").removeClass("detail"),$(".control-menu-pane").html("")}),$("body").on("click",".settings-menu.detail .setting-item",function(){var e=CTX.annotationGroup,t=CTX.viewpointGroup,n=$(this).closest(".setting-list").attr("data-setting"),i=$(this).attr("data-value"),o=$(this).clone().children().remove().end().text();if("shadingStyle"===n){if("defaultmat"===$(this).attr("data-value"))CTX.setRenderMode("defaultmat"),CTX.demoMode="none";else if("shadeless"===$(this).attr("data-value"))CTX.setRenderMode("shadeless"),CTX.demoMode="none";else if("matcap"===$(this).attr("data-value"))CTX.setRenderMode("matcap"),CTX.demoMode="none";else if("demo"===$(this).attr("data-value")){CTX.model;CTX.demoMode="defaultmat",CTX.demoTime=CTX.demoDuration;var r=CTX.wireframeModel;r.visible=!1}}else"annotationsVisible"===n?"true"===$(this).attr("data-value")?e.visible=!0:e.visible=!1:"viewpointsVisible"===n?"true"===$(this).attr("data-value")?t.visible=!0:t.visible=!1:"cycleMode"===n||"speed"===n||"viewerMode"===n&&("0"===$(this).attr("data-value")?CTX.setControlMode("orbit"):"1"===$(this).attr("data-value")?CTX.setControlMode("first"):"2"===$(this).attr("data-value")&&CTX.setControlMode("device"));$(this).closest(".detail").removeClass("detail"),$(".control-menu-pane").html(""),$("[data-setting="+n+"] .setting-value").attr("data-value",i),$("[data-setting="+n+"] .setting-value").text(o)}),$("body").on("click",".wireframe-colors a",function(){$(".wireframe-colors a").each(function(){$(this).removeClass("active")}),$(this).addClass("active"),"wireframeColor"===$(this).attr("data-setting")?CTX.setRenderMode("wireframe","#"+$(this).attr("data-value")):CTX.setRenderMode("wireframe")});var e=$("#container #rubber")[0],t=e.style,n={x:0,y:0},i={x:0,y:0},o=!1;$("#container").on("mousedown touchstart",function(e){if(o=!1,i={x:e.offsetX,y:e.offsetY},1==e.buttons){if(1==CTX.inBoxSelection){var r=e||window.event;t.position="absolute",t.left=r.offsetX+"px",t.top=r.offsetY+"px",t.width="0px",t.height="0px",t.display="block";var s={x:r.offsetX,y:r.offsetY};return void(n=s)}1==CTX.inCrosshairSelection}}),$("#container").on("mousemove",function(t){if(1!=CTX.inBoxSelection){if(1==CTX.inCrosshairSelection)return void c(t,!1);if(t.buttons){var r=t.offsetX-i.x,s=t.offsetY-i.y;return void((Math.abs(r)>4||Math.abs(s)>4)&&(o=!0))}c(t,!1)}else if(t.buttons){var a=t||window.event,l=n;e.style.width=Math.abs(a.offsetX-l.x)+"px",e.style.height=Math.abs(a.offsetY-l.y)+"px",a.offsetX<l.x&&(e.style.left=a.offsetX+"px"),a.offsetY<l.y&&(e.style.top=a.offsetY+"px")}}),$("#container").on("mouseup",function(t){var n;return 1==CTX.inBoxSelection?(e.style.display="none",CTX.changeBoxSelectionMode(!1),n={x:parseInt(e.style.left),y:parseInt(e.style.top),width:parseInt(e.style.width),height:parseInt(e.style.height)},0==n.width||0==n.height?void console.log("pickBox empty"):void h(t,n)):1==CTX.inCrosshairSelection?(CTX.focusedObject&&(console.log("crosshair focus:",CTX.focusedObject),CTX.setCameraToTopoNode(CTX.focusedObject)),void CTX.changeCrosshairSelectionMode(!1)):void(1!=o&&c(t,!0,n))})}function c(e,t,n){var i=e.offsetX,o=e.offsetY;n?CTX.pickBox=n:(I.scissorTest=!0,I.scissor.set(i-2,I.height-o-2,4,4)),R.gammaInput=!1,R.gammaOutput=!1,CTX.isIE||R.clear(),R.render(CTX.pickScene,CTX.camera,I,!0),R.gammaInput=!0,R.gammaOutput=!0;var r=R.getContext(),s=16250879;if(M){r.readPixels(i-1,I.height-(o+1),3,3,r.RGBA,r.UNSIGNED_BYTE,M);for(var a,l,c,d,u,h={},p=0;p<9;p++)a=M[4*p],l=M[4*p+1],c=M[4*p+2],d=M[4*p+3],u=a<<16|l<<8|c,u!=s&&(h.hasOwnProperty(u)?h[u]+=P[p]:h[u]=P[p]);var f=s,m=0;for(var g in h)h[g]>m&&(f=g,m=h[g])}var v=(CTX.pickMode,CTX.pickObjects[f]),y=v&&v.partObject;if(CTX.focusedObject!=v&&(CTX.focusedObject&&(CTX.focusedObject.focused=!1,CTX.setObjectFocused(CTX.focusedObject),CTX.updateItem(CTX.focusedObject,"focus"),CTX.focusedObject=null),v?(v.focused=!0,CTX.setObjectFocused(v),CTX.updateItem(v,"focus"),CTX.focusedObject=v,v.partObject,CTX.setLabel(v.name)):CTX.setLabel("")),y){if(1==t&&(v.selected=!v.selected,CTX.setSelectedObject(v),console.log("pickObject",v),v.plane&&CTX.setNormalObject(v)),CTX.setObjectFocused(v),CTX.updateItem(v,t?"select":"focus"),1==t&&CTX.inRulerSelection&&"PickNodes"==CTX.pickMode){var b=v.partObject,w=v.id,x=b.geometry.attributes.position.array,_=x[3*w],C=x[3*w+1],T=x[3*w+2],E=new THREE.Vector3(_,C,T);CTX.twoPoints.push(E),CTX.setDistLabel(""),2===CTX.twoPoints.length&&(dist=CTX.twoPoints[1].distanceTo(CTX.twoPoints[0]),CTX.setDistLabel("Distance: "+dist),CTX.twoPoints=[])}}else CTX.setLabel("")}function d(e,t){for(var n=0;n<4;n++){var i=e[n];W.x=i.normal.x>0?t.min.x:t.max.x,V.x=i.normal.x>0?t.max.x:t.min.x,W.y=i.normal.y>0?t.min.y:t.max.y,V.y=i.normal.y>0?t.max.y:t.min.y,W.z=i.normal.z>0?t.min.z:t.max.z,V.z=i.normal.z>0?t.max.z:t.min.z;var o=i.distanceToPoint(W),r=i.distanceToPoint(V);if(o>0||r>0)return!1}return!0}function u(e,t){for(var n=0;n<4;n++){var i=e[n],o=i.distanceToPoint(t);if(o>0)return!1}return!0}function h(e,t){var n=S.offsetWidth,i=S.offsetHeight,o=t.x/n*2-1,r=(t.x+t.width)/n*2-1,s=2*-(t.y/i)+1,a=2*-((t.y+t.height)/i)+1;console.log("rect: ",[o,r,s,a]);var l=new THREE.Vector3(o,s,1);l.unproject(O);var c=new THREE.Vector3(r,s,1);c.unproject(O);var h=new THREE.Vector3(o,a,1);h.unproject(O);var p=new THREE.Vector3(r,a,1);if(p.unproject(O),O instanceof THREE.PerspectiveCamera){var f=new THREE.Vector3((o+r)/2,(s+a)/2,0);f.unproject(O);var m=new THREE.Vector3((o+r)/2,(s+a)/2,1);m.unproject(O);var g=new THREE.Plane;g.setFromCoplanarPoints(l,h,f);var v=new THREE.Plane;v.setFromCoplanarPoints(p,c,f);var y=new THREE.Plane;y.setFromCoplanarPoints(c,l,f);var b=new THREE.Plane;b.setFromCoplanarPoints(h,p,f)}else{var f=new THREE.Vector3(o,s,0);f.unproject(O);var m=new THREE.Vector3(r,s,0);m.unproject(O);var w=new THREE.Vector3(o,a,0);w.unproject(O);var x=new THREE.Vector3(r,a,0);x.unproject(O);var g=new THREE.Plane;g.setFromCoplanarPoints(l,h,f);var v=new THREE.Plane;v.setFromCoplanarPoints(p,c,m);var y=new THREE.Plane;y.setFromCoplanarPoints(c,l,f);var b=new THREE.Plane;b.setFromCoplanarPoints(h,p,w)}var _=[g,v,y,b];if(console.log("frustum planes:",_),CTX.debugMesh){for(var C=CTX.debugMesh.geometry.attributes.position,T=[l,c,h,p,f,m],E=0,k=6;E<k;E++){var N=T[E];C.array[3*E]=N.x,C.array[3*E+1]=N.y,C.array[3*E+2]=N.z}C.needsUpdate=!0,CTX.debugMesh.visible=!0,console.log("debug mesh:",C.array)}for(var A=[],E=0,k=CTX.pickScene.children.length;E<k;E++){var R=CTX.pickScene.children[E];console.log("pick:",R);var X=R.partObject;switch(CTX.pickMode){case"PickSurfaces":if(X.surfaces)for(var D=0,I=X.surfaces.length;D<I;D++){var j=X.surfaces[D];d(_,j.box)&&A.push({object:j,index:D,pick:R})}if(X.elements)for(var D=0,I=X.elements.length;D<I;D++){var M=X.elements[D];u(_,M.center)&&A.push({object:M,index:D,pick:R})}break;case"PickEdges":if(X.edges)for(var D=0,I=X.edges.length;D<I;D++){var P=X.edges[D];u(_,P.center)&&A.push({object:P,index:D,pick:R})}break;case"PickNodes":if(X.nodes)for(var L=R.geometry.attributes.position.array,$=L.length/3,z=new THREE.Vector3,F=0,H=$;F<H;F++){var B=X.nodes[F];z.set(L[3*F],L[3*F+1],L[3*F+2]),u(_,z)&&A.push({object:B,index:F,pick:R})}}}console.log("intersects: ",A.length);for(var E=0,k=A.length;E<k;E++){var U=A[E].object,X=U.partObject;U.selected=!U.selected,CTX.setObjectFocused(U),CTX.updateItem(U,"select"),CTX.setSelectedObject(U)}}function p(){var e=$("#sidebar").is(":visible");e?(k="view",$(".navbar.navbar-fixed-top").hide(),$("#sidebar").hide()):(k="edit",$(".navbar.navbar-fixed-top").show(),$("#sidebar").show()),i()}function f(){var e=$("#treebar").is(":visible"),t=$("#SceneTreeButton");e?($("#treebar").hide(),t.removeClass("active")):($("#treebar").show(),t.addClass("active")),i()}extendThreeJS();var m=navigator.userAgent.toLowerCase();"Netscape"==navigator.appName&&m.indexOf("trident")!=-1||m.indexOf("msie")!=-1?CTX.isIE=!0:CTX.isIE=!1,circle=new ProgressBar.Circle("#circle-bar",{color:"#F2CB61",strokeWidth:10,trailWidth:3,duration:100}),circle.setText("0%");var g=CTX.initView,v={};if(URLSearchParams){var y=new URLSearchParams(window.location.search.slice(1));if(y){var b=y.get("url"),w=y.get("position");if(w){console.log("param position",w);var x=w.split(/\s*,\s*/).map(Number);x.length>=3&&(g.position=x)}var _=y.get("target");if(_){console.log("param target",_);var C=_.split(/\s*,\s*/).map(Number);C.length>=3&&(g.target=C)}var T=y.get("points");T&&(console.log("param points",T),v.points="on"==T);var E=y.get("surfaces");E&&(console.log("param surfaces",E),v.surfaces="on"==E)}}var k="view";$(".navbar.navbar-fixed-top").hide(),$("#sidebar").hide(),k=b?"view":"edit",console.log("viewer mode",k),Detector.webgl||Detector.addGetWebGLMessage();var S,N,O,A,R,X,D,I,j,M=(new Uint8Array(4),new Uint8Array(36)),P=[1,1,1,1,3,1,1,1,1],L=(new THREE.Plane(new THREE.Vector3(0,(-1),0),.8),{x:new THREE.Plane(new THREE.Vector3((-1),0,0),.1),y:new THREE.Plane(new THREE.Vector3(0,(-1),0),.1),z:new THREE.Plane(new THREE.Vector3(0,0,(-1)),.1)}),z={x:!1,y:!1,z:!1},F=Object.freeze([]),H=CTX.visibilityEnable;v.hasOwnProperty("points")&&(H.points=v.points),v.hasOwnProperty("surfaces")&&(H.surfaces=v.surfaces);var B=$(".view-position"),U=$(".view-target");e(),o(),a(),r(),window.setCirclebar=function(e){var t=e.currentTarget&&e.currentTarget.responseURL||"",n=t.substr(t.lastIndexOf("/")+1),i=e.loaded||e.position,o=e.total||e.totalSize;if(0===o)return console.error("download total size 0: "+n),void(o=i);if(o){var r=i/o;circle.setText((100*r).toFixed(0)+"%"),r>=1?circle.set(r):circle.animate(r,function(){console.log("on anim finish:"+r)})}},CTX.setNormalObject=function(e){var t=e.plane;if(!t)return void console.error("cannot found plane info");if(!e.selected)return $(".normalInfoPanel").hide(),void(CTX.normalObject.visible=!1);console.log("plane",t);var n=CTX.normalObject;n.geometry.vertices=[],n.visible=!1;var i=t.center,o=t.normal,r=new THREE.Vector3;r.copy(o);var s=e.partObject.parent;if(!s)return void console.error("cannot found bdf mesh");var a=(new THREE.Box3).setFromObject(s),l=a.getSize(),c=Math.max(l.x,l.y,l.z);r.x*=.5*c,r.y*=.5*c,r.z*=.5*c;var d=new THREE.Vector3;return d.addVectors(i,r),console.log("plusVector",d),i&&o?(n.geometry.vertices.push(i,d),console.log("normal object vertices: ",n.geometry.vertices),n.geometry.verticesNeedUpdate=!0,n.visible=!0,$(".normalInfoPanel .normalInfoLabel .normal-name").text(e.name+"'s normal"),$(".normalInfoPanel .normalInfoLabel .normal-x").text(d.x),$(".normalInfoPanel .normalInfoLabel .normal-y").text(d.y),$(".normalInfoPanel .normalInfoLabel .normal-z").text(d.z),void $(".normalInfoPanel").show()):void console.error("cannot found center or normal")},CTX.setSelectedObject=function(e){if(e.selected)CTX.selectedObjects.push(e);else{var t=(e.name,CTX.selectedObjects.indexOf(e));CTX.selectedObjects.splice(t,1)}},CTX.setObjectFocused=function(e){var t=e.partObject;e.editType==CTX.EditType.VOLUME?t.applyVolume(e):t.applyObjectState(e),e.selected&&(CTX.currPartObj=t)},CTX.updateItem=function(e,t){var n=CTX.sceneTree,i=e.nodeId;if("select"===t){var o=e.selected,r=n.getNodeById(i);if(!r){if("PickVolumes"!==CTX.pickMode)return void CTX.setLabel("Wrong Object Selected");r=n.getNodeById(e.partObject.parent.nodeId)}if(r.state.selected=o,r.state.selected)CTX.selectedNodes.push(r);else{CTX.selectedNodes.indexOf(r);CTX.selectedNodes.splice(r,1)}n.updateNode(r,{},{shallowRendering:!0})}else if("focus"===t){var s=e.focused,r=n.getNodeById(i);r&&(s?$("#treeview").find("div[data-id="+i+"] .infinite-tree-title").addClass("infinite-tree-focused"):$("#treeview").find("div[data-id="+i+"] .infinite-tree-title").removeClass("infinite-tree-focused"))}n.update()},CTX.updateItemQuick=function(e,t){var n=CTX.sceneTree,i=e.nodeId,o=n.getNodeById(i);if(o)if("select"===t){var r=e.selected;o.visible=e.visible,r?(o.state.selected=!0,CTX.selectedNodes.push(o)):o.state.selected=!1,n.updateNode(o,{},{shallowRendering:!0})}else if("focus"===t){var s=e.focused;o.state.focused=s,s?$("#treeview").find("div[data-id="+i+"] .infinite-tree-title").addClass("infinite-tree-focused"):$("#treeview").find("div[data-id="+i+"] .infinite-tree-title").removeClass("infinite-tree-focused")}};var W=(new THREE.Vector3(0,0,.5),new THREE.Vector3),V=new THREE.Vector3,q=Math.floor;CTX.createSurfacesEditable=function(e){if(e instanceof THREE.Mesh){var t=e.surfaces;if(t){var n=e.geometry,i=e.material,o=t.length,r=o,s=1,a=R.capabilities.maxTextureSize;o>a&&(r=a,s=Math.ceil(o/a),console.warn("tex size: "+r+"x"+s," = ",r*s," > ",o));for(var l,c,d,u=n.faceVertexUvs[0],h=0,p=t.length;h<p;h++){l=t[h];for(var c=h%r/(r-1),d=s>1?q(h/r)/(s-1):0,f=l.faceStart,m=l.faceStart+l.faceCount;f<m;f++)u[f]=[new THREE.Vector2(c,d),new THREE.Vector2(c,d),new THREE.Vector2(c,d)];l.selected=!1,l.focused=!1,l.visible=!0,l.editType=CTX.EditType.SURFACE}var g=r*s,v=new Array(4*g);v.fill(128);var y=new Uint8Array(v),b=new THREE.DataTexture(y,r,s,THREE.RGBAFormat);b.generateMipmaps=!1,b.needsUpdate=!0;for(var w=new Array(4*g),x=0,_=g;x<_;x++)w[4*x]=0,w[4*x+1]=0,w[4*x+2]=0,w[4*x+3]=255;var C=new Uint8Array(w),T=new THREE.DataTexture(C,r,s,THREE.RGBAFormat);T.generateMipmaps=!1,T.needsUpdate=!0,e.pickMaterial=CTX.createPickMaterial(i,b),e.defaultMaterial=CTX.createSelectMaterial(i,T),e.material=e.defaultMaterial}}},CTX.createElementsEditable=function(e){if(e instanceof THREE.Mesh){var t=e.elements;if(t){var n=e.geometry,i=e.material,o=n.attributes.position,r=o.array.length/3,s=new Float32Array(2*r),a=t.length,l=a,c=1,d=R.capabilities.maxTextureSize;a>d&&(l=d,c=Math.ceil(a/d),console.warn("tex size: "+l+"x"+c," = ",l*c," > ",a));for(var a=t.length,u=0;u<a;u++){for(var h=u%l/(l-1),p=c>1?q(u/l)/(c-1):0,f=t[u],m=f.vertexStart,g=f.vertexStart+f.vertexCount;m<g;m++)s[2*m]=h,s[2*m+1]=p;f.name="Element-"+(u+1),f.selected=!1,f.focused=!1,f.visible=!0,f.editType=CTX.EditType.ELEMENT}n.addAttribute("uv",new THREE.BufferAttribute(s,2));var v=l*c,y=new Array(4*v);y.fill(128);var b=new Uint8Array(y),w=new THREE.DataTexture(b,l,c,THREE.RGBAFormat);w.generateMipmaps=!1,w.needsUpdate=!0;for(var x=new Array(4*v),_=0,C=v;_<C;_++)x[4*_]=0,x[4*_+1]=0,x[4*_+2]=0,x[4*_+3]=255;var T=new Uint8Array(x),E=new THREE.DataTexture(T,l,c,THREE.RGBAFormat);E.generateMipmaps=!1,E.needsUpdate=!0,e.pickMaterial=CTX.createPickMaterial(i,w),e.defaultMaterial=CTX.createSelectMaterial(i,E),e.material=e.defaultMaterial}}},CTX.createEdgesEditable=function(e){if(e instanceof THREE.LineSegments){var t=e.edges;if(t){var n=e.geometry,i=e.material,o=n.attributes.position,r=o.array.length/3,s=new Float32Array(2*r),a=t.length,l=a,c=1,d=R.capabilities.maxTextureSize;a>d&&(l=d,c=Math.ceil(a/d),console.warn("tex size: "+l+"x"+c," = ",l*c," > ",a));for(var u=0;u<a;u++){for(var h=u%l/(l-1),p=c>1?q(u/l)/(c-1):0,f=t[u],m=f.vertexStart,g=f.vertexStart+f.vertexCount;m<g;m++)s[2*m]=h,s[2*m+1]=p;f.name="Edge-"+(u+1),f.selected=!1,f.focused=!1,f.visible=!0,f.editType=CTX.EditType.EDGE}n.addAttribute("uv",new THREE.BufferAttribute(s,2));var v=l*c,y=new Array(4*v);y.fill(128);var b=new Uint8Array(y),w=new THREE.DataTexture(b,l,c,THREE.RGBAFormat);w.generateMipmaps=!1,w.needsUpdate=!0;for(var x=new Array(4*v),_=0,C=v;_<C;_++)x[4*_]=0,x[4*_+1]=0,x[4*_+2]=0,x[4*_+3]=255;var T=new Uint8Array(x),E=new THREE.DataTexture(T,l,c,THREE.RGBAFormat);E.generateMipmaps=!1,E.needsUpdate=!0,e.pickMaterial=CTX.createPickMaterial(i,w),e.defaultMaterial=CTX.createSelectMaterial_Point(i,E),e.material=e.defaultMaterial}}else if(e instanceof THREE.Line){for(var n=e.geometry,i=e.material,k=n.attributes.position.array,S=k.length/3,s=new Float32Array(2*S),u=(new THREE.Color,0);u<S;u++){s[2*u]=u/parseFloat(S-1),s[2*u+1]=0}n.addAttribute("uv",new THREE.BufferAttribute(s,2));var y=new Array(4*S);y.fill(128);var b=new Uint8Array(y),w=new THREE.DataTexture(b,S,1,THREE.RGBAFormat);w.generateMipmaps=!1,w.needsUpdate=!0;for(var x=new Array(4*S),_=0,C=v;_<C;_++)x[4*_]=0,x[4*_+1]=0,x[4*_+2]=0,x[4*_+3]=255;var T=new Uint8Array(x),E=new THREE.DataTexture(T,S,1,THREE.RGBAFormat);E.generateMipmaps=!1,E.needsUpdate=!0,e.pickMaterial=CTX.createPickMaterial(i,w),e.defaultMaterial=CTX.createSelectMaterial_Point(i,E),e.material=e.defaultMaterial}},CTX.createNodesEditable=function(e){if(e instanceof THREE.Points){var t=e.geometry,n=e.material,i=e.nodes;if(i){var t=e.geometry,n=e.material,o=t.attributes.position,r=o.array.length/3,s=new Float32Array(2*r),a=i.length,l=a,c=1,d=R.capabilities.maxTextureSize;a>d&&(l=d,c=Math.ceil(a/d),console.warn("tex size: "+l+"x"+c," = ",l*c," > ",a));for(var u=0;u<a;u++){for(var h=u%l/(l-1),p=c>1?q(u/l)/(c-1):0,f=i[u],m=f.vertexStart,g=f.vertexStart+f.vertexCount;m<g;m++)s[2*m]=h,s[2*m+1]=p;f.name="Node-"+(u+1),f.selected=!1,f.focused=!1,f.visible=!0,f.editType=CTX.EditType.NODE}t.addAttribute("uv",new THREE.BufferAttribute(s,2));var v=l*c,y=new Array(4*v);y.fill(128);var b=new Uint8Array(y),w=new THREE.DataTexture(b,l,c,THREE.RGBAFormat);w.generateMipmaps=!1,w.needsUpdate=!0;for(var x=new Array(4*v),_=0,C=v;_<C;_++)x[4*_]=0,x[4*_+1]=0,x[4*_+2]=0,x[4*_+3]=255;var T=new Uint8Array(x),E=new THREE.DataTexture(T,l,c,THREE.RGBAFormat);E.generateMipmaps=!1,E.needsUpdate=!0,e.pickMaterial=CTX.createPickMaterial(n,w),e.defaultMaterial=CTX.createSelectMaterial_Point(n,E),e.material=e.defaultMaterial}}},CTX.createConstraintsEditable=function(e){if(e instanceof THREE.Points){var t=e.geometry,n=e.material,i=e.constraints;if(i){var t=e.geometry,n=e.material,o=t.attributes.position,r=o.array.length/3,s=new Float32Array(2*r),a=i.length,l=a,c=1,d=R.capabilities.maxTextureSize;a>d&&(l=d,c=Math.ceil(a/d),console.warn("tex size: "+l+"x"+c," = ",l*c," > ",a));for(var u=0;u<a;u++){for(var h=u%l/(l-1),p=c>1?q(u/l)/(c-1):0,f=i[u],m=f.vertexStart,g=f.vertexStart+f.vertexCount;m<g;m++)s[2*m]=h,s[2*m+1]=p;f.selected=!1,f.focused=!1,f.visible=!0,f.editType=CTX.EditType.NODE}t.addAttribute("uv",new THREE.BufferAttribute(s,2));var v=l*c,y=new Array(4*v);y.fill(128);var b=new Uint8Array(y),w=new THREE.DataTexture(b,l,c,THREE.RGBAFormat);w.generateMipmaps=!1,w.needsUpdate=!0;for(var x=new Array(4*v),_=0,C=v;_<C;_++)x[4*_]=0,x[4*_+1]=0,x[4*_+2]=0,x[4*_+3]=255;var T=new Uint8Array(x),E=new THREE.DataTexture(T,l,c,THREE.RGBAFormat);E.generateMipmaps=!1,E.needsUpdate=!0,e.pickMaterial=CTX.createPickMaterial(n,w),e.defaultMaterial=CTX.createSelectMaterial_Point(n,E),e.material=e.defaultMaterial}}},CTX.createPickMaterial=function(e,t){var n=e.color.clone(),i=["uniform vec3 color;","varying vec3 vColor;","varying vec2 vUv;","void main() {","vColor = color;","vUv = uv;","vec4 pos = modelViewMatrix * vec4( position, 1.0 );","vec4 clip = projectionMatrix * pos;","gl_PointSize = 4.0;","gl_Position = vec4(clip.xyz, clip.w);","}"].join("\n"),o=["uniform sampler2D map;","varying vec3 vColor;","varying vec2 vUv;","uniform vec3 colors[4];","void main() {","vec4 \ttexelColor = texture2D(map, vUv);","float \ttexelAlpha = texelColor.a;","if (texelAlpha == 0.0) discard;","gl_FragColor = texelColor;","}"].join("\n"),r=new THREE.ShaderMaterial({uniforms:{color:{type:"c",value:n},map:{type:"t",value:t}},vertexShader:i,fragmentShader:o,name:"pickShaderMaterial"});return r.color=n,r.map=t,r},CTX.createSelectMaterial=function(e,t){e.map=t;var n=!0;return e instanceof THREE.LineBasicMaterial&&(n=!1),e.onBeforeCompile=function(e){e.uniforms.time={value:0},e.map={type:"t",value:t},e.vertexShader="uniform float time;\n"+e.vertexShader,e.vertexShader=e.vertexShader.replace("#include <begin_vertex>",["vec3 transformed = vec3( position );"].join("\n")),e.fragmentShader=["uniform vec3 colors[4];","vec3 getColor(int id) {","    if (id == 0) return vec3(0.5, 0.5, 0.5);","    if (id == 1) return vec3(1.0, 0.0, 0.0);","    if (id == 2) return vec3(0.0, 0.0, 1.0);","    if (id == 3) return vec3(1.0, 0.0, 1.0);","    return vec3(0.5, 0.5, 0.5);","}",""].join("\n")+e.fragmentShader,e.fragmentShader=e.fragmentShader.replace("#include <map_fragment>",["vec4 \ttexelColor = texture2D(map, vUv);","float\ttexelCode = texelColor.r * 255.0;","float \ttexelAlpha = texelColor.a;",n?"if (texelAlpha == 0.0) discard;":"diffuseColor.a = texelColor.a;","int \tselCode = int(texelCode);","float \tcolorMul = 1.0 - clamp(texelCode, 0.0, 1.0);","diffuseColor.rgb = diffuseColor.rgb * colorMul + getColor(selCode) * (1.0 - colorMul);"].join("\n"))},e},CTX.createSelectMaterial_Point=function(e,t){var n=e.color.clone(),i=e.vertexColors==THREE.VertexColors,o=["varying vec3 vColor;","varying vec2 vUv;","void main() {","vColor = color;","vUv = uv;","vec4 pos = modelViewMatrix * vec4( position, 1.0 );","vec4 clip = projectionMatrix * pos;","gl_PointSize = 4.0;","gl_Position = vec4(clip.xyz, clip.w);","}"].join("\n");i||(o="uniform vec3 color;\n"+o);var r=["uniform sampler2D map;","varying vec3 vColor;","varying vec2 vUv;","uniform vec3 colors[4];","vec3 getColor(int id) {","    for (int i=0; i<4; i++) {","        if (i == id) return colors[i];","    }","    return colors[0];","}","void main() {","vec4 \ttexelColor = texture2D(map, vUv);","float\ttexelCode = texelColor.r * 255.0;","int \tselCode = int(texelCode);","float \tcolorMul = 1.0 - clamp(texelCode, 0.0, 1.0);","float \ttexelAlpha = texelColor.a;","if (texelAlpha == 0.0) discard;","vec3   resultColor = vColor * colorMul + getColor(selCode) * (1.0 - colorMul);","gl_FragColor = vec4(resultColor, texelAlpha);","}"].join("\n"),s=new THREE.ShaderMaterial({uniforms:{color:{type:"c",value:n},map:{type:"t",value:t},colors:{type:"v3v",value:[new THREE.Vector3(.5,.5,.5),new THREE.Vector3(1,0,0),new THREE.Vector3(0,0,1),new THREE.Vector3(1,0,1)]}},vertexShader:o,fragmentShader:r,vertexColors:e.vertexColors,name:"selectShaderMaterial"});return s.color=n,s.map=t,s}}),window.URLSearchParams=window.URLSearchParams||function(e){var t=[],n={},i=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16)})},o=function(e,i){n[e]||(n[e]=[]),n[e].push(t.push({key:e,val:i})-1)};return e&&e.split("&").forEach(function(e){return o.apply(null,e.split("="))}),{has:function(e){return!!n[e]},append:o,"delete":function(e){n[e]&&(t=t.filter(function(t){return t.key!==e}),delete n[e])},get:function(e){return n[e]?t[n[e][0]].val:null},getAll:function(e){return n[e]?n[e].map(function(e){return t[e].val}):[]},set:function(e,i){if(!n[e])return void o(e,i);if(1===n[e].length)return void(t[n[e][0]].val=i);var r=t,s=!0;t=[],n={},r.forEach(function(t){return t.key!==e?void o(t.key,t.val):void(s&&(o(t.key,i),s=!1))})},toString:function(){return t.map(function(e){return e.key+"="+i(e.val)}).join("&")}}},CTX.getSceneInfo=getSceneInfo,CTX.changeSceneMode=function(e){var t=CTX.sceneTree,n=t.getRootNode().children,i=n[0],o=n[1];if("geometry"===e)i&&!i.state.open&&t.openNode(i),o&&o.state.open&&t.closeNode(o),CTX.setCameraView(CTX.geometry),CTX.geometry.visible=!0,CTX.mesh.visible=!1;else{if("mesh"!==e)return void console.error("select mode first");o&&!o.state.open&&t.openNode(o),i&&i.state.open&&t.closeNode(i),CTX.setCameraView(CTX.mesh),CTX.geometry.visible=!1,CTX.mesh.visible=!0}},CTX.setCameraView=function(e){var t=(new THREE.Box3).setFromObject(e),n=t.getSize(),i=t.getCenter(),o=i.clone(),r=Math.max(n.x,n.y,n.z);CTX.sceneRadius=r,o.z+=2*CTX.sceneRadius,CTX.camera.far=10*CTX.sceneRadius,CTX.camera.position.copy(o),CTX.controls.target.copy(i),CTX.camera.updateProjectionMatrix(),CTX.camera.setOrthoSize(2*CTX.sceneRadius)},CTX.setCameraToTopoNode=function(e){if(e){var t=CTX.camera,n=CTX.controls,i=e.center;if(i||(i=e.bbox.getCenter()),i){console.log("center:",i);var o=i.clone(),r=o.distanceTo(t.position),s=.5*r;o.addScaledVector(t.getWorldDirection(),-s),n.target.copy(i),CTX.camera.far=10*s,CTX.camera.position.copy(o),CTX.controls.target.copy(i),CTX.camera.updateProjectionMatrix(),CTX.camera.setOrthoSize(2*s)}}},CTX.makeEntitySet=makeEntitySet,CTX.disposeNode=function(e){e.traverse(function(e){e instanceof THREE.Mesh?(console.log("dispose geom"),e.geometry&&e.geometry.dispose(),e.material&&(e.material instanceof THREE.MeshFaceMaterial||e.material instanceof THREE.MultiMaterial?e.material.materials.forEach(function(e,t){e.map&&e.map.dispose(),e.lightMap&&e.lightMap.dispose(),e.bumpMap&&e.bumpMap.dispose(),e.normalMap&&e.normalMap.dispose(),e.specularMap&&e.specularMap.dispose(),e.envMap&&e.envMap.dispose(),e.dispose()}):(e.material.map&&e.material.map.dispose(),e.material.lightMap&&e.material.lightMap.dispose(),e.material.bumpMap&&e.material.bumpMap.dispose(),e.material.normalMap&&e.material.normalMap.dispose(),e.material.specularMap&&e.material.specularMap.dispose(),e.material.envMap&&e.material.envMap.dispose(),e.material.dispose()))):e instanceof THREE.Sprite&&(console.log("dispose sprite"),e.material&&(e.material.map&&e.material.map.dispose(),e.material.dispose()),e.geometry&&e.geometry.dispose())})},CTX.unselectAllObjects=function(){var e=CTX.currPartObj,t=CTX.pickMode,n=[],i=CTX.treeNodeMap,o=e.nodeId||i[e.name]||e.parent.nodeId,r=CTX.sceneTree,s=r.getNodeById(o);if(e){if("PickSurfaces"===t)n=e.surfaces||e.topoData.surfaces;else if("PickEdges"===t)n=e.edges||e.topoData.edges;else if("PickNodes"===t)n=e.topoData?e.topoData.constraints||e.topoData.nodes:e.constraints||e.nodes;else{if("PickVolumes"!==t)return void console.error("select pick mode");n=e.volumes||e.parent.topoData.volumes||e.topoData.volumes}for(var a=0;a<n.length;++a){var l=n[a];l.selected=!1,CTX.setObjectFocused(l),CTX.setSelectedObject(l)}if("PickVolumes"===t)s.state.selected=!1,r.updateNode(s,{},{shallowRendering:!1}),r.update();else{for(var c=s.getChildren(),a=0;a<c.length;++a){var d=c[a];d.state.selected=!1,r.updateNode(d,{},{shallowRendering:!1})}r.update()}}},CTX.selectAllObjects=function(){var e=CTX.currPartObj,t=CTX.pickMode,n=[],i=CTX.treeNodeMap,o=e.nodeId||i[e.name]||e.parent.nodeId,r=CTX.sceneTree,s=r.getNodeById(o);if(e){if("PickSurfaces"===t)n=e.surfaces||e.topoData.surfaces;else if("PickEdges"===t)n=e.edges||e.topoData.edges;else if("PickNodes"===t)n=e.topoData?e.topoData.constraints||e.topoData.nodes:e.constraints||e.nodes;else{if("PickVolumes"!==t)return void console.error("select pick mode");n=e.volume||e.volumes||e.topoData.volumes}for(var a=0;a<n.length;++a){var l=n[a];l.selected=!0,CTX.setObjectFocused(l),CTX.setSelectedObject(l)}if("PickVolumes"===t)s.state.selected=!0,r.updateNode(s,{},{shallowRendering:!0}),r.update();else{for(var c=s.getChildren(),a=0;a<c.length;++a){var d=c[a];d.state.selected=!0,r.updateNode(d,{},{shallowRendering:!0})}r.update()}}},CTX.controlSelection=function(e){if(e.length>0){var t=CTX.sceneTree;e.forEach(function(e){var n=e.partObject,i=e.nodeId,o=t.getNodeById(i);e.editType==CTX.EditType.VOLUME?(console.log("apply volume"),n.applyVolume(e)):n.applyObjectState(e),o&&(o.state.selected=e.selected,t.updateNode(o,{},{shallowRendering:!0}))}),t.update()}},CTX.toggleVisibleSelection=function(e){if(!(e.length>0))return void console.error("Select faces first.");for(var t=CTX.sceneTree,n=0;n<e.length;++n){var i=e[n],o=i.partObject,r=i.nodeId,s=t.getNodeById(r);if(!o)return;i.visible=!i.visible,i.selected=!1,i.editType==CTX.EditType.VOLUME?o.applyVolume(i):o.applyObjectState(i),s&&(s.state.selected=!1,s.visible=i.visible,t.updateNode(s,{},{shallowRendering:!0}))}t.update(),CTX.selectedObjects=[]},CTX.changeCameraMode=function(e){var t=CTX.camera;"ORTHOGRAPHIC"===e?t.toOrthographic(!1):"PERSPECTIVE"===e&&t.toPerspective(!1)},CTX.changeRenderMode=function(e){var t=e.indexOf("SURFACES")>-1,n=e.indexOf("WIREFRAME")>-1;CTX.geometry.traverse(function(e){e instanceof THREE.Mesh?(e.visible=t,n?e.material.polygonOffset=!0:e.material.polygonOffset=!1):e instanceof THREE.LineSegments&&(e.visible=n)}),CTX.mesh.traverse(function(e){e instanceof THREE.Mesh?(e.visible=t,n?e.material.polygonOffset=!0:e.material.polygonOffset=!1):e instanceof THREE.LineSegments&&(e.visible=n)})},CTX.changePickMode=function(e){for(var t=(CTX.pickScene,CTX.pickObjects),n=(CTX.currentGeo,0),i=t.length;n<i;n++){var o=t[n];o.selected=!1,CTX.setSelectedObject(o),CTX.setObjectFocused(o)}t.length=0;for(var r,n=CTX.pickScene.children.length-1;n>=0;n--)r=CTX.pickScene.children[n],CTX.pickScene.remove(r);CTX.pickMode=e,e.indexOf("Volumes")>-1?CTX.scene.traverse(function(e){if(e.volume){console.log("volume found:",e.name);var n=e.volume.partObject;n.setVolumesPickId(t);var i=new THREE.Mesh;CTX.pickScene.add(i),i.partObject=n,i.geometry=n.geometry,i.material=n.pickMaterial,i.applyMatrix(n.matrixWorld)}}):e.indexOf("Surfaces")>-1?CTX.scene.traverse(function(e){if(e.surfaces){console.log("surfaces found:",e.name),e.setSurfacesPickId(t);var n=new THREE.Mesh;CTX.pickScene.add(n),n.partObject=e,n.geometry=e.geometry,n.material=e.pickMaterial,n.applyMatrix(e.matrixWorld)}else if(e.elements){console.log("elements found:",e.name),e.setElementsPickId(t);var n=new THREE.Mesh;CTX.pickScene.add(n),n.partObject=e,n.geometry=e.geometry,n.material=e.pickMaterial,n.applyMatrix(e.matrixWorld)}}):e.indexOf("Edges")>-1?CTX.scene.traverse(function(e){if(e.edges){if(console.log("edges found:",e.name),e instanceof THREE.LineSegments){e.setEdgesPickId(t);var n=new THREE.LineSegments}CTX.pickScene.add(n),n.name=e.name+"-pick",n.partObject=e,n.geometry=e.geometry,n.material=e.pickMaterial,n.applyMatrix(e.matrixWorld)}}):e.indexOf("Nodes")>-1&&CTX.scene.traverse(function(e){if(e.nodes||e.constraints){console.log("points found:",e.name),e.setPointsPickId(t);var n=new THREE.Points;CTX.pickScene.add(n),n.partObject=e,n.geometry=e.geometry,n.material=e.pickMaterial,n.applyMatrix(e.matrixWorld)}}),$(".pick-mode-group a").each(function(){$(this).removeClass("active")}),"PickVolumes"===e?$(".volumes-icon").addClass("active"):"PickSurfaces"===e?$(".faces-icon").addClass("active"):"PickEdges"===e?$(".edges-icon").addClass("active"):"PickNodes"===e&&$(".nodes-icon").addClass("active")},CTX.changeBoxSelectionMode=function(e){1==e?(CTX.inBoxSelection=!0,CTX.controls.enabled=!1,$("#BoxSelectButton").attr("title","Deactive box selection&#10;Shortcut: 'b'"),$("#BoxSelectButton").addClass("active")):(CTX.inBoxSelection=!1,CTX.controls.enabled=!0,$("#BoxSelectButton").attr("title","Deactive box selection&#10;Shortcut: 'b'"),$("#BoxSelectButton").removeClass("active"),CTX.setDistLabel(""))},CTX.changeRulerSelectionMode=function(e){1==e?(CTX.inRulerSelection=!0,$("#RulerSelectButton").attr("title","Deactive ruler selection&#10;Shortcut: 'r'"),$("#RulerSelectButton").addClass("active")):(CTX.inRulerSelection=!1,$("#RulerSelectButton").attr("title","Active ruler selection&#10;Shortcut: 'r'"),$("#RulerSelectButton").removeClass("active"),CTX.twoPoints=[])},CTX.changeCrosshairSelectionMode=function(e){1==e?(CTX.inCrosshairSelection=!0,container.style.cursor="crosshair"):(CTX.inCrosshairSelection=!1,container.style.cursor="auto")},CTX.collectTopoNodes=function(){for(var e=[],t=CTX.pickMode,n=0,i=CTX.pickScene.children.length;n<i;n++){var o,r=CTX.pickScene.children[n].partObject;if("PickVolumes"===t?e.push(r.volume):"PickSurfaces"===t?o=r.surfaces||r.elements:"PickEdges"===t?o=r.edges:"PickNodes"===t&&(o=r.nodes||r.constraints),o)for(var s=0,a=o.length;s<a;s++){var l=o[s];e.push(l)}}return e},CTX.changeSelectionMode=function(e,t){if(t&&t.length>0){var n=[];if("selectAll"===e||"clearSelection"===e||"invertSelection"===e){var i="selectAll"===e;"selectAll"===e||"clearSelection"===e?t.forEach(function(e){e.selected=i}):"invertSelection"==e&&t.forEach(function(e){e.selected=!e.selected}),CTX.controlSelection(t)}else"hideSelection"===e||"invertVisibility"===e||"showAll"===e?(t.forEach(function(t){"hideSelection"===e?t.selected===!0&&t.visible===!0&&n.push(t):"invertVisibility"===e?n.push(t):"showAll"===e&&t.visible===!1&&n.push(t)}),CTX.toggleVisibleSelection(n)):console.error("Unsupported Command!!")}},CTX.removeObject=function(e,t){var n=null,i=null,o=CTX.treeNodeMap;t?(n=t.substring(t.lastIndexOf(".")+1,t.length),
i=t.substring(t.lastIndexOf("/")+1)):(n=e.substring(e.lastIndexOf(".")+1,e.length),i=e.substring(e.lastIndexOf("/")+1));CTX.scene;"obj"===n||"dat"===n?group=CTX.geometry:group=CTX.mesh;var r=group.getObjectByName(i);e===r.url?(CTX.disposeNode(r),group.remove(r)):r.name.indexOf(".zip")>-1&&(CTX.disposeNode(r),group.remove(r));var s=CTX.sceneTree,a=Number(r.nodeId),l=s.getNodeById(a);s.removeNode(l),delete o[t]},CTX.loadBlobData=function(e,t,n){var i=new Blob([n],{type:"application/octet-binary"}),o=window.URL.createObjectURL(i);return CTX.loadDataFromFile(o,t,e),o},CTX.getQueryVariable=function(e,t){for(var n=e.substring(1),i=n.split("&"),o=0;o<i.length;o++){var r=i[o].split("=");if(decodeURIComponent(r[0])==t)return decodeURIComponent(r[1])}},CTX.loadDataFromFile=function(e,t,n){function i(e){return"p2d"==e||"p3d"==e||"p2dfmt"==e||"p3dfmt"==e?m=new THREE.Plot3DLoader:"bdf"==e?m=new THREE.BDFLoader:"dat"==e?m=new THREE.DATLoader:"stl"==e?m=new THREE.STLLoader:"msh"==e?m=new THREE.MSHLoader:"obj"==e?(m=new THREE.OBJMTLLoader,m.debug=!0):m="wrl"==e?new THREE.VRMLLoader:null,m}console.dir(e);var o=CTX.scene,r=CTX.camera,s=CTX.controls,a=CTX.visibilityEnable;CTX.initView,CTX.initRender;$("#circle-bar").show();var l=function(){function e(e){if(e){var t=e.material;e instanceof THREE.Mesh?(t instanceof THREE.MeshLambertMaterial||t instanceof THREE.MeshPhongMaterial||t instanceof THREE.MeshStandardMaterial)&&(e.visible=a.surfaces):e instanceof THREE.LineSegments||e instanceof THREE.Line?t instanceof THREE.LineBasicMaterial&&(e.visible=a.lines):e instanceof THREE.Points&&t instanceof THREE.PointsMaterial&&(e.visible=a.points)}}var t=o,n=t.getObjectByName("geometry"),i=t.getObjectByName("mesh");n&&n.traverse(e),i&&i.traverse(e)};CTX.onMeshVisibilty=l;var c=CTX.getQueryVariable(e,"fileName");c||(c=e.substr(e.lastIndexOf("/")+1)),$("#circle-bar").show();var d="";d+="<div data-url='"+c+"'>",d+="<div>"+c+"</div>",d+="<div style='margin: 5px 0; border: 1px solid #5F00FF; width: 150px; height: 10px;'><div class='progress-status'></div></div>",d+="</div>",$(".loadingInfoPanel .file-list").append(d);var u=function(i){var a,c,d;t&&(a=t.split(".")[0],c=t.split(".")[1]),i.topoData&&console.log("Topology data: "+i.name,i.topoData),console.log("%curl:"+e,"color:green;"),i.traverse(function(e){e instanceof THREE.Mesh&&e.material instanceof THREE.MeshPhongMaterial&&console.log("phong")}),i.url=e,m._url?(console.log("url",m._url),e=m._url,i.url=m._url):_url=e,m.isZip&&(i.isZip=!0,i.zip_name=m.zip_name);var u=null;u=n?n.substr(n.lastIndexOf(".")+1):e.substr(e.lastIndexOf(".")+1);var h;if("obj"===u||"dat"===u){var p=null;p=n?n.substring(n.lastIndexOf("/")+1):e.substring(e.lastIndexOf("/")+1),i.name=p;var f=CTX.geometry;if("remove"===a||"reload"===a){var g=f.getObjectByName("loaded-mesh");if(g&&(CTX.disposeNode(g),f.remove(g)),"remove"===a)return}var v=!1;i.traverse(function(e){if(e.volume&&(e.volume.selected=!1,e.volume.focused=!1,e.volume.visible=!0,e.volume.editType=CTX.EditType.VOLUME),e.topoData&&(d=e),e instanceof THREE.Mesh){if(console.log("mesh",e.name),1==v){if(e.geometry instanceof THREE.BufferGeometry){console.log("converting buffer geometry to normal geometry for smoothing");var t=e.geometry;e.geometry=(new THREE.Geometry).fromBufferGeometry(t)}e.geometry.faces.length>0&&0==e.geometry.faces[0].vertexNormals.length&&(e.geometry.mergeVertices(),e.geometry.computeVertexNormalsByCreaseAngle(80))}e.material.polygonOffset=!0,e.material.polygonOffsetFactor=1,e.material.polygonOffsetUnits=1,CTX.createSurfacesEditable(e)}else e instanceof THREE.Line?CTX.createEdgesEditable(e):e instanceof THREE.Points&&(e.nodes&&CTX.createNodesEditable(e),e.constraints&&CTX.createConstraintsEditable(e))}),f.add(i),h=f,0===CTX.loadedFiles.length&&(CTX.currPartObj=d)}else if("bdf"===u||"msh"===u||"p3d"===u||"p2d"===u){var p=null;p=n?n.substring(n.lastIndexOf("/")+1):e.substring(e.lastIndexOf("/")+1),i.name=p,m._url&&(i.name=m._url.substr(m._url.lastIndexOf("/")+1));var y=CTX.mesh;if("remove"===a||"reload"===a){var g=f.getObjectByName("loaded-mesh");if(g&&(CTX.disposeNode(g),f.remove(g)),"remove"===a)return}if(i.traverse(function(e){e.volume&&(e.volume.selected=!1,e.volume.focused=!1,e.volume.visible=!0,e.volume.editType=CTX.EditType.VOLUME),e.topoData&&(d=e),e instanceof THREE.Mesh?(e.material.polygonOffset=!0,e.material.polygonOffsetFactor=1,e.material.polygonOffsetUnits=1,CTX.createElementsEditable(e)):e instanceof THREE.Line?CTX.createEdgesEditable(e):e instanceof THREE.Points&&(e.nodes&&CTX.createNodesEditable(e),e.constraints&&CTX.createConstraintsEditable(e))}),i.isZip){var b=y.getObjectByName(i.zip_name);b.add(i)}else y.add(i);h=y,0===CTX.loadedFiles.length&&(CTX.currPartObj=d)}else h=i;o.add(h),l(),CTX.setSceneTree(i),CTX.changePickMode("PickSurfaces");var w,x=CTX.geometry.children.length>0,_=CTX.mesh.children.length>0;x&&_?w=(new THREE.Box3).setFromObject(CTX.geometry):x&&!_?w=(new THREE.Box3).setFromObject(CTX.geometry):!x&&_&&(w=(new THREE.Box3).setFromObject(CTX.mesh));var C=w.getSize(),T=w.getCenter(),E=T.clone(),k=Math.max(C.x,C.y,C.z),S=CTX.prjSetting;console.log("scene size:",C," radius:",k),CTX.sceneRadius=k,E.z+=2*k,S&&(S.camera.position&&E.copy(S.camera.position),S.camera.center&&T.copy(S.camera.center)),r.position.copy(E),s.target.copy(T),CTX.camera.far=10*CTX.sceneRadius,CTX.camera.updateProjectionMatrix(),CTX.camera.setOrthoSize(2*CTX.sceneRadius),1===CTX.geometry.children.length&&(CTX.currGeo=CTX.geometry.children[0]);var N="";if(m.info){N+="size: "+m.info.fileSize+"<br/>",N+="blocks: "+m.info.blocks.length+"<br/>";for(var O=0;O<m.info.blocks.length;++O){var A=m.info.blocks[O];N+="\tblock["+O+"]: "+A.width+"x"+A.height+"x"+A.depth+"<br/>"}}else N+="size: 0<br/>",N+="blocks: 0<br/>";if($("#mesh-info").html(N),$("#circle-bar").hide(),$(".file-list").length>0&&setTimeout(function(){$(".file-list [data-url='"+p+"']").remove()},800),0===$(".file-list").children().length&&$(".loadingInfoPanel").empty(),CTX.prjFileList&&CTX.prjFileList.length>0&&CTX.prjFileList.splice(0,1),CTX.prjFileList&&0===CTX.prjFileList.length&&parent&&parent.sendEditorPortlet&&parent.sendEditorPortlet("project-loaded"),CTX.loadedFiles.length>0&&!CTX.currPartObj){var R=CTX.loadedFiles[0],X=R.substr(R.lastIndexOf("/")+1);i&&(i.topoData||i.children[0].topoData)&&i.name===X&&("obj"===u?CTX.currPartObj=i.children[0]:CTX.currPartObj=i)}},h=function(e){var t=e.target.responseURL;t||(t="");var n=CTX.getQueryVariable(t,"fileName");if(n||(n=t.substr(t.lastIndexOf("/")+1)),e.lengthComputable){var i=e.loaded/e.total,o=100*i;console.log(Math.round(o,2)+"% downloaded",e.loaded.toLocaleString()),$("#mesh-progress").text(Math.round(o,2)+"%"),n&&($(".file-list [data-url='"+n+"'] .progress-status").css("background","#5F00FF"),$(".file-list [data-url='"+n+"'] .progress-status").css("width",150*i+"px"),$(".file-list [data-url='"+n+"'] .progress-status").css("height","10px")),setCirclebar(e)}},p=function(e){},f=null;f=n?n.substr(n.lastIndexOf(".")+1):e.substr(e.lastIndexOf(".")+1);var m=i(f.toLowerCase());if("zip"==f){var c=null;n?c=n:(c=e.substring(e.lastIndexOf(".")),c=c.substring(c.lastIndexOf("/")+1).toLowerCase()),f=c.substr(c.lastIndexOf(".")+1),JSZipUtils.getBinaryContent(e,function(t,n){function o(e,t){e.then(function(e){console.timeEnd("opening zip entry");var n=e;m._url=s+"/"+t.name,m.isZip=!0,m.zip_name=r,u(m.parse(n))})}console.log("zip url",e);var r=e.substr(e.lastIndexOf("/")+1),s=e.substr(0,e.lastIndexOf("/")),a=CTX.getQueryVariable(e,"fileName");if(a&&(r=a),t)return void console.log("zip request err: ",t);try{JSZip.loadAsync(n).then(function(e){console.log("archive ZIP loaded");var t={},n=[];for(f in e.files){var s=f.substr(f.lastIndexOf(".")+1);"p2d"!==s&&"p3d"!==s||n.push(f)}var a=CTX.sceneTree,l=CTX.treeNodeMap,c={meshGroup:{}};if(c.meshGroup.name=[r],CTX.sceneTree){if(0===CTX.sceneTree.nodes.length)CTX.initSceneTree(c);else if(!l[r]){var d=a.getNodeById(l.Meshes),u={id:CTX.nodeIds.toString(),name:r,visible:!0};l[r]=CTX.nodeIds.toString(),CTX.nodeIds++,a.appendChildNode(u,d)}}else CTX.initSceneTree(c);var h=new THREE.Object3D;h.name=r,h.nodeId=CTX.treeNodeMap[r],h.nodeId||(h.nodeId=CTX.nodeIds.toString(),CTX.nodeIds++),CTX.mesh.add(h),console.log(e.files),console.log("entries",n);for(var p=0;p<n.length;++p){console.log("i",p);var f=n[p],g=f.substr(f.lastIndexOf("/")+1).toLowerCase();t[g]=e.files[f];var v=e.file(f);if(v){var y=v.name.substr(v.name.lastIndexOf(".")+1);if(m=i(y),null!==m){console.log("opening zip entry"),console.time("opening zip entry");var b=v.async("arraybuffer");o(b,v)}}else console.log("zip.file:"+f+" not found")}},function(e){console.error("zip load error:",e)})}catch(l){console.error("zip load error:",l)}})}else m?m.load(e,u,h,p):console.error("no loader found for '"+e+"'")},CTX.initSceneTree=function(e,t){function n(e,t){if(!(t<=0))for(var i,o=f.getChildNodes(e),r=0,s=o.length;r<s;r++)i=o[r],f.openNode(i),n(i,t-1)}var i,o,r=[],s=CTX.treeNodeMap;CTX.nodeIds=0,e.geometryGroup&&(i=e.geometryGroup.name,CTX.nodeIds+=1,r.push({id:CTX.nodeIds.toString(),name:"Geometries",visible:!0}),s.Geometries=CTX.nodeIds.toString(),CTX.geometry.nodeId=CTX.nodeIds.toString()),e.meshGroup&&(o=e.meshGroup.name,CTX.nodeIds+=1,r.push({id:CTX.nodeIds.toString(),name:"Meshes",visible:!0}),s.Meshes=CTX.nodeIds.toString(),CTX.mesh.nodeId=CTX.nodeIds.toString()),CTX.nodeIds+=1;var a=[],l=[];if(i&&i.length>0)for(var c=0;c<i.length;++c){var d=i[c];d=d.split("/"),d=d[d.length-1];var u={id:CTX.nodeIds.toString(),name:d,visible:!0};a.push(u),s[d]=u.id,CTX.nodeIds+=1}if(o&&o.length>0)for(var c=0;c<o.length;++c){var d=o[c];d=d.split("/"),d=d[d.length-1];var u={id:CTX.nodeIds.toString(),name:d,visible:!0};l.push(u),s[d]=u.id,CTX.nodeIds+=1}for(var h=0;h<r.length;++h){var p=r[h];"Geometries"===p.name?p.children=a:"Meshes"===p.name&&(p.children=l)}var f=new InfiniteTree({el:document.querySelector("#treeview"),rowRenderer:function(e,t){var n=e.state,i=n.depth,o="",r="",s='<a class="infinite-tree-toggler infinite-tree-toggler-closed"><i class="fa fa-plus-square-o"></i></a>',a='<a class="infinite-tree-toggler infinite-tree-toggler-closed"><i class="fa fa-minus-square-o"></i></a>',l="",c=0;o=n.open?a:s,0===e.children.length&&(o="&nbsp;",c=6),e.visible||(r="infinite-tree-unvisible"),n.selected&&(l="infinite-tree-selected");var d=["<div data-id="+JSON.stringify(e.id)+' class="infinite-tree-item" droppable="'+t.droppable+'">','   <div class="infinite-tree-node" style="margin-left: '+(18*i+c)+'px;">',o,'<span class="'+r+' infinite-tree-checker fa fa-eye"></span>','       <span class="'+r+" infinite-tree-title "+l+'">'+e.name+"</span>","   </div>","</div>"].join("\r\n");return d},data:r,selectable:!0,autoOpen:!1}),m=navigator.userAgent.toLowerCase();if("Netscape"==navigator.appName&&navigator.userAgent.search("Trident")!=-1||m.indexOf("msie")!=-1){var g=document.getElementsByClassName("infinite-tree-scroll");resizeHandlerPolyfill(g)}CTX.sceneTree=f,console.time("openTreeNodes"),n(f.getRootNode(),2),console.timeEnd("openTreeNodes"),CTX.selectedNodes=[],f.on("click",function(e){if($(e.target).hasClass("infinite-tree-title")!==!1){const t=f.getNodeFromPoint(e.clientX,e.clientY);if(t&&(0!==t.state.depth||t.hasChildren()!==!1)){if(!t.isPartObject&&t.hasChildren()){var n=f.state.selectedNode;return n&&(n.state.selected=!1,f.updateNode(f.state.selectedNode,{},{shallowRendering:!0})),t.state.selected?t.state.selected=!t.state.selected:t.state.selected=!0,f.state.selectedNode=t,void this.emit("selectNode",t)}var i=!0;if(t.hasChildren()&&(i=!1),!i)return CTX.selectedNodes.length>0&&(e.stopPropagation(),CTX.selectedNodes.forEach(function(e){e.state.selected=!1,f.updateNode(e,{},{shallowRendering:!0})}),CTX.selectedNodes=[]),f.state.selectedNode=t,t.state.selected=!t.state.selected,f.updateNode(t,{},{shallowRendering:!0}),f.update(),void this.emit("selectNode",t);e.stopPropagation();const o=f.getSelectedNode();0===CTX.selectedNodes.length&&o&&(CTX.selectedNodes.push(o),f.state.selectedNode=null);const r=CTX.selectedNodes.indexOf(t);if(r>=0&&CTX.selectedNodes.length>=1&&(t.state.selected=!1,CTX.selectedNodes.splice(r,1),f.updateNode(t,{},{shallowRendering:!0})),r<0&&(t.state.selected=!0,CTX.selectedNodes.push(t),f.updateNode(t,{},{shallowRendering:!0})),t.hasChildren()){var s=t.getChildren(),a=s.filter(function(e){return e.state.selected});if(a.length>0)for(var l=0;l<s.length;++l){var c=s[l];c.state.selected=!1,f.updateNode(c,{},{shallowRendering:!0})}}this.emit("selectNode",t),f.update()}}}),f.multiSelectNode=function(e){const t=f.getSelectedNode();0===selectedNodes.length&&t&&(selectedNodes.push(t),f.state.selectedNode=null);const n=selectedNodes.indexOf(e);n>=0&&selectedNodes.length>1&&(e.state.selected=!1,selectedNodes.splice(n,1),f.updateNode(e,{},{shallowRendering:!0})),n<0&&(e.state.selected=!0,selectedNodes.push(e),f.updateNode(e,{},{shallowRendering:!0}))},f.on("doubleClick",function(e){}),f.on("contentWillUpdate",function(){}),f.on("contentDidUpdate",function(){}),f.on("openNode",function(e){console.log("openNode",e)}),f.on("closeNode",function(e){}),f.on("selectNode",function(e){if(e){void 0==e.state.selected&&(e.state.selected=!1,console.warn("node state 'selected' not exists"));var t=(CTX.scene,CTX.pickMode,e.state.selected),n=(e.name,t);if(e.hasChildren()===!1){var i=e.parent;i.state.selected&&(i.state.selected=!1,f.updateNode(i,{},{shallowRendering:!0}));var o=e.topoNode,r=o.editType;r===CTX.EditType.SURFACE?CTX.changePickMode("PickSurfaces"):r===CTX.EditType.EDGE?CTX.changePickMode("PickEdges"):r===CTX.EditType.NODE&&CTX.changePickMode("PickNodes"),o.selected=n,CTX.setObjectFocused(o),"SPC1"===o.type&&CTX.setNormalObject(o),n&&CTX.selectedObjects.push(o)}else if(0===e.state.depth){var s=e.name;"Geometries"===s?CTX.changeSceneMode("geometry"):"Meshes"===s&&CTX.changeSceneMode("mesh")}else if(CTX.changePickMode("PickVolumes"),e.topoData&&e.topoData.volumes){console.log("topoData",e.topoData);for(var a=0,l=e.topoData.volumes.length;a<l;a++){var c=e.topoData.volumes[a];c.selected=t;var d=c.partObject;d&&d.applyVolume(c)}if(t){var u=e.getChildren()[0],h=u.topoNode.editType;h===CTX.EditType.SURFACE?CTX.selectedObjects=e.topoData.surfaces:h===CTX.EditType.EDGE?CTX.selectedObjects=e.topoData.edges:h===CTX.EditType.NODE&&(CTX.selectedObjects=e.topoData.constraints||e.topoData.surfaces)}}f.updateNode(e,{},{shallowRendering:!0}),f.update()}}),f.on("willOpenNode",function(e){}),f.on("willCloseNode",function(e){}),f.on("willSelectNode",function(e){})},CTX.setSceneTree=function(e){function t(e){var n=e.name||"empty",i=CTX.treeNodeMap,o={id:i[n]||CTX.nodeIds.toString(),name:n,visible:e.visible||!1},r=[];if(i[n]?e.nodeId=i[n]:e.nodeId=CTX.nodeIds.toString(),CTX.nodeIds++,e.topoData){if(o.topoData=e.topoData,e.topoData.edges&&e.topoData.edges.forEach(function(e){var n=t(e);n.topoNode=e,e.nodeId=n.id,r.push(n)}),e.topoData.elements&&(o.isPartObject=!0),e.topoData.constraints)for(var s=e.topoData.constraints,a=0,l=s.length;a<l;a++){var c=s[a];if(c){var d=t(c);d.topoNode=c,c.nodeId=d.id,r.push(d)}}}else e.children&&e.children.forEach(function(e){var n=t(e);e.nodeId=n.id,r.push(n)});return r.length>0&&(o.children=r),o}function n(e){var t={id:CTX.nodeIds.toString(),name:e.name||"empty",visible:e.visible||!1};r[s]?e.nodeId=r[s]:e.nodeId=CTX.nodeIds.toString(),CTX.nodeIds++;var i=[];return e.topoData?(t.topoData=e.topoData,t.threeObj=e,e.topoData.surfaces?(e.topoData.surfaces.forEach(function(e){var t=n(e);t.topoNode=e,e.nodeId=t.id,i.push(t)}),t.isPartObject=!0):e.topoData.edges&&(e.topoData.edges.forEach(function(e){var t=n(e);t.topoNode=e,e.nodeId=t.id,i.push(t)}),t.isPartObject=!0)):e.children&&e.children.forEach(function(e){var t=n(e);e.nodeId=t.id,i.push(t)}),i.length>0&&(t.children=i),t}var i=[],o=CTX.sceneTree,r=CTX.treeNodeMap,s=e.name||"empty",a=r[s],l=(e.url,e.url.substr(-3));"geometry"===e.parent.name?i.push(n(e)):i.push(t(e)),console.log("sceneList",i);var c=o.getNodeById(a);if(console.log("node",c),!c){a="obj"===l||"dat"===l?r.Geometries:e.zip_name?r[e.zip_name]:r.Meshes,c=o.getNodeById(a);var d=i[0];return void o.appendChildNode(d,c)}if(i.length>0){var d=i[0];c.topoData=d.topoData;var u=d.children;o.addChildNodes(u,0,c)}},CTX.loadProjectFromJson=function(e){console.log("[viewer.js] start loadProjectFromJson");var t=JSON.parse(e);CTX.prjSetting=t,CTX.initSceneTree(t);var n=t.geometryGroup.url,i=t.geometryGroup.name,o=t.meshGroup.url,r=t.meshGroup.name;CTX.loadedFiles=[].concat(n).concat(o),CTX.prjFileList=[].concat(n).concat(o);for(var s=null,a=null,l=0;l<n.length;l++)s=n[l],a=i[l],CTX.loadDataFromFile(s,"add.geometry",a);for(var l=0;l<o.length;l++)s=o[l],a=r[l],a.indexOf(".zip")>-1&&(a=""),CTX.loadDataFromFile(s,"add.mesh",a);0==n.length&&0==o.length&&parent&&parent.sendEditorPortlet&&parent.sendEditorPortlet("project-loaded")},CTX.loadProjectFromFile=function(e){$.ajax({url:e,type:"get",cache:!1,success:function(e){console.log(e);var t=JSON.parse(e);CTX.prjSetting=t,CTX.initSceneTree(t);var n=t.geometryGroup.url,i=t.meshGroup.url;CTX.loadedFiles=[].concat(n).concat(i),n.forEach(function(e){CTX.loadDataFromFile(e)}),i.forEach(function(e){CTX.loadDataFromFile(e)})}})},CTX.setLabel=function(e){var t=$(".EntityNameLabel");t.text(e)},CTX.setDistLabel=function(e){var t=$(".distLabel");t.text(e)};